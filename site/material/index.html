


<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lehrmaterial, Übungen, Aufgaben und Hilfen für WebTech">
      
      
        <link rel="canonical" href="http://freiheit.f4.htw-berlin.de/webtech/material/">
      
      
        <meta name="author" content="Jörn Freiheit">
      
      <link rel="shortcut icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.1">
    
    
      
        <title>Material - WebTech</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a676eddb.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.b302131d.min.css">
      
      
        
        
        <meta name="theme-color" content="#757575">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="" data-md-color-primary="grey" data-md-color-accent="indigo">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#material-fur-angular" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="">
    <a href="http://freiheit.f4.htw-berlin.de/webtech" title="WebTech" class="md-header-nav__button md-logo" aria-label="WebTech">
      
  <img src="../img/fiw.jpg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            WebTech
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Material
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suchbegriff eingeben
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/jfreiheit/webtech/" title="Quellcode" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    webtech
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
          

<nav class="md-tabs" aria-label="" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." class="md-tabs__link md-tabs__link--active">
        Home
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="http://freiheit.f4.htw-berlin.de/webtech" title="WebTech" class="md-nav__button md-logo" aria-label="WebTech">
      
  <img src="../img/fiw.jpg" alt="logo">

    </a>
    WebTech
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/jfreiheit/webtech/" title="Quellcode" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    webtech
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../uebungen/" title="Übungen" class="md-nav__link">
      Übungen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tools/" title="Werkzeuge" class="md-nav__link">
      Werkzeuge
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../html/" title="HTML" class="md-nav__link">
      HTML
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../css/" title="CSS" class="md-nav__link">
      CSS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rwd/" title="RWD" class="md-nav__link">
      RWD
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../javascript/" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../json/" title="JSON" class="md-nav__link">
      JSON
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../angular/" title="Angular" class="md-nav__link">
      Angular
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Material
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Material" class="md-nav__link md-nav__link--active">
      Material
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#material-schematics" class="md-nav__link">
    Material Schematics
  </a>
  
    <nav class="md-nav" aria-label="Material Schematics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table" class="md-nav__link">
    Table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routing" class="md-nav__link">
    Routing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    Service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datenmodell" class="md-nav__link">
    Datenmodell
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parametrisierte-routen" class="md-nav__link">
    Parametrisierte Routen
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../backend/" title="REST-API" class="md-nav__link">
      REST-API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../backendanbindung/" title="Frontend-Backend-Anbindung" class="md-nav__link">
      Frontend-Backend-Anbindung
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../jwt/" title="JWT" class="md-nav__link">
      JWT
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../node/" title="Node.js" class="md-nav__link">
      Node.js
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../books/" title="Bücher-App" class="md-nav__link">
      Bücher-App
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../books-backend/" title="Bücher-Backend" class="md-nav__link">
      Bücher-Backend
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#material-schematics" class="md-nav__link">
    Material Schematics
  </a>
  
    <nav class="md-nav" aria-label="Material Schematics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table" class="md-nav__link">
    Table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#routing" class="md-nav__link">
    Routing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service" class="md-nav__link">
    Service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datenmodell" class="md-nav__link">
    Datenmodell
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parametrisierte-routen" class="md-nav__link">
    Parametrisierte Routen
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jfreiheit/webtech/edit/master/docs/material.md" title="Seite editieren" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="material-fur-angular">Material für Angular<a class="headerlink" href="#material-fur-angular" title="Permanent link">&para;</a></h1>
<p>Wir haben für unser <code>frontend</code> in <a href="../uebungen/#ubungen">Übung 6</a> bereits <a href="https://material.angular.io/">Material</a> als CSS-Framework verwendet und wollen dieses hier näher untersuchen, um Angular unter Zuhilfenahme von Material besser kennenzulernen. Zunächst nochmal, wie man einer existierenden Anwendung Material hinzufügt:</p>
<div class="highlight"><pre><span></span><code>ng add @angular/material
</code></pre></div>

<p>In der <code>angular.json</code> werden dann unter <code>"projects"--&gt;"architect"--&gt;"build"</code> und unter <code>"projects"--&gt;"architect"--&gt;"test"</code> die <code>"styles"</code> wie folgt konfiguriert:</p>
<div class="highlight"><pre><span></span><code><span class="s2">&quot;styles&quot;</span><span class="err">:</span> <span class="p">[</span>
  <span class="s2">&quot;./node_modules/@angular/material/prebuilt-themes/indigo-pink.css&quot;</span><span class="p">,</span>
  <span class="s2">&quot;src/styles.css&quot;</span>
<span class="p">]</span><span class="err">,</span>
</code></pre></div>

<p>Dabei hängt es jedoch davon ab, welches <code>prebuilt-theme</code> Sie gewählt haben. Es gibt diese vier vorgefertigten Themen:</p>
<ul>
<li><code>deeppurple-amber.css</code></li>
<li><code>indigo-pink.css</code></li>
<li><code>pink-bluegrey.css</code></li>
<li><code>purple-green.css</code></li>
</ul>
<p>Einen Überblick über die unterschiedlichen Komponenten, die Material bereitstellt, finden Sie <a href="https://material.angular.io/components/categories">hier</a>. Wir werden einige davon im folgenden verwenden. </p>
<h2 id="material-schematics">Material Schematics<a class="headerlink" href="#material-schematics" title="Permanent link">&para;</a></h2>
<p>Ein großer Vorteil von Material ist, dass dieses Framework bereits sogenannte <a href="https://material.angular.io/guide/schematics"><em>Schematics</em></a> liefert, welche vorgefertigte Komponenten erstellen können. In Übung 6 haben wir bereits das Schema <code>navigation</code>verwendet. Wir setzen auf die <a href="https://github.com/jfreiheit/frontend2.git">Lösung von Übung 6</a> auf. </p>
<p>Wir betrachten zunächst nochmal den aktuellen Stand dieser Lösung. Die <code>app.component.html</code> sah so aus (je, nachdem, wie Sie Ihren Projekt-Prefix gewählt haben - hier <code>jf</code>):</p>
<div class="tabbed-set" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">/src/app/app.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">jf-nav</span><span class="p">&gt;&lt;/</span><span class="nt">jf-nav</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Tis is app<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">mat-slider</span> <span class="na">min</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">max</span><span class="o">=</span><span class="s">&quot;100&quot;</span> <span class="na">step</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">mat-slider</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">router-outlet</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>
</code></pre></div>

</div>
</div>
<p>Es wird also zunächst die Navigationskomponente eingebunden und dann kommen noch eine Überschrift und ein Slider. In der Anwendung sieht man aber diese Sachen nicht mehr:</p>
<p><img alt="uebung6" src="../files/81_uebung6.png" /></p>
<p>Das liegt daran, dass wir unsere Inhalte nun in die Navigationskomponente einfügen müssen. Die App-Komponente enthält nur noch den Komponentenselektor für die Navigationskomponente:</p>
<div class="tabbed-set" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">/src/app/app.component.html</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">jf-nav</span><span class="p">&gt;&lt;/</span><span class="nt">jf-nav</span><span class="p">&gt;</span>
</code></pre></div>

</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><label for="__tabbed_2_2">/src/app/nav/nav.component.html</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">mat-sidenav-container</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sidenav-container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">mat-sidenav</span> <span class="err">#</span><span class="na">drawer</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sidenav&quot;</span> <span class="na">fixedInViewport</span>
      <span class="err">[</span><span class="na">attr</span><span class="err">.</span><span class="na">role</span><span class="err">]=&quot;(</span><span class="na">isHandset</span><span class="err">$</span> <span class="err">|</span> <span class="na">async</span><span class="err">)</span> <span class="err">?</span> <span class="err">&#39;</span><span class="na">dialog</span><span class="err">&#39;</span> <span class="na">:</span> <span class="err">&#39;</span><span class="na">navigation</span><span class="err">&#39;&quot;</span>
      <span class="err">[</span><span class="na">mode</span><span class="err">]=&quot;(</span><span class="na">isHandset</span><span class="err">$</span> <span class="err">|</span> <span class="na">async</span><span class="err">)</span> <span class="err">?</span> <span class="err">&#39;</span><span class="na">over</span><span class="err">&#39;</span> <span class="na">:</span> <span class="err">&#39;</span><span class="na">side</span><span class="err">&#39;&quot;</span>
      <span class="err">[</span><span class="na">opened</span><span class="err">]=&quot;(</span><span class="na">isHandset</span><span class="err">$</span> <span class="err">|</span> <span class="na">async</span><span class="err">)</span> <span class="err">===</span> <span class="na">false</span><span class="err">&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>Menu<span class="p">&lt;/</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-nav-list</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">mat-list-item</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>Link 1<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">mat-list-item</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>Link 2<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">mat-list-item</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>Link 3<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">mat-nav-list</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">mat-sidenav</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">mat-sidenav-content</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-toolbar</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span>
        <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Toggle sidenav&quot;</span>
        <span class="na">mat-icon-button</span>
        <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">drawer</span><span class="err">.</span><span class="na">toggle</span><span class="err">()&quot;</span>
        <span class="err">*</span><span class="na">ngIf</span><span class="o">=</span><span class="s">&quot;isHandset$ | async&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">mat-icon</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Side nav toggle icon&quot;</span><span class="p">&gt;</span>menu<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>Frontend<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>
<span class="hll">    <span class="c">&lt;!-- Add Content Here --&gt;</span>
</span><span class="hll">
</span><span class="hll">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Tis is nav-Content<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span><span class="hll">    <span class="p">&lt;</span><span class="nt">mat-slider</span> <span class="na">min</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">max</span><span class="o">=</span><span class="s">&quot;100&quot;</span> <span class="na">step</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">mat-slider</span><span class="p">&gt;</span>
</span><span class="hll">    <span class="p">&lt;</span><span class="nt">router-outlet</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>
</span><span class="hll">
</span><span class="hll">    <span class="c">&lt;!-- end of nav-Content --&gt;</span>
</span>  <span class="p">&lt;/</span><span class="nt">mat-sidenav-content</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">mat-sidenav-container</span><span class="p">&gt;</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Das ist dann auch sichtbar:</p>
<p><img alt="Frontend" src="../files/87_frontend.png" /></p>
<p>Ehe wir uns mit dem Routing beschäftigen, erstellen wir zunächst noch zwei weitere Komponenten.</p>
<h3 id="table">Table<a class="headerlink" href="#table" title="Permanent link">&para;</a></h3>
<p>Ein weiteres Schema, das wir verwenden wollen, ist das <code>table</code>-Schema von Material. In unserem Ordner <code>frontend2</code> rufen wir
<div class="highlight"><pre><span></span><code>ng generate @angular/material:table table
</code></pre></div></p>
<p>Um diese Komponente zu testen, binden wir sie zunächst in unsere <code>nav</code>-Komponente ein (Beachten Sie, dass Ihr Prefix anders ist).</p>
<div class="tabbed-set" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><label for="__tabbed_3_1">/src/app/nav/nav.component.html</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">mat-sidenav-container</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sidenav-container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">mat-sidenav</span> <span class="err">#</span><span class="na">drawer</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;sidenav&quot;</span> <span class="na">fixedInViewport</span>
      <span class="err">[</span><span class="na">attr</span><span class="err">.</span><span class="na">role</span><span class="err">]=&quot;(</span><span class="na">isHandset</span><span class="err">$</span> <span class="err">|</span> <span class="na">async</span><span class="err">)</span> <span class="err">?</span> <span class="err">&#39;</span><span class="na">dialog</span><span class="err">&#39;</span> <span class="na">:</span> <span class="err">&#39;</span><span class="na">navigation</span><span class="err">&#39;&quot;</span>
      <span class="err">[</span><span class="na">mode</span><span class="err">]=&quot;(</span><span class="na">isHandset</span><span class="err">$</span> <span class="err">|</span> <span class="na">async</span><span class="err">)</span> <span class="err">?</span> <span class="err">&#39;</span><span class="na">over</span><span class="err">&#39;</span> <span class="na">:</span> <span class="err">&#39;</span><span class="na">side</span><span class="err">&#39;&quot;</span>
      <span class="err">[</span><span class="na">opened</span><span class="err">]=&quot;(</span><span class="na">isHandset</span><span class="err">$</span> <span class="err">|</span> <span class="na">async</span><span class="err">)</span> <span class="err">===</span> <span class="na">false</span><span class="err">&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>Menu<span class="p">&lt;/</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-nav-list</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">mat-list-item</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>Link 1<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">mat-list-item</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>Link 2<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">a</span> <span class="na">mat-list-item</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>Link 3<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">mat-nav-list</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">mat-sidenav</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">mat-sidenav-content</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-toolbar</span> <span class="na">color</span><span class="o">=</span><span class="s">&quot;primary&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span>
        <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Toggle sidenav&quot;</span>
        <span class="na">mat-icon-button</span>
        <span class="err">(</span><span class="na">click</span><span class="err">)=&quot;</span><span class="na">drawer</span><span class="err">.</span><span class="na">toggle</span><span class="err">()&quot;</span>
        <span class="err">*</span><span class="na">ngIf</span><span class="o">=</span><span class="s">&quot;isHandset$ | async&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">mat-icon</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Side nav toggle icon&quot;</span><span class="p">&gt;</span>menu<span class="p">&lt;/</span><span class="nt">mat-icon</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>Frontend<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">mat-toolbar</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- Add Content Here --&gt;</span>

    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Tis is nav-Content<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-slider</span> <span class="na">min</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">max</span><span class="o">=</span><span class="s">&quot;100&quot;</span> <span class="na">step</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">mat-slider</span><span class="p">&gt;</span>
<span class="hll">    <span class="p">&lt;</span><span class="nt">jf-table</span><span class="p">&gt;&lt;/</span><span class="nt">jf-table</span><span class="p">&gt;</span>
</span>    <span class="p">&lt;</span><span class="nt">router-outlet</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>

    <span class="c">&lt;!-- end of nav-Content --&gt;</span>
  <span class="p">&lt;/</span><span class="nt">mat-sidenav-content</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">mat-sidenav-container</span><span class="p">&gt;</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Die Tabelle erscheint so:</p>
<p><img alt="Frontend" src="../files/88_frontend.png" /></p>
<p>Wir ändern die Tabelle und fügen eigene Daten ein, um uns mit der Komponente vertraut zu machen. Wir öffnen <code>src/app/table/table-datasource.ts</code>. Je nach verwendeter Angular-Version sehen einige von Ihnen, dass diese Datei Fehler enthält. Die Funktionen sind rot unterstrichen. Das liegt daran, dass nun auch Funktionen typisiert werden müssen. Wir fügen die Rückgabetypen für die Funktionen deshalb zunächst ein:</p>
<div class="tabbed-set" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><label for="__tabbed_4_1">src/app/table/table-datasource.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">DataSource</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/cdk/collections&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatPaginator</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/paginator&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatSort</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/sort&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">map</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs/operators&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Observable</span><span class="p">,</span> <span class="k">of</span> <span class="nx">as</span> <span class="nx">observableOf</span><span class="p">,</span> <span class="nx">merge</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span>

<span class="c1">// TODO: Replace this with your own data model type</span>
<span class="kr">export</span> <span class="kr">interface</span> <span class="nx">TableItem</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nx">id</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// TODO: replace this with real data from your application</span>
<span class="kr">const</span> <span class="nx">EXAMPLE_DATA</span><span class="o">:</span> <span class="nx">TableItem</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Hydrogen&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Helium&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Lithium&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Beryllium&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Boron&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Carbon&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Nitrogen&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">8</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Oxygen&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">9</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Fluorine&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Neon&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">11</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Sodium&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Magnesium&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">13</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Aluminum&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">14</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Silicon&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">15</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Phosphorus&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">16</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Sulfur&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">17</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Chlorine&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">18</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Argon&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">19</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Potassium&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Calcium&#39;</span><span class="p">},</span>
<span class="p">];</span>

<span class="cm">/**</span>
<span class="cm"> * Data source for the Table view. This class should</span>
<span class="cm"> * encapsulate all logic for fetching and manipulating the displayed data</span>
<span class="cm"> * (including sorting, pagination, and filtering).</span>
<span class="cm"> */</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">TableDataSource</span> <span class="kr">extends</span> <span class="nx">DataSource</span><span class="o">&lt;</span><span class="nx">TableItem</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">TableItem</span><span class="p">[]</span> <span class="o">=</span> <span class="nx">EXAMPLE_DATA</span><span class="p">;</span>
  <span class="nx">paginator</span><span class="o">:</span> <span class="nx">MatPaginator</span><span class="p">;</span>
  <span class="nx">sort</span><span class="o">:</span> <span class="nx">MatSort</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * Connect this data source to the table. The table will only update when</span>
<span class="cm">   * the returned stream emits new items.</span>
<span class="cm">   * @returns A stream of the items to be rendered.</span>
<span class="cm">   */</span>
  <span class="nx">connect</span><span class="p">()</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">TableItem</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="c1">// Combine everything that affects the rendered data into one update</span>
    <span class="c1">// stream for the data-table to consume.</span>
    <span class="kr">const</span> <span class="nx">dataMutations</span> <span class="o">=</span> <span class="p">[</span>
      <span class="nx">observableOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">),</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">.</span><span class="nx">page</span><span class="p">,</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">sortChange</span>
    <span class="p">];</span>

    <span class="k">return</span> <span class="nx">merge</span><span class="p">(...</span><span class="nx">dataMutations</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">map</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPagedData</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getSortedData</span><span class="p">([...</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">]));</span>
    <span class="p">}));</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   *  Called when the table is being destroyed. Use this function, to clean up</span>
<span class="cm">   * any open connections or free any held resources that were set up during connect.</span>
<span class="cm">   */</span>
<span class="hll">  <span class="nx">disconnect</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{}</span>
</span>
  <span class="cm">/**</span>
<span class="cm">   * Paginate the data (client-side). If you&#39;re using server-side pagination,</span>
<span class="cm">   * this would be replaced by requesting the appropriate data from the server.</span>
<span class="cm">   */</span>
<span class="hll">  <span class="kr">private</span> <span class="nx">getPagedData</span><span class="p">(</span><span class="nx">data</span><span class="o">:</span> <span class="nx">TableItem</span><span class="p">[])</span><span class="o">:</span> <span class="nx">TableItem</span><span class="p">[]</span> <span class="p">{</span>
</span>    <span class="kr">const</span> <span class="nx">startIndex</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">.</span><span class="nx">pageIndex</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">.</span><span class="nx">pageSize</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">startIndex</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">.</span><span class="nx">pageSize</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * Sort the data (client-side). If you&#39;re using server-side sorting,</span>
<span class="cm">   * this would be replaced by requesting the appropriate data from the server.</span>
<span class="cm">   */</span>
<span class="hll">  <span class="kr">private</span> <span class="nx">getSortedData</span><span class="p">(</span><span class="nx">data</span><span class="o">:</span> <span class="nx">TableItem</span><span class="p">[])</span><span class="o">:</span> <span class="nx">TableItem</span><span class="p">[]</span> <span class="p">{</span>
</span>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">active</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">direction</span> <span class="o">===</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">isAsc</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">direction</span> <span class="o">===</span> <span class="s1">&#39;asc&#39;</span><span class="p">;</span>
      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">active</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s1">&#39;name&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">case</span> <span class="s1">&#39;id&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">default</span><span class="o">:</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/** Simple sort comparator for example ID/Name columns (for client-side sorting). */</span>
<span class="hll"><span class="kd">function</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="o">:</span> <span class="nx">string</span> <span class="o">|</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="nx">string</span> <span class="o">|</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">isAsc</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span><span class="o">:</span> <span class="nx">number</span> <span class="p">{</span>
</span>  <span class="k">return</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&lt;</span> <span class="nx">b</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">isAsc</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Wir werden die Komponente nun dahingehend ändern, dass unsere Mockup-Daten aus den vorherigen Übungen dargestellt werden, also diese hier:</p>
<details><summary>mockup-data aus den vorherigen Übungen</summary><div class="highlight"><pre><span></span><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">1,</span>
    <span class="err">forename:</span> <span class="err">&#39;Catherine&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Williams&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;cwilliamsl@360.cn&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">2,</span>
    <span class="err">forename:</span> <span class="err">&#39;Adam&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Anderson&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;aanderson8@google.fr&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">3,</span>
    <span class="err">forename:</span> <span class="err">&#39;Susan&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Andrews&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;sandrewsn@google.co.jp&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">4,</span>
    <span class="err">forename:</span> <span class="err">&#39;Catherine&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Andrews&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;candrewsp@noaa.gov&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">5,</span>
    <span class="err">forename:</span> <span class="err">&#39;Alan&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Bradley&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;abradley1c@globo.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">6,</span>
    <span class="err">forename:</span> <span class="err">&#39;Anne&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Brooks&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;abrooks16@bravesites.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">7,</span>
    <span class="err">forename:</span> <span class="err">&#39;Russell&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Brown&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;rbrownq@nifty.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">8,</span>
    <span class="err">forename:</span> <span class="err">&#39;Ryan&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Burton&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;rburton18@foxnews.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">9,</span>
    <span class="err">forename:</span> <span class="err">&#39;Roy&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Campbell&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;rcampbell1@geocities.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">10,</span>
    <span class="err">forename:</span> <span class="err">&#39;Russell&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Campbell&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;rcampbell17@eventbrite.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">11,</span>
    <span class="err">forename:</span> <span class="err">&#39;Bonnie&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Coleman&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;bcoleman11@fc2.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">12,</span>
    <span class="err">forename:</span> <span class="err">&#39;Ernest&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Coleman&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;ecoleman15@businessweek.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">13,</span>
    <span class="err">forename:</span> <span class="err">&#39;Richard&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Cruz&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;rcruz7@unc.edu&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">14,</span>
    <span class="err">forename:</span> <span class="err">&#39;Sean&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Cruz&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;scruz10@answers.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">15,</span>
    <span class="err">forename:</span> <span class="err">&#39;Rebecca&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Cunningham&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;rcunninghamd@mac.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">16,</span>
    <span class="err">forename:</span> <span class="err">&#39;Margaret&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Evans&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;mevansh@pcworld.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">17,</span>
    <span class="err">forename:</span> <span class="err">&#39;Jeffrey&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Ford&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;jford14@cnet.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">18,</span>
    <span class="err">forename:</span> <span class="err">&#39;Andrea&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Gardner&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;agardnerv@woothemes.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">19,</span>
    <span class="err">forename:</span> <span class="err">&#39;Deborah&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;George&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;dgeorge6@furl.net&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">20,</span>
    <span class="err">forename:</span> <span class="err">&#39;Sean&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Gibson&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;sgibsony@alexa.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">21,</span>
    <span class="err">forename:</span> <span class="err">&#39;Virginia&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Graham&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;vgrahamk@aol.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">22,</span>
    <span class="err">forename:</span> <span class="err">&#39;Steven&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Hamilton&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;shamiltonu@state.tx.us&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">23,</span>
    <span class="err">forename:</span> <span class="err">&#39;Virginia&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Hawkins&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;vhawkinsf@ehow.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">24,</span>
    <span class="err">forename:</span> <span class="err">&#39;Edward&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Hicks&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;ehicksc@pcworld.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">25,</span>
    <span class="err">forename:</span> <span class="err">&#39;Mark&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Johnson&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;mjohnsonj@hostgator.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">26,</span>
    <span class="err">forename:</span> <span class="err">&#39;Ruth&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Jordan&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;rjordan1a@smugmug.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">27,</span>
    <span class="err">forename:</span> <span class="err">&#39;Antonio&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Kim&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;akim4@odnoklassniki.ru&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">28,</span>
    <span class="err">forename:</span> <span class="err">&#39;Jennifer&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Marshall&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;jmarshallt@gnu.org&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">29,</span>
    <span class="err">forename:</span> <span class="err">&#39;Eric&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Matthews&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;ematthews5@independent.co.uk&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">30,</span>
    <span class="err">forename:</span> <span class="err">&#39;Raymond&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Mcdonald&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;rmcdonald2@ihg.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">31,</span>
    <span class="err">forename:</span> <span class="err">&#39;Eric&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Miller&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;emillere@creativecommons.org&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">32,</span>
    <span class="err">forename:</span> <span class="err">&#39;Jonathan&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Morales&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;jmoralesa@ovh.net&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">33,</span>
    <span class="err">forename:</span> <span class="err">&#39;Marie&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Morgan&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;mmorganb@cloudflare.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">34,</span>
    <span class="err">forename:</span> <span class="err">&#39;Amanda&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Nelson&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;anelson13@indiatimes.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">35,</span>
    <span class="err">forename:</span> <span class="err">&#39;Lisa&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Olson&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;lolsonr@telegraph.co.uk&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">36,</span>
    <span class="err">forename:</span> <span class="err">&#39;Alice&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Ortiz&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;aortizw@histats.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">37,</span>
    <span class="err">forename:</span> <span class="err">&#39;Peter&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Phillips&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;pphillipss@1688.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">38,</span>
    <span class="err">forename:</span> <span class="err">&#39;Matthew&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Porter&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;mporter9@europa.eu&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">39,</span>
    <span class="err">forename:</span> <span class="err">&#39;Tammy&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Ray&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;trayx@weather.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">40,</span>
    <span class="err">forename:</span> <span class="err">&#39;Mark&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Richardson&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;mrichardson1d@ihg.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">41,</span>
    <span class="err">forename:</span> <span class="err">&#39;Joan&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Roberts&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;jroberts12@alibaba.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">42,</span>
    <span class="err">forename:</span> <span class="err">&#39;Kathleen&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Rose&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;kroseg@pinterest.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">43,</span>
    <span class="err">forename:</span> <span class="err">&#39;Steve&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Sanders&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;ssanders1b@wikispaces.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">44,</span>
    <span class="err">forename:</span> <span class="err">&#39;Shirley&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Scott&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;sscottm@macromedia.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">45,</span>
    <span class="err">forename:</span> <span class="err">&#39;Lillian&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Stephens&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;lstephens19@hugedomains.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">46,</span>
    <span class="err">forename:</span> <span class="err">&#39;Nicole&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Thompson&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;nthompson3@admin.ch&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">47,</span>
    <span class="err">forename:</span> <span class="err">&#39;Marie&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Thompson&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;mthompsonz@yelp.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">48,</span>
    <span class="err">forename:</span> <span class="err">&#39;Alan&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Vasquez&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;avasquezo@miibeian.gov.cn&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">49,</span>
    <span class="err">forename:</span> <span class="err">&#39;Mildred&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Watkins&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;mwatkins0@miibeian.gov.cn&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="err">id:</span> <span class="err">50,</span>
    <span class="err">forename:</span> <span class="err">&#39;Eugene&#39;,</span>
    <span class="err">surname:</span> <span class="err">&#39;Williams&#39;,</span>
    <span class="err">email:</span> <span class="err">&#39;ewilliamsi@deliciousdays.com&#39;</span>
  <span class="p">}</span>
<span class="p">]</span><span class="err">;</span>
</code></pre></div>

</details>
<p>Ersetzen Sie das <code>EXAMPLE_DATA</code>-Array in <code>table-datasource.ts</code> durch obiges Array. Das Ersetzen der Arrays führt zu vielen Fehlern in <code>table-datasource.ts</code>. Insbesondere sind z.B. die <code>forename</code>-Eigenschaften rot unterstrichen. Das liegt daran, dass das <code>interface TableItem</code> nicht mit dem Datenmodell der Mockup-Daten übereinstimmt. Wir müssen also das Interface wie folgt anpassen:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// TODO: Replace this with your own data model type</span>
<span class="kr">export</span> <span class="kr">interface</span> <span class="nx">TableItem</span> <span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nx">forename</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nx">surname</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nx">email</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Jetzt stimmt die Sortiermethode <code>sort()</code> nicht mehr, da dort auf die Eigenschaft <code>name</code> zugegriffen wird, diese Eigenschaft aber nicht mehr existiert. Wir passen also die Sortierfunktion entsprechend an:</p>
<div class="highlight"><pre><span></span><code>  <span class="kr">private</span> <span class="nx">getSortedData</span><span class="p">(</span><span class="nx">data</span><span class="o">:</span> <span class="nx">TableItem</span><span class="p">[])</span><span class="o">:</span> <span class="nx">TableItem</span><span class="p">[]</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">active</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">direction</span> <span class="o">===</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">isAsc</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">direction</span> <span class="o">===</span> <span class="s1">&#39;asc&#39;</span><span class="p">;</span>
      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">active</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s1">&#39;forename&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">forename</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">forename</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">case</span> <span class="s1">&#39;surname&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">surname</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">surname</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">case</span> <span class="s1">&#39;email&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">case</span> <span class="s1">&#39;id&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">default</span><span class="o">:</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>
</code></pre></div>

<p>Die Datei <code>table-datasource.ts</code> sollte nun fehlerfrei sein. Nun passen wir noch die <code>table.component.html</code> an. In ihr sind derzeit zwei Spalten für die Tabelle definiert, die <code>id</code>-Spalte und die <code>name</code>-Spalte (jeweils unter den entsprechenden HTML-Kommentaren). Kopieren Sie die <code>name</code>-Spalte und fügern Sie sie zwei Mal in die <code>table.component.html</code> ein. Passen Sie die Einträge entsprechend an. Die <code>table.component.html</code> sollte dann so aussehen:</p>
<div class="tabbed-set" data-tabs="5:1"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><label for="__tabbed_5_1">src/app/table/table.component.html</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mat-elevation-z8&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">table</span> <span class="na">mat-table</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;full-width-table&quot;</span> <span class="na">matSort</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Elements&quot;</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- Id Column --&gt;</span>
    <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;id&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">th</span> <span class="na">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span> <span class="na">mat-sort-header</span><span class="p">&gt;</span>Id<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">td</span> <span class="na">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let row&quot;</span><span class="p">&gt;</span>{{row.id}}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>

<span class="hll">    <span class="c">&lt;!-- forename Column --&gt;</span>
</span><span class="hll">    <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;forename&quot;</span><span class="p">&gt;</span>
</span><span class="hll">      <span class="p">&lt;</span><span class="nt">th</span> <span class="na">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span> <span class="na">mat-sort-header</span><span class="p">&gt;</span>Vorname<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span><span class="hll">      <span class="p">&lt;</span><span class="nt">td</span> <span class="na">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let row&quot;</span><span class="p">&gt;</span>{{row.forename}}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span><span class="hll">    <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>
</span>
<span class="hll">    <span class="c">&lt;!-- surname Column --&gt;</span>
</span><span class="hll">    <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;surname&quot;</span><span class="p">&gt;</span>
</span><span class="hll">      <span class="p">&lt;</span><span class="nt">th</span> <span class="na">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span> <span class="na">mat-sort-header</span><span class="p">&gt;</span>Nachname<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span><span class="hll">      <span class="p">&lt;</span><span class="nt">td</span> <span class="na">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let row&quot;</span><span class="p">&gt;</span>{{row.surname}}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span><span class="hll">    <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>
</span>
<span class="hll">    <span class="c">&lt;!-- email Column --&gt;</span>
</span><span class="hll">    <span class="p">&lt;</span><span class="nt">ng-container</span> <span class="na">matColumnDef</span><span class="o">=</span><span class="s">&quot;email&quot;</span><span class="p">&gt;</span>
</span><span class="hll">      <span class="p">&lt;</span><span class="nt">th</span> <span class="na">mat-header-cell</span> <span class="err">*</span><span class="na">matHeaderCellDef</span> <span class="na">mat-sort-header</span><span class="p">&gt;</span>E-Mail-Adresse<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span><span class="hll">      <span class="p">&lt;</span><span class="nt">td</span> <span class="na">mat-cell</span> <span class="err">*</span><span class="na">matCellDef</span><span class="o">=</span><span class="s">&quot;let row&quot;</span><span class="p">&gt;</span>{{row.email}}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span><span class="hll">    <span class="p">&lt;/</span><span class="nt">ng-container</span><span class="p">&gt;</span>
</span>
    <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">mat-header-row</span> <span class="err">*</span><span class="na">matHeaderRowDef</span><span class="o">=</span><span class="s">&quot;displayedColumns&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">tr</span> <span class="na">mat-row</span> <span class="err">*</span><span class="na">matRowDef</span><span class="o">=</span><span class="s">&quot;let row; columns: displayedColumns;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">table</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">mat-paginator</span> <span class="err">#</span><span class="na">paginator</span>
      <span class="err">[</span><span class="na">length</span><span class="err">]=&quot;</span><span class="na">dataSource</span><span class="err">?.</span><span class="na">data</span><span class="err">.</span><span class="na">length</span><span class="err">&quot;</span>
      <span class="err">[</span><span class="na">pageIndex</span><span class="err">]=&quot;</span><span class="na">0</span><span class="err">&quot;</span>
      <span class="err">[</span><span class="na">pageSize</span><span class="err">]=&quot;</span><span class="na">50</span><span class="err">&quot;</span>
      <span class="err">[</span><span class="na">pageSizeOptions</span><span class="err">]=&quot;[</span><span class="na">25</span><span class="err">,</span> <span class="na">50</span><span class="err">,</span> <span class="na">100</span><span class="err">,</span> <span class="na">250</span><span class="err">]&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">mat-paginator</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Nun passen wir nur noch die <code>table.componen.ts</code> an. Dort müssen wir mitteilen, welche Eigenschaften unseres Datensatzes für die einzelnen Spalten der Tabelle verwendet und entsprechend dargestellt werden. </p>
<div class="highlight"><pre><span></span><code>  <span class="cm">/** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */</span>
  <span class="nx">displayedColumns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;forename&#39;</span><span class="p">,</span> <span class="s1">&#39;surname&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">];</span>
</code></pre></div>

<p>Auch in der <code>table.component.ts</code> sollten wir die Methoden noch typisieren. Beide Methoden sind <code>void</code>-Methoden. Es handelt sich dabei um sogenannte <em>Lifecycle-Hooks</em>. Die <code>ngOnInit()</code>-Funktion wird aufgerufen, wenn die Komponente initialisiert wird. Die <code>ngAfterViewInit()</code>-Funktion wird aufgerufen, nachdem unsere <code>View</code>, also die Tabellenansicht, initialisisert wurde. Die <code>table.component.ts</code> sollte nun so aussehen:</p>
<div class="tabbed-set" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><label for="__tabbed_6_1">src/app/table/table.component.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">AfterViewInit</span><span class="p">,</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">ViewChild</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatPaginator</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/paginator&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatSort</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/sort&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatTable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/table&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">TableDataSource</span><span class="p">,</span> <span class="nx">TableItem</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./table-datasource&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;jf-table&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./table.component.html&#39;</span><span class="p">,</span>
  <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./table.component.css&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">TableComponent</span> <span class="kr">implements</span> <span class="nx">AfterViewInit</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="nx">MatPaginator</span><span class="p">)</span> <span class="nx">paginator</span><span class="o">:</span> <span class="nx">MatPaginator</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="nx">MatSort</span><span class="p">)</span> <span class="nx">sort</span><span class="o">:</span> <span class="nx">MatSort</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="nx">MatTable</span><span class="p">)</span> <span class="nx">table</span><span class="o">:</span> <span class="nx">MatTable</span><span class="o">&lt;</span><span class="nx">TableItem</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">dataSource</span><span class="o">:</span> <span class="nx">TableDataSource</span><span class="p">;</span>

  <span class="cm">/** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */</span>
<span class="hll">  <span class="nx">displayedColumns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;forename&#39;</span><span class="p">,</span> <span class="s1">&#39;surname&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">];</span>
</span>
<span class="hll">  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
</span>    <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TableDataSource</span><span class="p">();</span>
  <span class="p">}</span>

<span class="hll">  <span class="nx">ngAfterViewInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
</span>    <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span><span class="p">.</span><span class="nx">sort</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span><span class="p">.</span><span class="nx">paginator</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">table</span><span class="p">.</span><span class="nx">dataSource</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Unsere Seite sieht jetzt so aus:</p>
<p><img alt="Frontend" src="../files/89_frontend.png" /></p>
<p>Beachten Sie, dass Sie die Tabellenzeilen sortieren können. Neben den Spaltenüberschriften erscheinen bei Mouseover jeweils kleine Pfeile. Wenn Sie darauf klicken, werden die Tabellenzeilen entsprechend der Spaltensortierung angezeigt. Beachten Sie auch das Paginieren. Rechts unterhalb der Tabelle können Sie die Anzahl der Tabellenseite auf einer Seite ändern (siehe in <code>table.component.html</code> die <code>[pageSizeOptions]="[25, 50, 100, 250]</code> für den <code>paginator</code>) und Sie können durch die Seiten blättern.</p>
<p><strong>Ausblick:</strong> Wir haben die Daten hier clientseitig geladen, also nicht vom Server. Das werden wir später ändern. Zunächst schauen wir uns aber mal das <em>Routing</em> an. </p>
<h2 id="routing">Routing<a class="headerlink" href="#routing" title="Permanent link">&para;</a></h2>
<p>Sie haben sich vielleicht schon gefragt, wozu der <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>-Selektor da ist, der bei uns in der <code>nav.component.html</code> enthalten ist. Wir wollen jetzt Komponenten über die URL ansprechen, also z.B. im Browser <code>localhost:4200/table</code> angeben und nur unter dieser URL soll unsere Tabelle erscheinen. In Vorbereitung darauf, entfernen wir zunächst den Komponentenselektor für die Tabellen-Komponente aus der <code>nav.component.html</code>:</p>
<div class="tabbed-set" data-tabs="7:1"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><label for="__tabbed_7_1">Ausschnitt aus nav.component.html</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c">&lt;!-- Add Content Here --&gt;</span>

<span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Tis is nav-Content<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">mat-slider</span> <span class="na">min</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">max</span><span class="o">=</span><span class="s">&quot;100&quot;</span> <span class="na">step</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">mat-slider</span><span class="p">&gt;</span>
<span class="hll"><span class="c">&lt;!-- &lt;jf-table&gt;&lt;/jf-table&gt; geloescht --&gt;</span>
</span><span class="p">&lt;</span><span class="nt">router-outlet</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>

<span class="c">&lt;!-- end of nav-Content --&gt;</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Jetzt sieht man die Tabelle nicht mehr. Wir binden Sie aber gleich über den <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>-Selektor wieder ein, wenn wir nämlich die URL <code>localhost:4200/table</code> aufrufen. Dies wird <em>Routing</em>  genannt. Um eine solche Route anzulegen, öffnen wir die Datei <code>src/app/app-routing.module.ts</code>. </p>
<div class="tabbed-set" data-tabs="8:1"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><label for="__tabbed_8_1">src/app/app-routing.module.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Routes</span><span class="p">,</span> <span class="nx">RouterModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span><span class="nx">TableComponent</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./table/table.component&#39;</span><span class="p">;</span>
</span>
<span class="kr">const</span> <span class="nx">routes</span><span class="o">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
<span class="hll">  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="nx">component</span><span class="o">:</span> <span class="nx">TableComponent</span> <span class="p">}</span>
</span><span class="p">];</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="nx">imports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">(</span><span class="nx">routes</span><span class="p">)],</span>
  <span class="nx">exports</span><span class="o">:</span> <span class="p">[</span><span class="nx">RouterModule</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppRoutingModule</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Geben Sie Zeile <code>6</code> ein und lassen Sie den Import (Zeile <code>3</code>) durch Ihre IDE erledigen. Wir haben uns eine neue Route angelegt. Wenn wir nun im Browser an die URL <code>localhost:4200</code> noch <code>/table</code> anhängen, wird die Tabellen-Komponente über den <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>-Selektor eingebunden und angezeigt. </p>
<p>Öffnen Sie die <code>nav.component.html</code>. Darin passen wir die Liste der Links (<code>&lt;mat-nav-list&gt;</code>) an. Für Routen verwenden wir nicht <code>href</code>, sondern <code>routerLinks</code>. Die Liste soll so aussehen:</p>
<div class="tabbed-set" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><label for="__tabbed_9_1">Ausschnitt aus nav.component.html</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="o">&lt;</span><span class="nx">mat</span><span class="o">-</span><span class="nx">nav</span><span class="o">-</span><span class="nx">list</span><span class="o">&gt;</span>
<span class="hll">  <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">mat</span><span class="o">-</span><span class="nx">list</span><span class="o">-</span><span class="nx">item</span> <span class="nx">routerLink</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">&lt;</span><span class="err">/a&gt;</span>
</span><span class="hll">  <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">mat</span><span class="o">-</span><span class="nx">list</span><span class="o">-</span><span class="nx">item</span> <span class="nx">routerLink</span><span class="o">=</span><span class="s2">&quot;/table&quot;</span><span class="o">&gt;</span><span class="nx">Tabelle</span><span class="o">&lt;</span><span class="err">/a&gt;</span>
</span>  <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">mat</span><span class="o">-</span><span class="nx">list</span><span class="o">-</span><span class="nx">item</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span><span class="o">&gt;</span><span class="nx">Link</span> <span class="mi">3</span><span class="o">&lt;</span><span class="err">/a&gt;</span>
<span class="o">&lt;</span><span class="err">/mat-nav-list&gt;</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Nun können wir die Navigations-komponente verwenden, um zwischen den Routen <code>/</code> und <code>/table</code> zu wechseln. </p>
<h2 id="service">Service<a class="headerlink" href="#service" title="Permanent link">&para;</a></h2>
<p>Derzeit sind unsere MockUp-Daten statisch in der <code>table-datasource.ts</code> gespeichert. Wir wollen aber die Datenverwaltung (Speicherung und Bereitstellung) unabhängig von einer Komponente gestalten und allen Komponenten einen entsprechenden <em>Service</em> anbieten. Dazu erstellen wir uns einen solchen und legen diesen unter <code>shared</code> ab, da sich alle Komponenten diesen Service teilen (können).</p>
<div class="highlight"><pre><span></span><code>ng g service shared/data
</code></pre></div>

<p>Es entsteht der <code>shared</code>-Ordner, der zwei Dateien enthält, die <code>data.service.ts</code> und die <code>data.service.spec.ts</code>. Letztere ist zum Testen und interessiert uns erstmal nicht. Schauen wir uns die <code>data.service.ts</code> einmal an:</p>
<div class="tabbed-set" data-tabs="10:1"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><label for="__tabbed_10_1">src/shared/data.service.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Injectable</span><span class="p">({</span>
  <span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">DataService</span> <span class="p">{</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Für Services gibt es keine Lifecycle-Hooks. Wir finden hier deshalb auch keine <code>ngOnInit()</code>-Methode. Während Komponenten den Decorator <code>@Component()</code> aufweisen, wird für Services der Decorator <code>@Injectable()</code> verwendet. Mit diesem Decorator geben wir an, dass der Service weitere Abhängigkeiten einbinden kann. Dies geschieht typischerweise über einen Parameter im Konstruktor - eine soganannte <em>dependency injection</em> (wenn über den Konstruktor, dann <em>constructor injection</em>). Auch wenn wir eine solche Abhängigkeit nicht einbinden, sollte der Decorator <code>@Injectable()</code> stets für einen Service angegeben werden. Dies liegt daran, dass wir diesen Decorator um die <code>providedIn</code>-Eigenschaft erweitern. Mit <code>providedIn: 'root'</code> geben wir an, dass der Service allen Komponenten (im gesamten Root-Modul) zur Verfügung steht, er also von allen Komponenten genutzt werden kann. Bevor wir uns weiter um diesen Service kümmern, erstellen wir uns erst noch ein Datenmodell, auf das alle Komponenten zugreifen können. </p>
<h2 id="datenmodell">Datenmodell<a class="headerlink" href="#datenmodell" title="Permanent link">&para;</a></h2>
<p>Derzeit haben wir unser Datenmodell ebenfalls statisch in der <code>table-datasource.ts</code> als <code>interface TableItem</code> definiert. Wir wollen das Interface auslagern (d.h. das Interface wird aus <code>table-datasource.ts</code> <strong>gelöscht</strong> und in das neue <code>data.ts</code> eingefügt) und ebenfalls allen Komponenten zur Verfügung stellen. Wir erstellen das Interface <code>Data</code> (der Name ist sehr generisch gehalten - für Ihr eigenes Datenmodell sollten Sie einen besseren Namen wählen):</p>
<div class="highlight"><pre><span></span><code>ng g interface shared/data 
</code></pre></div>

<p>In die <code>data.ts</code> tragen wir nun unser Datenmodell ein:</p>
<div class="tabbed-set" data-tabs="11:1"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><label for="__tabbed_11_1">src/app/shared/data.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">export</span> <span class="kr">interface</span> <span class="nx">Data</span> <span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nx">forename</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nx">surname</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nx">email</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Wir wollen nun dieses Datenmodell verwenden und nicht mehr <code>TableItem</code>. Dazu ändern wir nun zunächst die <code>table-source.ts</code>. Löschen Sie dort am besten das gesamte <code>interface TableItem</code>. Jetzt sehen Sie, an welchen Stellen Sie <code>TableItem</code> durch <code>Data</code> ersetzen müssen. Ersetzen Sie dann überall <code>TableItem</code> durch <code>Data</code>. Passen Sie beim Importieren des Interfaces auf, dass Sie das richtige importieren, Ihre IDE bietet Ihnen auch andere Importmöglichkeiten an (das liegt an dem generisch gewählten Namen). Die richtige <code>import</code>-Anweisung ist: <code>import { Data } from '../shared/data';</code></p>
<p>In der <code>table.component.ts</code> muss an der Stelle <code>@ViewChild(MatTable) table: MatTable&lt;TableItem&gt;;</code> ebenfalls <code>TableItem</code> durch <code>Data</code> ersetzt werden. In der Anweisung <code>import { TableDataSource, TableItem } from './table-datasource';</code> entfernen Sie <code>, TableItem</code> und fügen die Anweisung <code>import { Data } from '../shared/data';</code> hinzu. </p>
<p>Unsere aktualisierten <code>table-datasource.ts</code> und <code>table.component.ts</code> sehen nun so aus:</p>
<details><summary>aktualisierte Dateien</summary><div class="tabbed-set" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><label for="__tabbed_12_1">src/table/table-datasource.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">DataSource</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/cdk/collections&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatPaginator</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/paginator&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatSort</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/sort&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">map</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs/operators&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Observable</span><span class="p">,</span> <span class="k">of</span> <span class="nx">as</span> <span class="nx">observableOf</span><span class="p">,</span> <span class="nx">merge</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Data</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../shared/data&#39;</span><span class="p">;</span>

<span class="c1">// TODO: replace this with real data from your application</span>
<span class="kr">const</span> <span class="nx">EXAMPLE_DATA</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Catherine&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Williams&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;cwilliamsl@360.cn&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Adam&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Anderson&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;aanderson8@google.fr&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Susan&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Andrews&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;sandrewsn@google.co.jp&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Catherine&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Andrews&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;candrewsp@noaa.gov&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Alan&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Bradley&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;abradley1c@globo.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Anne&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Brooks&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;abrooks16@bravesites.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Russell&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Brown&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;rbrownq@nifty.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Ryan&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Burton&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;rburton18@foxnews.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Roy&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Campbell&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;rcampbell1@geocities.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Russell&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Campbell&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;rcampbell17@eventbrite.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Bonnie&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Coleman&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;bcoleman11@fc2.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Ernest&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Coleman&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;ecoleman15@businessweek.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">13</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Richard&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Cruz&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;rcruz7@unc.edu&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Sean&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Cruz&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;scruz10@answers.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">15</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Rebecca&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Cunningham&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;rcunninghamd@mac.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">16</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Margaret&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Evans&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;mevansh@pcworld.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">17</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Jeffrey&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Ford&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;jford14@cnet.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">18</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Andrea&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Gardner&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;agardnerv@woothemes.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">19</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Deborah&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;George&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;dgeorge6@furl.net&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Sean&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Gibson&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;sgibsony@alexa.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">21</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Virginia&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Graham&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;vgrahamk@aol.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">22</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Steven&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Hamilton&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;shamiltonu@state.tx.us&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">23</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Virginia&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Hawkins&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;vhawkinsf@ehow.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">24</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Edward&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Hicks&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;ehicksc@pcworld.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Mark&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Johnson&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;mjohnsonj@hostgator.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">26</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Ruth&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Jordan&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;rjordan1a@smugmug.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">27</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Antonio&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Kim&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;akim4@odnoklassniki.ru&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">28</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Jennifer&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Marshall&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;jmarshallt@gnu.org&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">29</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Eric&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Matthews&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;ematthews5@independent.co.uk&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Raymond&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Mcdonald&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;rmcdonald2@ihg.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">31</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Eric&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Miller&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;emillere@creativecommons.org&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">32</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Jonathan&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Morales&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;jmoralesa@ovh.net&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">33</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Marie&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Morgan&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;mmorganb@cloudflare.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">34</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Amanda&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Nelson&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;anelson13@indiatimes.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">35</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Lisa&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Olson&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;lolsonr@telegraph.co.uk&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">36</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Ortiz&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;aortizw@histats.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">37</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Peter&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Phillips&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;pphillipss@1688.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">38</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Matthew&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Porter&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;mporter9@europa.eu&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">39</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Tammy&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Ray&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;trayx@weather.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Mark&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Richardson&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;mrichardson1d@ihg.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">41</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Joan&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Roberts&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;jroberts12@alibaba.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Kathleen&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Rose&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;kroseg@pinterest.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">43</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Steve&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Sanders&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;ssanders1b@wikispaces.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">44</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Shirley&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Scott&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;sscottm@macromedia.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">45</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Lillian&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Stephens&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;lstephens19@hugedomains.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">46</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Nicole&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Thompson&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;nthompson3@admin.ch&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">47</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Marie&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Thompson&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;mthompsonz@yelp.com&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">48</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Alan&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Vasquez&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;avasquezo@miibeian.gov.cn&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">49</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Mildred&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Watkins&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;mwatkins0@miibeian.gov.cn&#39;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
    <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Eugene&#39;</span><span class="p">,</span>
    <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Williams&#39;</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;ewilliamsi@deliciousdays.com&#39;</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="cm">/**</span>
<span class="cm"> * Data source for the Table view. This class should</span>
<span class="cm"> * encapsulate all logic for fetching and manipulating the displayed data</span>
<span class="cm"> * (including sorting, pagination, and filtering).</span>
<span class="cm"> */</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">TableDataSource</span> <span class="kr">extends</span> <span class="nx">DataSource</span><span class="o">&lt;</span><span class="nx">Data</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[]</span> <span class="o">=</span> <span class="nx">EXAMPLE_DATA</span><span class="p">;</span>
  <span class="nx">paginator</span><span class="o">:</span> <span class="nx">MatPaginator</span><span class="p">;</span>
  <span class="nx">sort</span><span class="o">:</span> <span class="nx">MatSort</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * Connect this data source to the table. The table will only update when</span>
<span class="cm">   * the returned stream emits new items.</span>
<span class="cm">   * @returns A stream of the items to be rendered.</span>
<span class="cm">   */</span>
  <span class="nx">connect</span><span class="p">()</span><span class="o">:</span> <span class="nx">Observable</span><span class="o">&lt;</span><span class="nx">Data</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="c1">// Combine everything that affects the rendered data into one update</span>
    <span class="c1">// stream for the data-table to consume.</span>
    <span class="kr">const</span> <span class="nx">dataMutations</span> <span class="o">=</span> <span class="p">[</span>
      <span class="nx">observableOf</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">),</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">.</span><span class="nx">page</span><span class="p">,</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">sortChange</span>
    <span class="p">];</span>

    <span class="k">return</span> <span class="nx">merge</span><span class="p">(...</span><span class="nx">dataMutations</span><span class="p">).</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">map</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPagedData</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getSortedData</span><span class="p">([...</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">]));</span>
    <span class="p">}));</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   *  Called when the table is being destroyed. Use this function, to clean up</span>
<span class="cm">   * any open connections or free any held resources that were set up during connect.</span>
<span class="cm">   */</span>
  <span class="nx">disconnect</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{}</span>

  <span class="cm">/**</span>
<span class="cm">   * Paginate the data (client-side). If you&#39;re using server-side pagination,</span>
<span class="cm">   * this would be replaced by requesting the appropriate data from the server.</span>
<span class="cm">   */</span>
  <span class="kr">private</span> <span class="nx">getPagedData</span><span class="p">(</span><span class="nx">data</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[])</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[]</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">startIndex</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">.</span><span class="nx">pageIndex</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">.</span><span class="nx">pageSize</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">startIndex</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">.</span><span class="nx">pageSize</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * Sort the data (client-side). If you&#39;re using server-side sorting,</span>
<span class="cm">   * this would be replaced by requesting the appropriate data from the server.</span>
<span class="cm">   */</span>
  <span class="kr">private</span> <span class="nx">getSortedData</span><span class="p">(</span><span class="nx">data</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[])</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[]</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">active</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">direction</span> <span class="o">===</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">data</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">isAsc</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">direction</span> <span class="o">===</span> <span class="s1">&#39;asc&#39;</span><span class="p">;</span>
      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">.</span><span class="nx">active</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s1">&#39;forename&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">forename</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">forename</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">case</span> <span class="s1">&#39;surname&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">surname</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">surname</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">case</span> <span class="s1">&#39;email&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span> <span class="nx">b</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">case</span> <span class="s1">&#39;id&#39;</span><span class="o">:</span> <span class="k">return</span> <span class="nx">compare</span><span class="p">(</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="nx">isAsc</span><span class="p">);</span>
        <span class="k">default</span><span class="o">:</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/** Simple sort comparator for example ID/Name columns (for client-side sorting). */</span>
<span class="kd">function</span> <span class="nx">compare</span><span class="p">(</span><span class="nx">a</span><span class="o">:</span> <span class="nx">string</span> <span class="o">|</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="nx">string</span> <span class="o">|</span> <span class="nx">number</span><span class="p">,</span> <span class="nx">isAsc</span><span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span><span class="o">:</span> <span class="nx">number</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&lt;</span> <span class="nx">b</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">isAsc</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
<input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><label for="__tabbed_12_2">src/table/table.component.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">AfterViewInit</span><span class="p">,</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">ViewChild</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatPaginator</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/paginator&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatSort</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/sort&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatTable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/table&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">TableDataSource</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./table-datasource&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Data</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../shared/data&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;jf-table&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./table.component.html&#39;</span><span class="p">,</span>
  <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./table.component.css&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">TableComponent</span> <span class="kr">implements</span> <span class="nx">AfterViewInit</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="nx">MatPaginator</span><span class="p">)</span> <span class="nx">paginator</span><span class="o">:</span> <span class="nx">MatPaginator</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="nx">MatSort</span><span class="p">)</span> <span class="nx">sort</span><span class="o">:</span> <span class="nx">MatSort</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">ViewChild</span><span class="p">(</span><span class="nx">MatTable</span><span class="p">)</span> <span class="nx">table</span><span class="o">:</span> <span class="nx">MatTable</span><span class="o">&lt;</span><span class="nx">Data</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">dataSource</span><span class="o">:</span> <span class="nx">TableDataSource</span><span class="p">;</span>

  <span class="cm">/** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */</span>
  <span class="nx">displayedColumns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;forename&#39;</span><span class="p">,</span> <span class="s1">&#39;surname&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">];</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TableDataSource</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">ngAfterViewInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span><span class="p">.</span><span class="nx">sort</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sort</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span><span class="p">.</span><span class="nx">paginator</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">paginator</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">table</span><span class="p">.</span><span class="nx">dataSource</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">onRowClicked</span><span class="p">(</span><span class="nx">row</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Row clicked: &#39;</span><span class="p">,</span> <span class="nx">row</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">highlight</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s1">&#39;green&#39;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
</details>
<p>Jetzt funktioniert unsere Seite wieder. Unter <code>localhost:4200/table</code> wird die Tabelle wieder korrekt angezeigt. Das Datenmodell wurde als eigenständiges <code>interface</code> ausgelagert und kann von allen Komponenten verwendet werden. Wir werden nun unseren <code>data.service</code> erweitern. Dazu öffnen wir die Datei <code>data.service.ts</code>. Wir fügen eine Eigenschaft <code>data</code> vom Typ <code>Data[]</code> hinzu, also den <code>interface</code>-Typ als Array. Bei der Erstellung des Services (im Konstruktor) werden die Daten eingelesen und <code>data</code> initialisiert. Außerdem erstellen wir eine Funktion <code>getAll()</code>, die das <code>Data[]</code> zurückgibt. </p>
<div class="tabbed-set" data-tabs="13:1"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><label for="__tabbed_13_1">data.service.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Data</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./data&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Injectable</span><span class="p">({</span>
  <span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">DataService</span> <span class="p">{</span>
<span class="hll">  <span class="nx">data</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[];</span>
</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
</span><span class="hll">      <span class="p">{</span>
</span><span class="hll">        <span class="nx">id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span class="hll">        <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Catherine&#39;</span><span class="p">,</span>
</span><span class="hll">        <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Williams&#39;</span><span class="p">,</span>
</span><span class="hll">        <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;cwilliamsl@360.cn&#39;</span>
</span><span class="hll">      <span class="p">},</span>
</span><span class="hll">      <span class="cm">/* hier das gesamte Array einfügen! - an dieser Stelle gekürzt */</span>
</span><span class="hll">      <span class="p">{</span>
</span><span class="hll">        <span class="nx">id</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
</span><span class="hll">        <span class="nx">forename</span><span class="o">:</span> <span class="s1">&#39;Eugene&#39;</span><span class="p">,</span>
</span><span class="hll">        <span class="nx">surname</span><span class="o">:</span> <span class="s1">&#39;Williams&#39;</span><span class="p">,</span>
</span><span class="hll">        <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;ewilliamsi@deliciousdays.com&#39;</span>
</span><span class="hll">      <span class="p">}</span>
</span><span class="hll">    <span class="p">];</span>
</span>  <span class="p">}</span>

<span class="hll">  <span class="nx">getAll</span><span class="p">()</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[]</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Nun lassen wir die <code>table</code>-Komponente den Service nutzen. Dazu öffnen wir zunächst die <code>table-datasource.ts</code>. Darin löschen wir die komplette Deklaration und Initialsisierung der <code>const EXAMPLE_DATA: Data[]</code>, da wir die Daten ja jetzt über die <code>getAll()</code>-Funktion des Services holen wollen. Dazu binden wir den Service per <em>dependency injection</em> in den Konstruktor von <code>TableDatasource</code> ein und rufen in dem Konstruktor die <code>getAll()</code>-Funktion des <code>DataService</code> auf:</p>
<div class="tabbed-set" data-tabs="14:1"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><label for="__tabbed_14_1">table-datasource.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">DataSource</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/cdk/collections&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatPaginator</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/paginator&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">MatSort</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material/sort&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">map</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs/operators&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Observable</span><span class="p">,</span> <span class="k">of</span> <span class="nx">as</span> <span class="nx">observableOf</span><span class="p">,</span> <span class="nx">merge</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Data</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../shared/data&#39;</span><span class="p">;</span>
<span class="hll"><span class="kr">import</span> <span class="p">{</span> <span class="nx">DataService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../shared/data.service&#39;</span><span class="p">;</span>
</span>
<span class="cm">/**</span>
<span class="cm"> * Data source for the Table view. This class should</span>
<span class="cm"> * encapsulate all logic for fetching and manipulating the displayed data</span>
<span class="cm"> * (including sorting, pagination, and filtering).</span>
<span class="cm"> */</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">TableDataSource</span> <span class="kr">extends</span> <span class="nx">DataSource</span><span class="o">&lt;</span><span class="nx">Data</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[];</span>
  <span class="nx">paginator</span><span class="o">:</span> <span class="nx">MatPaginator</span><span class="p">;</span>
  <span class="nx">sort</span><span class="o">:</span> <span class="nx">MatSort</span><span class="p">;</span>

<span class="hll">  <span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">ds</span><span class="o">:</span> <span class="nx">DataService</span><span class="p">)</span> <span class="p">{</span>
</span>    <span class="kr">super</span><span class="p">();</span>
<span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">ds</span><span class="p">.</span><span class="nx">getAll</span><span class="p">();</span>
</span>  <span class="p">}</span>

  <span class="cm">/*</span>
<span class="cm">   * hier noch der Rest der Klasse </span>
<span class="cm">   * connect(), disconnect(), sort(), usw.</span>
<span class="cm">   */</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Jetzt muss in der <code>table.component.ts</code> nur noch der Aufruf des Konstruktors vom <code>DataService</code> als Parmeter der <code>TableDataSource()</code>-Konstruktors erfolgen:</p>
<div class="tabbed-set" data-tabs="15:1"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><label for="__tabbed_15_1">table.component.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
<span class="hll">   <span class="k">this</span><span class="p">.</span><span class="nx">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TableDataSource</span><span class="p">(</span><span class="k">new</span> <span class="nx">DataService</span><span class="p">());</span>
</span><span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Der <code>DataService</code> muss dazu in <code>table.component.ts</code> importiert werden. Lassen Sie das durch Ihre IDE erledigen. Nun werden die Daten über den Service bereitgestellt. </p>
<div class="admonition success">
<p class="admonition-title">Success</p>
<p>Wir haben ein Datenmodell für unsere Daten erstellt und einen Service, der diese Daten über die <code>getAll()</code>-Funktion zur Verfügung stellt. Wir werden den Service um weitere Funktionen erweitern und weitere Routen zu unserer Anwendung hinzufügen. </p>
</div>
<h2 id="parametrisierte-routen">Parametrisierte Routen<a class="headerlink" href="#parametrisierte-routen" title="Permanent link">&para;</a></h2>
<p>Bis jetzt zeigen wir alle Daten zugleich in einer Tabelle an. Nun wollen wir auf einzelne Datensätze zugreifen. Dies soll über die <code>id</code> aus unserem Datensatz geschehen. Wir wollen die einzelnen Datensätze über die URL <code>localhost:4200/table/id</code> erreichen, wobei <code>id</code> für eine Zahl steht. </p>
<p>Dazu erzeugen wir uns zunächst eine neue Komponente <code>single</code>:</p>
<div class="highlight"><pre><span></span><code>ng g c single
</code></pre></div>

<p>Diese Komponente soll ein Formular mit den Daten eines einzelnen Datensatzes aus unseren Mock-Up-Daten enthalten. Zunächst kümmern wir uns um die Route, über die die Single-Komponente erreichbar sein soll. Dazu öffnen wir die <code>app-routing.module.ts</code> und erweitern das <code>routes</code>-Array:</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">routes</span><span class="o">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="nx">component</span><span class="o">:</span> <span class="nx">TableComponent</span> <span class="p">},</span>
  <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;table/:id&#39;</span><span class="p">,</span> <span class="nx">component</span><span class="o">:</span> <span class="nx">SingleComponent</span> <span class="p">}</span>
<span class="p">];</span>
</code></pre></div>

<p>Die <code>id</code> wird als Parameter für die Route vorgesehen, deshalb wird die Syntax <code>:id</code> verwendet. Damit der entsprechende Wert für <code>:id</code> aus der URL ausgelesen werden kann, benötigen wir in der Single-Komponente ein Objekt der Klasse <code>ActivatedRoute</code>. Dieses Objekt binden wir per <em>dependency injection</em> in den Konstruktor der Single-Komponente ein und fragen die URL in der <code>ngOnInit()</code>-Methode ab. Beachten Sie, wenn wir Objekte als <code>private</code> in den Konstruktor injizieren, dann wird daraus eine Eigenschaft der Klasse, d.h. wir können <code>route</code> und <code>ds</code> mithilfe von <code>this</code> in jeder Funktion der Klasse verwenden.:</p>
<div class="tabbed-set" data-tabs="16:1"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><label for="__tabbed_16_1">single.component.ts (Ausschnitt)</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">ActivatedRoute</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">DataService</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../shared/data.service&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Data</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../shared/data&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">class</span> <span class="nx">SingleComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">Data</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">route</span><span class="o">:</span> <span class="nx">ActivatedRoute</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">ds</span><span class="o">:</span> <span class="nx">DataService</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">route</span><span class="p">.</span><span class="nx">snapshot</span><span class="p">.</span><span class="nx">paramMap</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">ds</span><span class="p">.</span><span class="nx">getSingleId</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Wir lesen aus der URL den Parameter <code>id</code> aus und speichern den Wert in <code>this.id</code> (siehe Zeile <code>26</code>). Mit dem Wert rufen wir die <code>getSingleId()</code>-Funktion aus dem <code>DataService</code> auf. Diese Funktion gibt den Datensatz mit der entsprechenden <code>id</code> zurück:</p>
<div class="tabbed-set" data-tabs="17:1"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><label for="__tabbed_17_1">data.service.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Data</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./data&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Injectable</span><span class="p">({</span>
  <span class="nx">providedIn</span><span class="o">:</span> <span class="s1">&#39;root&#39;</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">DataService</span> <span class="p">{</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[];</span>

  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>   <span class="cm">/* hier das gesamte Array */</span>        <span class="p">];</span>
  <span class="p">}</span>

  <span class="nx">getAll</span><span class="p">()</span><span class="o">:</span> <span class="nx">Data</span><span class="p">[]</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="p">}</span>

<span class="hll">  <span class="nx">getSingleId</span><span class="p">(</span><span class="nx">id</span><span class="o">:</span> <span class="nx">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Data</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">data</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">id</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">===</span> <span class="nx">id</span><span class="p">));</span>
</span><span class="hll">  <span class="p">}</span>
</span><span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Für <em>Arrow-Funktionen</em> siehe <a href="../javascript/#arrow-funktionen">hier</a>. Die <code>Single-Komponente</code> gestalten wir als Formular:</p>
<div class="tabbed-set" data-tabs="18:2"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><label for="__tabbed_18_1">single.component.html</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">form</span> <span class="err">[</span><span class="na">formGroup</span><span class="err">]=&quot;</span><span class="na">singleFormGroup</span><span class="err">&quot;</span> <span class="err">(</span><span class="na">ngSubmit</span><span class="err">)=&quot;</span><span class="na">onSubmit</span><span class="err">(</span><span class="na">singleFormGroup</span><span class="err">.</span><span class="na">value</span><span class="err">)&quot;</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">mat-form-field</span> <span class="na">appearance</span><span class="o">=</span><span class="s">&quot;fill&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-label</span><span class="p">&gt;</span>Vorname<span class="p">&lt;/</span><span class="nt">mat-label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">matInput</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Vorname&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;forenameControl&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">mat-form-field</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

  <span class="p">&lt;</span><span class="nt">mat-form-field</span> <span class="na">appearance</span><span class="o">=</span><span class="s">&quot;fill&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-label</span><span class="p">&gt;</span>Nachname<span class="p">&lt;/</span><span class="nt">mat-label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">matInput</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Nachname&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;surnameControl&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">mat-form-field</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

  <span class="p">&lt;</span><span class="nt">mat-form-field</span> <span class="na">appearance</span><span class="o">=</span><span class="s">&quot;fill&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">mat-label</span><span class="p">&gt;</span>E-Mail<span class="p">&lt;/</span><span class="nt">mat-label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">matInput</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;E-Mail&quot;</span> <span class="na">formControlName</span><span class="o">=</span><span class="s">&quot;emailControl&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">mat-form-field</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>

  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">mat-raised-button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>Change<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>
</td></tr></table>

</div>
<input id="__tabbed_18_2" name="__tabbed_18" type="radio" /><label for="__tabbed_18_2">single.component.ts</label><div class="tabbed-content">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">FormBuilder</span><span class="p">,</span> <span class="nx">FormGroup</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">ActivatedRoute</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/router&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">DataService</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../shared/data.service&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Data</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;../shared/data&#39;</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;jf-single&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;./single.component.html&#39;</span><span class="p">,</span>
  <span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./single.component.css&#39;</span><span class="p">]</span>
<span class="p">})</span>

<span class="kr">export</span> <span class="kr">class</span> <span class="nx">SingleComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="nx">singleFormGroup</span><span class="o">:</span> <span class="nx">FormGroup</span><span class="p">;</span>
  <span class="nx">id</span><span class="o">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">Data</span><span class="p">;</span>

  <span class="nx">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">fb</span><span class="o">:</span> <span class="nx">FormBuilder</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">route</span><span class="o">:</span> <span class="nx">ActivatedRoute</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">ds</span><span class="o">:</span> <span class="nx">DataService</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">route</span><span class="p">.</span><span class="nx">snapshot</span><span class="p">.</span><span class="nx">paramMap</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">ds</span><span class="p">.</span><span class="nx">getSingleId</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">singleFormGroup</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">createFormGroup</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">singleFormGroup</span><span class="p">.</span><span class="nx">setValue</span><span class="p">({</span>
      <span class="nx">forenameControl</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">forename</span><span class="p">,</span>
      <span class="nx">surnameControl</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">surname</span><span class="p">,</span>
      <span class="nx">emailControl</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">email</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">createFormGroup</span><span class="p">()</span><span class="o">:</span> <span class="nx">FormGroup</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">fb</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
      <span class="nx">forenameControl</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">],</span>
      <span class="nx">surnameControl</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">],</span>
      <span class="nx">emailControl</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">Validators</span><span class="p">.</span><span class="nx">required</span><span class="p">]</span>
      <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">onSubmit</span><span class="p">(</span><span class="nx">formData</span><span class="p">)</span><span class="o">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">singleFormGroup</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s1">&#39;Submitted: &#39;</span><span class="p">,</span> <span class="nx">formData</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<p>Das Formular ist als <em>reaktives</em> Formular definiert (im Gegensatz zu <em>Template-Formularen</em>). Wir verwenden den <code>FormBuilder</code> und dessen <code>group</code>-Funktion, um ein Formular zu erstellen. Das Formular selbst ist eine <code>FormGroup</code>. Es enthält drei <code>FormControl</code>-Elemente: <code>forenameControl</code>, <code>surnameControl</code> und <code>emailControl</code>. Mithilfe der <code>setValue()</code>-Funktion wird für diese Elemente ein <code>value</code> gesetzt. </p>
<p>Unter dem Aufruf <code>http://localhost:4200/table/11</code> sieht das Frontend jetzt z.B. so aus (Sie können natürlich auch den Slider und die Überschrift entfernen):</p>
<p><img alt="frontend" src="../files/90_frontend.png" /></p>
<div class="admonition success">
<p class="admonition-title">Success</p>
<p>Wir haben das Metrial-Schema für eine Tabelle ausprobiert, in der alle unsere Mockup-Daten angezeigt werden. In der Tablle kann nach allen Spalten sortiert werden. Außerdem ist die Tabelle paginiert. Wir haben Routing eingeführt, um über "sprechende" URLs auf unsere Komponenten zuzugreifen. Die Routen wurden auch mithife der IDs aus dem Datensatz parametrisiert. Wir haben ein Formular verwendet, um einen einzelnen Datensatz anzuzeigen. Die Verwaltung der Daten erfolgt über einen Service, der allen Komponenten zur Verfügung steht. Noch sind unsere Daten client-seitig gespeichert. Das soll in der nächsten Lektion geändert werden. </p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="">
        
          <a href="../angular/" title="Angular" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Zurück
                </span>
                Angular
              </div>
            </div>
          </a>
        
        
          <a href="../backend/" title="REST-API" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Weiter
                </span>
                REST-API
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Jörn Freiheit
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.c51dfa35.min.js"></script>
      <script src="../assets/javascripts/bundle.eaaa3931.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "In Zwischenablage kopieren", "clipboard.copied": "In Zwischenablage kopiert", "search.config.lang": "de", "search.config.pipeline": "", "search.config.separator": "", "search.result.placeholder": "Suchbegriff eingeben", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["instant", "tabs"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>