{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Web-Technologien \u00b6 Herzlich willkommen zur WebTech-Veranstaltung! Grober Inhalt \u00b6 In dieser Veranstaltung lernen Sie, was das World Wide Web ist und wie man eigene Webseiten und -anwendungen realisiert. Sie lernen die Protokolle und Sprachen http , HTML , CSS und JavaScript kennen und machen sich mit Angular , Node.js und REST vertraut. Nachfolgend der vorl\u00e4ufige Wochenplan (wird eventuell angepasst). Die Vorlesungsvideos finden Sie darunter f\u00fcr die einzelnen Wochen (unter Inhalte ). Woche Themen (Vorlesung) \u00dcbung Aufgabe (Stand) Abgabe \u00dcbung bis 1. 05.-09.10.2020 Einf\u00fchrung und Organisatorisches \u00dcbung 0 - - 2. 12.-16.10.2020 HTML \u00dcbung 1 Idee 25.10.2020 3. 19.-23.10.2020 CSS (Eigenschaften und Selektoren) \u00dcbung 2 - 01.11.2020 4. 26.-30.10.2020 RWD (Responsive Webdesign) \u00dcbung 3 Konzept 08.11.2020 5. 02.-06.11.2020 JavaScript (DOM, Events, DOM-Funktionen) \u00dcbung 4 - 15.11.2020 6. 09.-13.11.2020 JavaScript (JSON, AJAX) \u00dcbung 5 Datenmodell 22.11.2020 7. 16.-20.11.2020 Angular (Einf\u00fchrung und Komponenten) \u00dcbung 6 Schnittstelle 29.11.2020 8. 23.-27.11.2020 Angular (Material und Routen) \u00dcbung 7 Frontend (c+r) 13.12.2020 9. 30.-04.12.2020 Node.js + Express (REST-Server + MySQL) \u00dcbung 8 Frontend (u+d) 20.12.2020 10. 07.-11.12.2020 Angular (Anbindung ans Backend I) \u00dcbung 9 Frontend fertig 10.01.2020 11. 14.-18.12.2020 Angular (Anbindung ans Backend II) \u00dcbung 10 Backend ( c ) 17.01.2020 12. 21.-25.12.2020 - - Backend ( r ) - 13. 04.-08.01.2021 JWT - Backend (u) - 14. 11.-15.01.2021 Drittanbieter-APIs - Backend (d + fertig) - 15. 18.-22.01.2021 Wiederholung - fertig stellen - 16. 25.-29.01.2021 - Fragen Abgabe 1.PZ 13.02.2021 - Abgabe 2.PZ 01.04.2021 - Organisatorisches \u00b6 Zur erfolgreichen Durchf\u00fchrung der Veranstaltung m\u00fcssen Sie die \u00dcbungen l\u00f6sen und zu den jeweiligen Fristen per Git auf einen Server (GitHub oder GitLab) laden. Am Ende des Semesters ist eine Aufgabe abzugeben. Diese Aufgabe wird bewertet. Die Bewertung entspricht dann der Modulnote. Hier sind die \u00dcbungen beschrieben, die Sie in jeder Woche ausf\u00fchren sollen. Damit Sie dies erfolgreich erledigen k\u00f6nnen, ist jeweils angegeben, welche Themen Sie daf\u00fcr durcharbeiten m\u00fcssen. Das Durcharbeiten der jeweiligen Themen entspricht jeweils einer Vorlesung. Diese wird also selbst\u00e4ndig durchgef\u00fchrt. F\u00fcr die Kommunikation untereinander verwenden wir Slack . Dort k\u00f6nnen Sie alle inhaltlichen und organisatorischen Fragen stellen. Ich f\u00e4nde es gut, wenn ich dort m\u00f6glichst wenig Fragen - zumindest die inhaltlichen - beantworten m\u00fcsste, sondern eine Art internes Diskussionsforum entsteht. Es ist sehr gew\u00fcnscht, dort Fragen zu stellen und noch mehr gew\u00fcnscht, diese von Ihnen dort beantwortet zu sehen. Damit w\u00e4re allen geholfen und ich kann besser erkennen, wo noch Nachhol- bzw. Erl\u00e4uterungsbedarf bei den meisten besteht. Inhalte \u00b6 Woche 1 - Einf\u00fchrung und Organisatorisches siehe \u00dcbungsaufgabe 0 die Notizen dazu finden Sie hier die Notizen dazu finden Sie hier Woche 2 - Hypertext Markup Language (HTML) siehe HTML siehe \u00dcbungsaufgabe 1 (HTML) hier die Bilder htw.jpg und fiw.jpg index.html aus HTML-Vorlesung <!DOCTYPE html> < html lang = \"de\" > < head > < meta charset = \"UTF-8\" > < title > HTML-Einf\u00fchrung </ title > </ head > < body > < h1 > gro\u00dfe \u00dcberschrift </ h1 > neuer Text < p > ein erster Absatz </ p > < h3 > kleinere \u00dcberschrift </ h3 > < p > noch ein Absatz </ p > Vorteile von HTML: < ul > < li > Syntax und Semantic frei definierbar </ li > < li > von Menschen lesbar </ li > < li > in Programmiersprachen einbettbar </ li > < li > offen f\u00fcr zuk\u00fcnftige Entwicklungen </ li > </ ul > <!-- das ist ein Kommentar --> < p > das ist ein l\u00e4ngerer Absatz < br /> das ist Text auf der n\u00e4chsten Zeile </ p > < img src = \"./images/fiw.jpg\" alt = \"FIW-Logo\" style = \"width: 200px;\" title = \"Mouseover-Effekt Informatione, die erscheinen, wenn wir mit der Maus dr\u00fcber fahren\" /> < h3 > Input-Elemente </ h3 > < input type = \"text\" /> < input type = \"radio\" /> < input type = \"checkbox\" checked = \"checked\" /> < input type = \"datetime-local\" /> < h3 > Hyperlinks </ h3 > das ist Text < a href = \"http://www.htw-berlin.de\" target = \"_blank\" > < img src = \"./images/htw.jpg\" alt = \"HTW Logo\" /> </ a > das ist weiterer Text < p > < a href = \"./Unter/dok1.html\" > Dok 1 </ a > </ p > < h3 > Container </ h3 > < section > < header > ein Absatz </ header > < article > noch ein Absatz </ article > < footer > noch ein Absatz </ footer > </ section > < div > < p > ein Absatz </ p > < p > noch ein Absatz </ p > < p > noch ein Absatz </ p > </ div > < h3 > Formulare </ h3 > < form method = \"post\" > < input type = \"text\" name = \"user\" placeholder = \"user\" /> < input type = \"password\" name = \"pwd\" /> < button type = \"submit\" > Login </ button > </ form > < ul > < li >< a href = \"http://freiheit.f4.htw-berlin.de/webtech/html/#http-anfragemethoden\" target = \"_blank\" > HTTP-Anfragemethoden </ a > </ li > < li >< a href = \"http://freiheit.f4.htw-berlin.de/webtech/html/#http-statusmeldungen\" target = \"_blank\" > HTTP-Statusmeldungen </ a > </ li > < li >< a href = \"http://freiheit.f4.htw-berlin.de/webtech/html/#urls\" target = \"_blank\" > URLs </ a > </ li > < li >< a href = \"http://freiheit.f4.htw-berlin.de/webtech/html/#domain-name-service-dns\" target = \"_blank\" > Domain Name Service (DNS) </ a > </ li > </ ul > </ body > </ html > Woche 3 - Cascading Style Sheets (CSS) siehe CSS siehe \u00dcbungsaufgabe 2 (CSS) css.html aus CSS-Vorlesung <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > CSS </ title > <!-- 1. externe CSS-Datei --> < link rel = \"stylesheet\" href = \"./styles/mystyles.css\" > <!-- 2. style-Element --> < style > h1 { font-weight : normal ; color : red ; } div > ul { color : grey ; } li { display : inline ; padding : 10 px ; margin : 5 px ; } span { display : block ; color : red ; } </ style > </ head > < body > < h1 > Cascading Style Sheets (CSS) </ h1 > < div > living standard - weiterentwickelt von W3C. < span > Seit 2000 CSS3. </ span > Wichtig: Trennung zwischen Inhalten (HTML) und Aussehen (CSS). </ div > < div > Wof\u00fcr CSS? < section > < ul class = \"orangeBackground blackColor\" > < li > ansprechender Stil (Font, Farben, Schriftgr\u00f6\u00dfe, Rahmen, ...) < a href = \"index.html\" > Link 2 </ a > </ li > < li > Layout (2-spaltig, 3-spaltig, Kopf- und Fu\u00dfzeilen, ...) < a href = \"index.html\" > Link 3 </ a > </ li > < li > responsives Webdesign (unterschiedlich f\u00fcr Mobile, Tablets, Desktop, ...) < a href = \"index.html\" > Link 4 </ a > </ li > </ ul > </ section > </ div > < ul class = \"orangeBackground\" > Inhalte heute: < li > Orte f\u00fcr CSS-Definitionen < a href = \"Unter/dok1.html\" > Link 5 </ a > </ li > < li > Selektoren < a href = \"Unter/dok1.html\" > Link 6 </ a > </ li > < li > Box Model < a href = \"Unter/dok1.html\" > Link 7 </ a > </ li > < li > Layout (Prinzip, float) < a href = \"Unter/dok1.html\" > Link 8 </ a > </ li > < li > Gewichtung der Selektoren < a href = \"Unter/dok1.html\" > Link 9 </ a > </ li > </ ul > </ body > </ html > styles/mystyles.css aus CSS-Vorlesung /* Kommentar in CSS selektor { eigenschaft1: wert; eigenschaft2: wert; } */ body { font-family : Verdana ; color : blue ; } a { text-decoration : none ; color : sandybrown ; } layout.html aus CSS-Vorlesung < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Layout mit float </ title > < style > # p1 , # p2 , # p3 { float : left ; width : 31.33 % ; padding : 1 % ; } </ style > </ head > < body > < p id = \"p1\" >< img src = \"./images/fiw.jpg\" alt = \"fiw-logo\" style = \"width:100%;\" /></ p > < p id = \"p2\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > < p id = \"p3\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > </ body > </ html > gewichtung.html aus CSS-Vorlesung <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Gewichtung der Selektoren </ title > < style > a : link { /* B=0 C=1 D=1 */ color : blue ; } li a { /* B=0 C=0 D=2 */ color : magenta ; } # navigation a . link { /* B=1 C=1 D=1 */ color : red ; } # navigation li a { /* B=1 C=0 D=2 */ color : black ; } </ style > </ head > < body > < ul id = \"navigation\" > < li >< a href = \"startseite.html\" class = \"link\" > Startseite </ a ></ li > < li >< a href = \"unterseite.html\" class = \"link\" > Unterseite </ a ></ li > < li > Kategorie A: style-Attribut im html-Element (Beispiel 0) </ li > < li > Kategorie B: f\u00fcr id </ li > < li > Kategorie C: Anzahl Klassen und Pseudoklassen </ li > < li > Kategorie D: Anzahl der Elemente und Pseudoelemente </ li > </ ul > </ body > </ html > Woche 4 - Responsive Webdesign (RWD) siehe Responsive Webdesign siehe \u00dcbungsaufgabe 3 (RWD + Bootstrap) Woche 5 - JavaScript (DOM) siehe JavaScript siehe \u00dcbungsaufgabe 4 (JavaScript, DOM) javascript.html aus JavaScript (DOM)-Vorlesung <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > HTML \u00e4ndern </ title > </ head > < body class = \"container-fluid\" > < input id = \"input1\" type = \"text\" class = \"form-control\" placeholder = \"neues Item\" onchange = \"doSomething()\" /> < ul id = \"ul1\" class = \"list-group\" > < li class = \"list-group-item active\" > erster </ li > < li class = \"list-group-item\" > zweiter </ li > < li class = \"list-group-item\" > dritter </ li > </ ul > < button type = \"button\" class = \"btn btn-primary\" onclick = \"createHeadline()\" > Klick mich </ button > < script > var idnr = 1 ; function doSomething () { let input1 = document . getElementById ( 'input1' ); let input1_value = input1 . value ; let ul1 = document . getElementById ( 'ul1' ); let new_item = document . createElement ( 'li' ); new_item . classList . add ( \"list-group-item\" ); new_item . id = \"li\" + idnr ++ ; /* let new_text = document.createTextNode(input1_value); new_item.appendChild(new_text); // li --> value */ new_item . innerHTML = input1_value + \"<span style='color: red;'> test </span>\" ; let listitems = document . getElementsByTagName ( 'li' ); console . log ( \"--------- drei ---------\" + listitems . length ); for ( let i = 0 ; i < listitems . length ; i ++ ) { console . log ( listitems [ i ]); } ul1 . insertBefore ( new_item , listitems [ 0 ]); let new_item2 = document . createElement ( 'li' ); new_item2 . classList . add ( \"list-group-item\" ); new_item2 . id = \"li\" + idnr ++ ; new_item2 . innerHTML = \"fuenftes\" ; ul1 . appendChild ( new_item2 ); console . log ( \"--------- nach 2 neuen ---------\" + listitems . length ); for ( let i = 0 ; i < listitems . length ; i ++ ) { console . log ( listitems [ i ]); } listitems [ 1 ]. classList . remove ( \"active\" ); listitems [ 3 ]. classList . add ( \"active\" ); } function createHeadline () { let body = document . body ; let input = document . getElementById ( 'input1' ); let h1 = document . createElement ( 'h1' ); h1 . innerHTML = \"HTML \u00e4ndern\" ; h1 . addEventListener ( 'mouseover' , doSomethingElse ); h1 . addEventListener ( 'mouseout' , doSomethingElse ); body . insertBefore ( h1 , input ); } function doSomethingElse ( event ) { let h1 = event . target ; if ( h1 . style . color === \"red\" ) { h1 . style . color = \"green\" ; h1 . style . fontSize = \"xx-large\" ; h1 . innerHTML = \"... und weg\" ; } else { h1 . style . color = \"red\" ; h1 . style . fontSize = \"400%\" ; h1 . innerHTML = \"... und wieder da\" ; } } </ script > </ body > </ html > Woche 6 - JavaScript (JSON, Ajax) siehe JSON und Ajax siehe \u00dcbungsaufgabe 5 (JSON, Ajax) json+ajax.html aus JavaScript (JSON, Ajax)-Vorlesung <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > JSON+AJAX </ title > </ head > < body onload = \"loadJSON()\" > < h3 > Objekte </ h3 > < div id = \"div1\" ></ div > < button type = \"button\" onclick = \"showObjects()\" > Show Objects </ button > < script > let person_obj ; function showObjects () { /* let person = { vorname: \"Maria\", nachname: \"Musterfrau\", kinder: { max: { vorname: \"Max\", alter: 7 }, moritz: { vorname: \"Moritz\", alter: 3 } }, auskunft: function() { return \"F: \" + this.vorname + \" \" + this.nachname; } } console.log(person.auskunft()); person.wohnort = \"Musterdorf\"; */ let person = person_obj ; console . log ( person ); console . log ( person . vorname + \" \" + person . nachname ); document . getElementById ( 'div1' ). innerHTML += person . vorname + \" \" + person . nachname + \"<br/>\" ; console . log ( person . wohnort ); /* let kinder = person.kinder; for(let i=0; i<kinder.length; i++) { console.log(kinder[i].vorname); } */ console . log ( person . kinder . max . vorname ); console . log ( person . kinder . moritz . vorname ); for ( let eigenschaften in person ) { console . log ( eigenschaften ); console . log ( person [ eigenschaften ]); } for ( let eigenschaften in person . kinder ) { console . log ( person . kinder [ eigenschaften ]. vorname ); for ( let kidseig in person . kinder [ eigenschaften ]) { console . log ( person . kinder [ eigenschaften ][ kidseig ]); } } let json_obj = JSON . stringify ( person ); document . getElementById ( 'div1' ). innerHTML += json_obj ; } function loadJSON () { let xhttp = new XMLHttpRequest (); xhttp . onreadystatechange = function () { if ( this . readyState === 4 && this . status === 200 ) { person_obj = JSON . parse ( this . responseText ); showObjects (); } }; xhttp . open ( \"GET\" , \"http://localhost/Webtech20/person.json\" , true ); xhttp . send (); } </ script > </ body > </ html > person.json aus JavaScript (JSON, Ajax)-Vorlesung { \"vorname\" : \"Maria\" , \"nachname\" : \"Musterfrau\" , \"kinder\" : { \"max\" : { \"vorname\" : \"Max\" , \"alter\" : 7 }, \"moritz\" : { \"vorname\" : \"Moritz\" , \"alter\" : 3 } }, \"wohnort\" : \"Musterdorf\" } Woche 7 - Angular (erstes Angular-Projekt) Diese Woche geht es darum, dass f\u00fcr alle die gesamte Entwicklungsumgebung ( npm , ng ) so funktioniert, dass Sie sich ein erstes Angular-Projekt aufsetzen k\u00f6nnen. Es gibt deshalb auch kein Video, weil ich da nur zeigen w\u00fcrde, wie ich das Projekt aufsetze. Arbeiten Sie die \u00dcbungsaufgabe 6 ( die \u00dcbungen wurden verschoben ) ab. Wenn alles klappt, sollte es schnell gehen. Ich werde in der \u00dcbung am 24.11. die Durchf\u00fchrung der \u00dcbung 6 zeigen und dabei ein Video aufnehmen, das ich hier einstelle. siehe \u00dcbungsaufgabe 6 siehe Angular Woche 8 - Angular (Material und Routing) Wir erweitern das Frontend. Wir nutzen Material als CSS-Framework. Wir verwenden das Tables-Schema, um eine Tabelle unserer Mockup-Daten zu erstellen und implementieren ein kleines Formular. Wir f\u00fchren Routing ein, auch parametrisiertes Routing. Es wird ein Service erstellt, der sich um die (client-seitige) Verwaltung der Daten k\u00fcmmert und der allen Komponenten zur Verf\u00fcgung steht. Es gibt kein Video, da der Abschnitt Material vollst\u00e4ndig als Schritt-f\u00fcr-Schritt-Anleitung geschrieben wurde. die \u00dcbungsaufgabe 7 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Woche 9 - Node.js + Express (REST-Server + MySQL) Wir erstellen ein Backend. Wir nutzen Node.js und Express, um einen REST-Server zu implementieren, der uns alle CRUD-Funktionalit\u00e4ten f\u00fcr die Verwaltung unseres Mockup-Datensatzes zur Verf\u00fcgung stellt. Wir verwenden MySQL zur Speicherung unserer Mockup-Daten. Der REST-Server enth\u00e4lt ein Model und einen Controller. Es gibt kein Video, da der Abschnitt REST-API vollst\u00e4ndig als Schritt-f\u00fcr-Schritt-Anleitung geschrieben wurde. die \u00dcbungsaufgabe 8 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Woche 10 - Angular - Anbindung ans Backend I Wir erstellen ein Frontend, mit dem wir an das im Abschnitt REST-API Backend anbinden. Wir beginnen mit dem Auslesen aller Datens\u00e4tze und lesen dann auch noch einen einzelnen Datensatz aus. Es werden also die Backend-Endpunkte GET localhost:3000/members und GET localhost:3000/members/id angebunden. Dazu machen wir uns mit dem HttpClient vertraut und lernen Observable s kennen. Wir erstellen unter Verwendung von Bootstrap eine Tabelle und ein Formular und nutzen Bootstrap-Icons. Wir untersuchen, wie man den Datenfluss von Eltern- auf Kindkomponenten realisiert und verwenden Interpolation sowie Strukturdirektiven. Es gibt kein Video, da der Abschnitt Anbindung an das Backend vollst\u00e4ndig als Schritt-f\u00fcr-Schritt-Anleitung mit zus\u00e4tzlichen Erl\u00e4uterungen und Links geschrieben wurde. die \u00dcbungsaufgabe 9 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Woche 11 - Angular - Anbindung ans Backend II Wir schlie\u00dfen die Anbindung an das im Abschnitt REST-API erstellte Backend ab und erstellen die fehlenden Funktionalit\u00e4ten delete und create . Dazu erstellen wir f\u00fcr delete einen modalen Dialog. Es gibt kein Video, da der Abschnitt Anbindung an das Backend vollst\u00e4ndig als Schritt-f\u00fcr-Schritt-Anleitung mit zus\u00e4tzlichen Erl\u00e4uterungen und Links geschrieben wurde. die \u00dcbungsaufgabe 10 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Bis hier haben Sie alles, was Sie f\u00fcr Ihre Semesteraufgabe ben\u00f6tigen, wenn Sie sie alleine erstellen. Ab hier ist alles Zusatz, m\u00fcssen Sie also nicht mehr machen. Woche 12 - JSON Web Token (JWT) wir erstellen uns ein Frontend und ein Backend f\u00fcr die Registrierung und das Login mithilfe von JWT das dazugeh\u00f6rige Skript finden Sie unter JSON Web Tokens (JWT) die \u00dcbungsaufgabe 11 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Sie k\u00f6nnen auch zus\u00e4tzlich gerne die dort im Ausblick diskutierten fehlenden Fehlerreaktionen implementieren - m\u00fcssen Sie aber auch nicht. Semesteraufgabe \u00b6 Am Ende des Kurses geben Sie eine Webanwendung ab. Diese wird bewertet und bildet die Modulnote f\u00fcr \"WebTech\" (es gibt also keine Klausur o.\u00e4.). \u00dcberlegen Sie sich fr\u00fch, was Sie implementieren wollen. Ihrer Kreativit\u00e4t sind keine Grenzen gesetzt. Es k\u00f6nnen 2 Studentinnen gemeinsam ein Projekt durchf\u00fchren und abgeben. Sie erhalten dann (h\u00f6chstwahrscheinlich) die gleiche Note. Es muss an den Commits erkennbar sein, welchen Anteil am Ergebnis jede der beiden Studentinnen hatte. Sobald Sie mit Ihrem Semesterprojekt fertig sind, geben Sie mir bitte Bescheid! Wir vereinbaren dann einen Online-Gespr\u00e4chstermin. Sie m\u00fcssen auch im 2.PZ nicht bis zum 1.4. warten - im Gegenteil, wenn wir die Gespr\u00e4che in den M\u00e4rz legen k\u00f6nnen, um so besser. Mindestanforderungen Folgende Anforderungen werden an Ihr Projekt gestellt: das Frontend soll mit Angular entwickelt werden, das Backend mit Node.js, als Datenbank soll MySQL verwendet werden, es soll CRUD implementiert sein, d.h. Sie ben\u00f6tigen eine Komponente zur Erstellung und Speicherung eines Datenbankeintrages ( C reate), eine Komponente zur \u00c4nderung eines Datenbankeintrages ( U pdate), eine Komponente zur Anzeige aller Datenbankeintr\u00e4ge ( R ead), eine Komponente zum L\u00f6schen eines Datenbankeintrages ( D elete). wenn Sie die Anwendung alleine umsetzen, dann gen\u00fcgen 3 der 4 CRUD-Funktionalit\u00e4ten wenn Sie die Anwendung zu zweit entwickeln, dann sollen alle 4 CRUD-Funktionalit\u00e4ten umgesetzt werden und Login (Username + Passwort) und ich schaue mir die Commit-Hiostorie im Git genauer an, um sicherzugehen, dass beide Studentinnen gleich viel an der Anwendung mitentwickelt haben Datenbankeintr\u00e4ge k\u00f6nnen B\u00fccher, CDs, ToDos, Einkaufslisten, Vorlesungen, K\u00fchlschrankinhalte usw. sein - wie gesagt, Ihrer Kreativit\u00e4t sind keine Grenzen gesetzt. Die Anwendung soll in einem Git-Dienst (GitHub, GitLab, ...) verf\u00fcgbar sein. Das README (oder eine andere Form der Projektbeschreibung) soll aussagekr\u00e4ftig sein. Verwenden Sie ein CSS-Framework, wie z.B. Materialize, Bootstrap o.\u00e4.! Ihre Anwendung soll \"modern\" aussehen. Nach Abgabe vereinbaren wir ein Online-Meeting, in dem Sie mir Ihre Anwendung nochmal zeigen k\u00f6nnen und ich Ihnen Fragen zu Ihrem Code stellen werde. Ist keine Pr\u00fcfung, sondern eher ein fachliches Gespr\u00e4ch.","title":"Home"},{"location":"#web-technologien","text":"Herzlich willkommen zur WebTech-Veranstaltung!","title":"Web-Technologien"},{"location":"#grober-inhalt","text":"In dieser Veranstaltung lernen Sie, was das World Wide Web ist und wie man eigene Webseiten und -anwendungen realisiert. Sie lernen die Protokolle und Sprachen http , HTML , CSS und JavaScript kennen und machen sich mit Angular , Node.js und REST vertraut. Nachfolgend der vorl\u00e4ufige Wochenplan (wird eventuell angepasst). Die Vorlesungsvideos finden Sie darunter f\u00fcr die einzelnen Wochen (unter Inhalte ). Woche Themen (Vorlesung) \u00dcbung Aufgabe (Stand) Abgabe \u00dcbung bis 1. 05.-09.10.2020 Einf\u00fchrung und Organisatorisches \u00dcbung 0 - - 2. 12.-16.10.2020 HTML \u00dcbung 1 Idee 25.10.2020 3. 19.-23.10.2020 CSS (Eigenschaften und Selektoren) \u00dcbung 2 - 01.11.2020 4. 26.-30.10.2020 RWD (Responsive Webdesign) \u00dcbung 3 Konzept 08.11.2020 5. 02.-06.11.2020 JavaScript (DOM, Events, DOM-Funktionen) \u00dcbung 4 - 15.11.2020 6. 09.-13.11.2020 JavaScript (JSON, AJAX) \u00dcbung 5 Datenmodell 22.11.2020 7. 16.-20.11.2020 Angular (Einf\u00fchrung und Komponenten) \u00dcbung 6 Schnittstelle 29.11.2020 8. 23.-27.11.2020 Angular (Material und Routen) \u00dcbung 7 Frontend (c+r) 13.12.2020 9. 30.-04.12.2020 Node.js + Express (REST-Server + MySQL) \u00dcbung 8 Frontend (u+d) 20.12.2020 10. 07.-11.12.2020 Angular (Anbindung ans Backend I) \u00dcbung 9 Frontend fertig 10.01.2020 11. 14.-18.12.2020 Angular (Anbindung ans Backend II) \u00dcbung 10 Backend ( c ) 17.01.2020 12. 21.-25.12.2020 - - Backend ( r ) - 13. 04.-08.01.2021 JWT - Backend (u) - 14. 11.-15.01.2021 Drittanbieter-APIs - Backend (d + fertig) - 15. 18.-22.01.2021 Wiederholung - fertig stellen - 16. 25.-29.01.2021 - Fragen Abgabe 1.PZ 13.02.2021 - Abgabe 2.PZ 01.04.2021 -","title":"Grober Inhalt"},{"location":"#organisatorisches","text":"Zur erfolgreichen Durchf\u00fchrung der Veranstaltung m\u00fcssen Sie die \u00dcbungen l\u00f6sen und zu den jeweiligen Fristen per Git auf einen Server (GitHub oder GitLab) laden. Am Ende des Semesters ist eine Aufgabe abzugeben. Diese Aufgabe wird bewertet. Die Bewertung entspricht dann der Modulnote. Hier sind die \u00dcbungen beschrieben, die Sie in jeder Woche ausf\u00fchren sollen. Damit Sie dies erfolgreich erledigen k\u00f6nnen, ist jeweils angegeben, welche Themen Sie daf\u00fcr durcharbeiten m\u00fcssen. Das Durcharbeiten der jeweiligen Themen entspricht jeweils einer Vorlesung. Diese wird also selbst\u00e4ndig durchgef\u00fchrt. F\u00fcr die Kommunikation untereinander verwenden wir Slack . Dort k\u00f6nnen Sie alle inhaltlichen und organisatorischen Fragen stellen. Ich f\u00e4nde es gut, wenn ich dort m\u00f6glichst wenig Fragen - zumindest die inhaltlichen - beantworten m\u00fcsste, sondern eine Art internes Diskussionsforum entsteht. Es ist sehr gew\u00fcnscht, dort Fragen zu stellen und noch mehr gew\u00fcnscht, diese von Ihnen dort beantwortet zu sehen. Damit w\u00e4re allen geholfen und ich kann besser erkennen, wo noch Nachhol- bzw. Erl\u00e4uterungsbedarf bei den meisten besteht.","title":"Organisatorisches"},{"location":"#inhalte","text":"Woche 1 - Einf\u00fchrung und Organisatorisches siehe \u00dcbungsaufgabe 0 die Notizen dazu finden Sie hier die Notizen dazu finden Sie hier Woche 2 - Hypertext Markup Language (HTML) siehe HTML siehe \u00dcbungsaufgabe 1 (HTML) hier die Bilder htw.jpg und fiw.jpg index.html aus HTML-Vorlesung <!DOCTYPE html> < html lang = \"de\" > < head > < meta charset = \"UTF-8\" > < title > HTML-Einf\u00fchrung </ title > </ head > < body > < h1 > gro\u00dfe \u00dcberschrift </ h1 > neuer Text < p > ein erster Absatz </ p > < h3 > kleinere \u00dcberschrift </ h3 > < p > noch ein Absatz </ p > Vorteile von HTML: < ul > < li > Syntax und Semantic frei definierbar </ li > < li > von Menschen lesbar </ li > < li > in Programmiersprachen einbettbar </ li > < li > offen f\u00fcr zuk\u00fcnftige Entwicklungen </ li > </ ul > <!-- das ist ein Kommentar --> < p > das ist ein l\u00e4ngerer Absatz < br /> das ist Text auf der n\u00e4chsten Zeile </ p > < img src = \"./images/fiw.jpg\" alt = \"FIW-Logo\" style = \"width: 200px;\" title = \"Mouseover-Effekt Informatione, die erscheinen, wenn wir mit der Maus dr\u00fcber fahren\" /> < h3 > Input-Elemente </ h3 > < input type = \"text\" /> < input type = \"radio\" /> < input type = \"checkbox\" checked = \"checked\" /> < input type = \"datetime-local\" /> < h3 > Hyperlinks </ h3 > das ist Text < a href = \"http://www.htw-berlin.de\" target = \"_blank\" > < img src = \"./images/htw.jpg\" alt = \"HTW Logo\" /> </ a > das ist weiterer Text < p > < a href = \"./Unter/dok1.html\" > Dok 1 </ a > </ p > < h3 > Container </ h3 > < section > < header > ein Absatz </ header > < article > noch ein Absatz </ article > < footer > noch ein Absatz </ footer > </ section > < div > < p > ein Absatz </ p > < p > noch ein Absatz </ p > < p > noch ein Absatz </ p > </ div > < h3 > Formulare </ h3 > < form method = \"post\" > < input type = \"text\" name = \"user\" placeholder = \"user\" /> < input type = \"password\" name = \"pwd\" /> < button type = \"submit\" > Login </ button > </ form > < ul > < li >< a href = \"http://freiheit.f4.htw-berlin.de/webtech/html/#http-anfragemethoden\" target = \"_blank\" > HTTP-Anfragemethoden </ a > </ li > < li >< a href = \"http://freiheit.f4.htw-berlin.de/webtech/html/#http-statusmeldungen\" target = \"_blank\" > HTTP-Statusmeldungen </ a > </ li > < li >< a href = \"http://freiheit.f4.htw-berlin.de/webtech/html/#urls\" target = \"_blank\" > URLs </ a > </ li > < li >< a href = \"http://freiheit.f4.htw-berlin.de/webtech/html/#domain-name-service-dns\" target = \"_blank\" > Domain Name Service (DNS) </ a > </ li > </ ul > </ body > </ html > Woche 3 - Cascading Style Sheets (CSS) siehe CSS siehe \u00dcbungsaufgabe 2 (CSS) css.html aus CSS-Vorlesung <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > CSS </ title > <!-- 1. externe CSS-Datei --> < link rel = \"stylesheet\" href = \"./styles/mystyles.css\" > <!-- 2. style-Element --> < style > h1 { font-weight : normal ; color : red ; } div > ul { color : grey ; } li { display : inline ; padding : 10 px ; margin : 5 px ; } span { display : block ; color : red ; } </ style > </ head > < body > < h1 > Cascading Style Sheets (CSS) </ h1 > < div > living standard - weiterentwickelt von W3C. < span > Seit 2000 CSS3. </ span > Wichtig: Trennung zwischen Inhalten (HTML) und Aussehen (CSS). </ div > < div > Wof\u00fcr CSS? < section > < ul class = \"orangeBackground blackColor\" > < li > ansprechender Stil (Font, Farben, Schriftgr\u00f6\u00dfe, Rahmen, ...) < a href = \"index.html\" > Link 2 </ a > </ li > < li > Layout (2-spaltig, 3-spaltig, Kopf- und Fu\u00dfzeilen, ...) < a href = \"index.html\" > Link 3 </ a > </ li > < li > responsives Webdesign (unterschiedlich f\u00fcr Mobile, Tablets, Desktop, ...) < a href = \"index.html\" > Link 4 </ a > </ li > </ ul > </ section > </ div > < ul class = \"orangeBackground\" > Inhalte heute: < li > Orte f\u00fcr CSS-Definitionen < a href = \"Unter/dok1.html\" > Link 5 </ a > </ li > < li > Selektoren < a href = \"Unter/dok1.html\" > Link 6 </ a > </ li > < li > Box Model < a href = \"Unter/dok1.html\" > Link 7 </ a > </ li > < li > Layout (Prinzip, float) < a href = \"Unter/dok1.html\" > Link 8 </ a > </ li > < li > Gewichtung der Selektoren < a href = \"Unter/dok1.html\" > Link 9 </ a > </ li > </ ul > </ body > </ html > styles/mystyles.css aus CSS-Vorlesung /* Kommentar in CSS selektor { eigenschaft1: wert; eigenschaft2: wert; } */ body { font-family : Verdana ; color : blue ; } a { text-decoration : none ; color : sandybrown ; } layout.html aus CSS-Vorlesung < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Layout mit float </ title > < style > # p1 , # p2 , # p3 { float : left ; width : 31.33 % ; padding : 1 % ; } </ style > </ head > < body > < p id = \"p1\" >< img src = \"./images/fiw.jpg\" alt = \"fiw-logo\" style = \"width:100%;\" /></ p > < p id = \"p2\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > < p id = \"p3\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > </ body > </ html > gewichtung.html aus CSS-Vorlesung <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Gewichtung der Selektoren </ title > < style > a : link { /* B=0 C=1 D=1 */ color : blue ; } li a { /* B=0 C=0 D=2 */ color : magenta ; } # navigation a . link { /* B=1 C=1 D=1 */ color : red ; } # navigation li a { /* B=1 C=0 D=2 */ color : black ; } </ style > </ head > < body > < ul id = \"navigation\" > < li >< a href = \"startseite.html\" class = \"link\" > Startseite </ a ></ li > < li >< a href = \"unterseite.html\" class = \"link\" > Unterseite </ a ></ li > < li > Kategorie A: style-Attribut im html-Element (Beispiel 0) </ li > < li > Kategorie B: f\u00fcr id </ li > < li > Kategorie C: Anzahl Klassen und Pseudoklassen </ li > < li > Kategorie D: Anzahl der Elemente und Pseudoelemente </ li > </ ul > </ body > </ html > Woche 4 - Responsive Webdesign (RWD) siehe Responsive Webdesign siehe \u00dcbungsaufgabe 3 (RWD + Bootstrap) Woche 5 - JavaScript (DOM) siehe JavaScript siehe \u00dcbungsaufgabe 4 (JavaScript, DOM) javascript.html aus JavaScript (DOM)-Vorlesung <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > HTML \u00e4ndern </ title > </ head > < body class = \"container-fluid\" > < input id = \"input1\" type = \"text\" class = \"form-control\" placeholder = \"neues Item\" onchange = \"doSomething()\" /> < ul id = \"ul1\" class = \"list-group\" > < li class = \"list-group-item active\" > erster </ li > < li class = \"list-group-item\" > zweiter </ li > < li class = \"list-group-item\" > dritter </ li > </ ul > < button type = \"button\" class = \"btn btn-primary\" onclick = \"createHeadline()\" > Klick mich </ button > < script > var idnr = 1 ; function doSomething () { let input1 = document . getElementById ( 'input1' ); let input1_value = input1 . value ; let ul1 = document . getElementById ( 'ul1' ); let new_item = document . createElement ( 'li' ); new_item . classList . add ( \"list-group-item\" ); new_item . id = \"li\" + idnr ++ ; /* let new_text = document.createTextNode(input1_value); new_item.appendChild(new_text); // li --> value */ new_item . innerHTML = input1_value + \"<span style='color: red;'> test </span>\" ; let listitems = document . getElementsByTagName ( 'li' ); console . log ( \"--------- drei ---------\" + listitems . length ); for ( let i = 0 ; i < listitems . length ; i ++ ) { console . log ( listitems [ i ]); } ul1 . insertBefore ( new_item , listitems [ 0 ]); let new_item2 = document . createElement ( 'li' ); new_item2 . classList . add ( \"list-group-item\" ); new_item2 . id = \"li\" + idnr ++ ; new_item2 . innerHTML = \"fuenftes\" ; ul1 . appendChild ( new_item2 ); console . log ( \"--------- nach 2 neuen ---------\" + listitems . length ); for ( let i = 0 ; i < listitems . length ; i ++ ) { console . log ( listitems [ i ]); } listitems [ 1 ]. classList . remove ( \"active\" ); listitems [ 3 ]. classList . add ( \"active\" ); } function createHeadline () { let body = document . body ; let input = document . getElementById ( 'input1' ); let h1 = document . createElement ( 'h1' ); h1 . innerHTML = \"HTML \u00e4ndern\" ; h1 . addEventListener ( 'mouseover' , doSomethingElse ); h1 . addEventListener ( 'mouseout' , doSomethingElse ); body . insertBefore ( h1 , input ); } function doSomethingElse ( event ) { let h1 = event . target ; if ( h1 . style . color === \"red\" ) { h1 . style . color = \"green\" ; h1 . style . fontSize = \"xx-large\" ; h1 . innerHTML = \"... und weg\" ; } else { h1 . style . color = \"red\" ; h1 . style . fontSize = \"400%\" ; h1 . innerHTML = \"... und wieder da\" ; } } </ script > </ body > </ html > Woche 6 - JavaScript (JSON, Ajax) siehe JSON und Ajax siehe \u00dcbungsaufgabe 5 (JSON, Ajax) json+ajax.html aus JavaScript (JSON, Ajax)-Vorlesung <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > JSON+AJAX </ title > </ head > < body onload = \"loadJSON()\" > < h3 > Objekte </ h3 > < div id = \"div1\" ></ div > < button type = \"button\" onclick = \"showObjects()\" > Show Objects </ button > < script > let person_obj ; function showObjects () { /* let person = { vorname: \"Maria\", nachname: \"Musterfrau\", kinder: { max: { vorname: \"Max\", alter: 7 }, moritz: { vorname: \"Moritz\", alter: 3 } }, auskunft: function() { return \"F: \" + this.vorname + \" \" + this.nachname; } } console.log(person.auskunft()); person.wohnort = \"Musterdorf\"; */ let person = person_obj ; console . log ( person ); console . log ( person . vorname + \" \" + person . nachname ); document . getElementById ( 'div1' ). innerHTML += person . vorname + \" \" + person . nachname + \"<br/>\" ; console . log ( person . wohnort ); /* let kinder = person.kinder; for(let i=0; i<kinder.length; i++) { console.log(kinder[i].vorname); } */ console . log ( person . kinder . max . vorname ); console . log ( person . kinder . moritz . vorname ); for ( let eigenschaften in person ) { console . log ( eigenschaften ); console . log ( person [ eigenschaften ]); } for ( let eigenschaften in person . kinder ) { console . log ( person . kinder [ eigenschaften ]. vorname ); for ( let kidseig in person . kinder [ eigenschaften ]) { console . log ( person . kinder [ eigenschaften ][ kidseig ]); } } let json_obj = JSON . stringify ( person ); document . getElementById ( 'div1' ). innerHTML += json_obj ; } function loadJSON () { let xhttp = new XMLHttpRequest (); xhttp . onreadystatechange = function () { if ( this . readyState === 4 && this . status === 200 ) { person_obj = JSON . parse ( this . responseText ); showObjects (); } }; xhttp . open ( \"GET\" , \"http://localhost/Webtech20/person.json\" , true ); xhttp . send (); } </ script > </ body > </ html > person.json aus JavaScript (JSON, Ajax)-Vorlesung { \"vorname\" : \"Maria\" , \"nachname\" : \"Musterfrau\" , \"kinder\" : { \"max\" : { \"vorname\" : \"Max\" , \"alter\" : 7 }, \"moritz\" : { \"vorname\" : \"Moritz\" , \"alter\" : 3 } }, \"wohnort\" : \"Musterdorf\" } Woche 7 - Angular (erstes Angular-Projekt) Diese Woche geht es darum, dass f\u00fcr alle die gesamte Entwicklungsumgebung ( npm , ng ) so funktioniert, dass Sie sich ein erstes Angular-Projekt aufsetzen k\u00f6nnen. Es gibt deshalb auch kein Video, weil ich da nur zeigen w\u00fcrde, wie ich das Projekt aufsetze. Arbeiten Sie die \u00dcbungsaufgabe 6 ( die \u00dcbungen wurden verschoben ) ab. Wenn alles klappt, sollte es schnell gehen. Ich werde in der \u00dcbung am 24.11. die Durchf\u00fchrung der \u00dcbung 6 zeigen und dabei ein Video aufnehmen, das ich hier einstelle. siehe \u00dcbungsaufgabe 6 siehe Angular Woche 8 - Angular (Material und Routing) Wir erweitern das Frontend. Wir nutzen Material als CSS-Framework. Wir verwenden das Tables-Schema, um eine Tabelle unserer Mockup-Daten zu erstellen und implementieren ein kleines Formular. Wir f\u00fchren Routing ein, auch parametrisiertes Routing. Es wird ein Service erstellt, der sich um die (client-seitige) Verwaltung der Daten k\u00fcmmert und der allen Komponenten zur Verf\u00fcgung steht. Es gibt kein Video, da der Abschnitt Material vollst\u00e4ndig als Schritt-f\u00fcr-Schritt-Anleitung geschrieben wurde. die \u00dcbungsaufgabe 7 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Woche 9 - Node.js + Express (REST-Server + MySQL) Wir erstellen ein Backend. Wir nutzen Node.js und Express, um einen REST-Server zu implementieren, der uns alle CRUD-Funktionalit\u00e4ten f\u00fcr die Verwaltung unseres Mockup-Datensatzes zur Verf\u00fcgung stellt. Wir verwenden MySQL zur Speicherung unserer Mockup-Daten. Der REST-Server enth\u00e4lt ein Model und einen Controller. Es gibt kein Video, da der Abschnitt REST-API vollst\u00e4ndig als Schritt-f\u00fcr-Schritt-Anleitung geschrieben wurde. die \u00dcbungsaufgabe 8 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Woche 10 - Angular - Anbindung ans Backend I Wir erstellen ein Frontend, mit dem wir an das im Abschnitt REST-API Backend anbinden. Wir beginnen mit dem Auslesen aller Datens\u00e4tze und lesen dann auch noch einen einzelnen Datensatz aus. Es werden also die Backend-Endpunkte GET localhost:3000/members und GET localhost:3000/members/id angebunden. Dazu machen wir uns mit dem HttpClient vertraut und lernen Observable s kennen. Wir erstellen unter Verwendung von Bootstrap eine Tabelle und ein Formular und nutzen Bootstrap-Icons. Wir untersuchen, wie man den Datenfluss von Eltern- auf Kindkomponenten realisiert und verwenden Interpolation sowie Strukturdirektiven. Es gibt kein Video, da der Abschnitt Anbindung an das Backend vollst\u00e4ndig als Schritt-f\u00fcr-Schritt-Anleitung mit zus\u00e4tzlichen Erl\u00e4uterungen und Links geschrieben wurde. die \u00dcbungsaufgabe 9 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Woche 11 - Angular - Anbindung ans Backend II Wir schlie\u00dfen die Anbindung an das im Abschnitt REST-API erstellte Backend ab und erstellen die fehlenden Funktionalit\u00e4ten delete und create . Dazu erstellen wir f\u00fcr delete einen modalen Dialog. Es gibt kein Video, da der Abschnitt Anbindung an das Backend vollst\u00e4ndig als Schritt-f\u00fcr-Schritt-Anleitung mit zus\u00e4tzlichen Erl\u00e4uterungen und Links geschrieben wurde. die \u00dcbungsaufgabe 10 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Bis hier haben Sie alles, was Sie f\u00fcr Ihre Semesteraufgabe ben\u00f6tigen, wenn Sie sie alleine erstellen. Ab hier ist alles Zusatz, m\u00fcssen Sie also nicht mehr machen. Woche 12 - JSON Web Token (JWT) wir erstellen uns ein Frontend und ein Backend f\u00fcr die Registrierung und das Login mithilfe von JWT das dazugeh\u00f6rige Skript finden Sie unter JSON Web Tokens (JWT) die \u00dcbungsaufgabe 11 besteht darin, diesen Abschnitt Schritt f\u00fcr Schritt nachzuvollziehen. Sie k\u00f6nnen auch zus\u00e4tzlich gerne die dort im Ausblick diskutierten fehlenden Fehlerreaktionen implementieren - m\u00fcssen Sie aber auch nicht.","title":"Inhalte"},{"location":"#semesteraufgabe","text":"Am Ende des Kurses geben Sie eine Webanwendung ab. Diese wird bewertet und bildet die Modulnote f\u00fcr \"WebTech\" (es gibt also keine Klausur o.\u00e4.). \u00dcberlegen Sie sich fr\u00fch, was Sie implementieren wollen. Ihrer Kreativit\u00e4t sind keine Grenzen gesetzt. Es k\u00f6nnen 2 Studentinnen gemeinsam ein Projekt durchf\u00fchren und abgeben. Sie erhalten dann (h\u00f6chstwahrscheinlich) die gleiche Note. Es muss an den Commits erkennbar sein, welchen Anteil am Ergebnis jede der beiden Studentinnen hatte. Sobald Sie mit Ihrem Semesterprojekt fertig sind, geben Sie mir bitte Bescheid! Wir vereinbaren dann einen Online-Gespr\u00e4chstermin. Sie m\u00fcssen auch im 2.PZ nicht bis zum 1.4. warten - im Gegenteil, wenn wir die Gespr\u00e4che in den M\u00e4rz legen k\u00f6nnen, um so besser. Mindestanforderungen Folgende Anforderungen werden an Ihr Projekt gestellt: das Frontend soll mit Angular entwickelt werden, das Backend mit Node.js, als Datenbank soll MySQL verwendet werden, es soll CRUD implementiert sein, d.h. Sie ben\u00f6tigen eine Komponente zur Erstellung und Speicherung eines Datenbankeintrages ( C reate), eine Komponente zur \u00c4nderung eines Datenbankeintrages ( U pdate), eine Komponente zur Anzeige aller Datenbankeintr\u00e4ge ( R ead), eine Komponente zum L\u00f6schen eines Datenbankeintrages ( D elete). wenn Sie die Anwendung alleine umsetzen, dann gen\u00fcgen 3 der 4 CRUD-Funktionalit\u00e4ten wenn Sie die Anwendung zu zweit entwickeln, dann sollen alle 4 CRUD-Funktionalit\u00e4ten umgesetzt werden und Login (Username + Passwort) und ich schaue mir die Commit-Hiostorie im Git genauer an, um sicherzugehen, dass beide Studentinnen gleich viel an der Anwendung mitentwickelt haben Datenbankeintr\u00e4ge k\u00f6nnen B\u00fccher, CDs, ToDos, Einkaufslisten, Vorlesungen, K\u00fchlschrankinhalte usw. sein - wie gesagt, Ihrer Kreativit\u00e4t sind keine Grenzen gesetzt. Die Anwendung soll in einem Git-Dienst (GitHub, GitLab, ...) verf\u00fcgbar sein. Das README (oder eine andere Form der Projektbeschreibung) soll aussagekr\u00e4ftig sein. Verwenden Sie ein CSS-Framework, wie z.B. Materialize, Bootstrap o.\u00e4.! Ihre Anwendung soll \"modern\" aussehen. Nach Abgabe vereinbaren wir ein Online-Meeting, in dem Sie mir Ihre Anwendung nochmal zeigen k\u00f6nnen und ich Ihnen Fragen zu Ihrem Code stellen werde. Ist keine Pr\u00fcfung, sondern eher ein fachliches Gespr\u00e4ch.","title":"Semesteraufgabe"},{"location":"angular/","text":"Angular \u00b6 Angular geh\u00f6rt neben React.js und Vue.js zu den meisteverwendeten Frameworks f\u00fcr die Entwicklung sogenannter Single-Page-Applikationen . In einer Single-Page-Applikation wird eine Seite vom Webserver geladen und diese Seite durch unterschiedliche Inhalte bef\u00fcllt, je nach Nutzerinteraktion. Diese Inhalte werden in Angular durch sogenannte Komponenten bereitgestellt. Komponenten sind die Grundbausteine einer Angular-Anwendung. Das erste Release von Angular erschien 2010 (damals noch unter dem Namen AngularJS, ab Version 2 nur noch Angular). React und Vue kamen 2013 bzw. 2014 erstmalig heraus. Angular wird haupts\u00e4chlich von Google, React haupts\u00e4chlich von Facebook und Vue als Community-Version entwickelt. Alle drei Frameworks stehen unter MIT-Lizent . Neben HTML und CSS verwendet Angular TypeScript . TypeScript ist eine Obermenge von JavaScript. Das bedeutet, dass jeder JavaScript-Code auch TypeScript ist, aber nicht umgekehrt. TypeScript-Code wird compiliert und erzeugt JavaScript-Code, der vom Browser ausgef\u00fchrt werden kann. Im Gegensatz zu JavaScript ist TypeScript typsicher und klar objektorientiert. Erstes Projekt erstellen \u00b6 Eine Angularanwendung besteht haupts\u00e4chlich aus Komponenten und Services. Um die Anwendung selbst sowie Komponenten und Services zu erstellen, wird am besten das Command Line Interface for Angular (Angular CLI) verwendet. \u00d6ffnen Sie ein Terminal (Windows-Nutzerinnen sollten die Git-Bash verwenden, die Sie bereits mit Git installiert haben). Wechseln Sie im Terminal in das Verzeichnis, das Ihre Projekte enthalten soll. F\u00fcr das Wechseln in andere Verzeichnisse nutzen Sie den cd Befehl (change directory). Um die Anwendung \"first\" zu erzeugen, geben Sie folgenden Befehl in das Terminal ein: ng new first ng steht f\u00fcr Angular. Mit dem Attribut new geben Sie an, dass Sie ein neues Projekt erzeugen wollen. first ist der Name des Projektes. Wenn Sie gefragt werden, ob Sie Angular routing verwenden m\u00f6chten, geben Sie ein y ein. Wenn Sie nach dem stylesheet format gefragt werden, k\u00f6nnen Sie CSS einfach mit Enter best\u00e4tigen. Wenn alles geklappt hat, erhalten Sie im Terminal eine Ausgabe in der Form: Es entsteht ein Ordner first in Ihrem Projekte-Verzeichnis. Wechseln Sie in dieses Verzeichnis: cd first F\u00fchren Sie darin den Befehl: npm install aus. Damit werden alle Abh\u00e4ngigkeiten, die in der Datei package.json definiert sind, geladen und das node_modules -Verzeichnis erstellt. Siehe z.B. hier . Danach geben Sie ng serve ein. Es werden die entsprechenden TypeScript-Dateien compiliert und es erscheint am Ende eine Ausgabe, wie z.B. ** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ ** :Compiled successfully. Sie m\u00fcssen jetzt immer compileren! Wenn Sie aber einmal ng serve ausgef\u00fchrt haben, wird im Browser automatisch auf die \u00c4nderungen reagiert. Sie m\u00fcssen also nicht jedes Mal neu ng serve eingeben, bzw. nicht jedes Mal neu auf das gr\u00fcne Dreieck in Ihrer IDE klicken: \u00d6ffnen Sie Ihren Browser und geben Sie als URL http://localhost:4200 ein. Folgende Seite sollte erscheinen: Success Fertig! Sie haben Ihr erstes Angular-Projekt erstellt. Angular-Projektstruktur \u00b6 \u00d6ffnen Sie die IDE Ihrer Wahl (Screenshots hier mit [PhpStorm] ( https://www.jetbrains.com/de-de/phpstorm/ ). W\u00e4hlen Sie unter Open Project den Projektordner first . Klappen Sie das Projekt first auf, klappen Sie den Ordner src und dann den Ordner app auf. Der Projektexplorer zeigt folgendes Bild: Die meiste Arbeit wird im src -Ordner erledigt. Darin befindet sich (wird sich befinden) der Code unserer Anwendung. Darin der wichtigste Ordner ist der app -Ordner. Hier werden wir unsere Module, Komponenten und Services hinzuf\u00fcgen. In dem assets -Ordner werden Bilder, Icons und Daten abgelegt. Der node_modules -Ordner enth\u00e4lt alle ben\u00f6tigten 3 rd -party-libraries. Welche das sind, wird in der Datei package.json als dependencies definiert. Mithilfe des Befehls npm install werden alle ben\u00f6tigten Module dem Ordner node_modules hinzugef\u00fcgt. Der Ordner environments enth\u00e4lt die notwendigen Konfigurationsinformationen f\u00fcr den development - und den production -Modus. Wir entwickeln zun\u00e4chst im development -Modus. favicon.ico ist das Favicon - ein kleines Icon, das im Reiter erscheint. W\u00e4hlen Sie am besten ein eigenes. index.html ist die Hauptseite. Mithilfe von Angular entwickeln wir eine Single Page Application , d.h. es wird eine einzige HTML-Seite geladen ( index.html ) und jeder weitere Inhalt wird asynchron hinzugef\u00fcgt. styles.css enth\u00e4lt die globalen Stylesheets, d.h. die CSS-Eigenschaften, die f\u00fcr das gesamte Projekt gelten sollen. Die app.component.* -Dateien beschreiben die app-Komponente. Eine Komponente besteht aus einer HTML -, einer CSS - und einer TypeScript -Datei (auch noch eine *.spec.ts , aber die interessiert zun\u00e4chst nicht). \u00d6ffnen Sie in Ihrer IDE die Datei app.component.html . L\u00f6schen Sie den kompletten Inhalt und lassen nur noch <router-outlet></router-outlet> . F\u00fcgen Sie oberhalb von <router-outlet></router-outlet> die Zeile <h1>This is app</h1> ein. Gehen Sie wieder zum Browser und schauen sich den ge\u00f6ffneten Tab mit der URL localhost:4200 an. Es erscheint der folgende Inhalt: \u00d6ffnen Sie die app.component.css -Datei und geben Sie dort h1 { color : red ; } Nach den \u00c4nderungen in app.component.css erscheint der Text der \u00dcberschrift in rot: Zusammenfassung Wir haben die die app.component.html ge\u00e4ndert, um den Inhalt der dargestellten Seite anzupassen und die app.component.css , um \u00c4nderungen an der Darstellung (dem Stil) des Inhalts durchzuf\u00fchren. Single Page Application \u00b6 Wenn wir eine Anwendung mit Angular erstellen, dann handelt es sich dabei um eine sogenannte Single Page Application (SPA) , d.h. es wird genau eine Seite vom Webserver geladen und alle Inhalte werden in diese Seite (nach-)geladen, je nach Nutzerinteraktion. Die hier geladene Seite ist die index.html , die in unserem Projekte-Ordner frontend liegt. Sie sieht so aus: index.html <!doctype html> < html lang = \"en\" > < head > < meta charset = \"utf-8\" > < title > Frontend </ title > < base href = \"/\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"icon\" type = \"image/x-icon\" href = \"favicon.ico\" > </ head > < body > < app-root ></ app-root > </ body > </ html > Das Element <app-root> ist dabei ein sogenannter Tag-Selektor (auch Element-Selektor oder Komponenten-Selektor ). Prefix \u00e4ndern - optional \u00b6 app ist dabei ein Prefix, der f\u00fcr die gesamte Anwendung gilt. Diesen Prefix k\u00f6nnen Sie \u00e4ndern. Im folgenden ist beschrieben, wie Sie ihn von app auf htw \u00e4ndern. \u00d6ffnen Sie dazu die Datei angular.json , die sich im Projekt-Ordner frontend befindet. Diese Datei enth\u00e4lt die zentrale Konfiguration Ihres Projektes. Sie sieht wie folgt aus (Ausschnitt): angular.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 { \"$schema\" : \"./node_modules/@angular/cli/lib/config/schema.json\" , \"version\" : 1 , \"newProjectRoot\" : \"projects\" , \"projects\" : { \"frontend\" : { \"projectType\" : \"application\" , \"schematics\" : {}, \"root\" : \"\" , \"sourceRoot\" : \"src\" , \"prefix\" : \"app\" , \"architect\" : { \"build\" : { \"builder\" : \"@angular-devkit/build-angular:browser\" , \"options\" : { \"outputPath\" : \"dist/frontend\" , \"index\" : \"src/index.html\" , \u00c4ndern Sie den Prefix in der hell markierten Zeile auf z.B. \"htw\" (oder Ihre Initialen vielleicht). Au\u00dferdem muss auch noch die tslint.json angepasst werden: tslint.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 { \"extends\" : \"tslint:recommended\" , \"rules\" : { \"array-type\" : false , \"arrow-parens\" : false , \"deprecation\" : { \"severity\" : \"warning\" }, \"component-class-suffix\" : true , \"contextual-lifecycle\" : true , \"directive-class-suffix\" : true , \"directive-selector\" : [ true , \"attribute\" , \"htw\" , \"camelCase\" ], \"component-selector\" : [ true , \"element\" , \"htw\" , \"kebab-case\" ], \"import-blacklist\" : [ true , Dort wo in den hervorgehobenen Zeilen nun das neue Prefix \"htw\" steht, stand vorher \"app\". In der index.html und in der app.component.ts auch noch \u00e4ndern. Ab dann ist die Verwendung von \"htw\" als Prefix einegrichtet. Sie k\u00f6nnen es aber auch bei \"app\" belassen. Es soll an dieser Stelle einem besseren Verst\u00e4ndnis des Prinzips dienen. index.html 1 2 3 4 5 6 7 8 9 10 11 12 13 <!doctype html> < html lang = \"en\" > < head > < meta charset = \"utf-8\" > < title > Frontend </ title > < base href = \"/\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"icon\" type = \"image/x-icon\" href = \"favicon.ico\" > </ head > < body > < htw-root ></ htw-root > </ body > </ html > app/app.component.ts 1 2 3 4 5 6 7 8 9 import { Component } from '@angular/core' ; @ Component ({ selector : 'htw-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { title = 'frontend' ; } Komponenten-Selektoren \u00b6 Nochmal zur\u00fcck zu unserer index.html - der single page, die vom Webserver geladen wird und in die alle weiteren Komponenten eingebunden werden. Wir haben dort nun also den Komponenten-Selektor <htw-root></htw-root> . In diesen Selektor wird nun dir root -Komponente ( app.component ) geladen. Dieser Selektor wird durch die root -Komponente ersetzt. Das ist unsere app/app.component.* . Eine solche Komponente besteht immer aus einer css -, einer html - und einer ts -Datei. Es wird also in diesen Komponenten-Selektor der HTML-Code der app.component.html eingebunden. Das sehen Sie auch, wenn Sie die Developer-Tools an Ihrem Browser \u00f6ffnen und sich den Quellcode der aktuellen Anwendung anschauen: Komponenten \u00b6 Eine Angular-Anwendung besteht haupts\u00e4chlich aus Komponenten . Jede Anwendung hat eine Hauptkomponente - die sogenannte Root Component. Diese Hauptkomponente ist meistens die AppComponent . Eine Komponente hat eine in sich geschlossene Bedeutung, z.B. ein Formular f\u00fcr Dateneingabe, eine Liste aller Daten oder auch nur ein bestimmtes Element. Eine Komponente besteht aus einer View ( Template ) und einer TypeScript-Klasse. Die AppComponent besteht z.B. aus der app.component.html (der View) und der app.component.ts (der TypeScript-Klasse). Die TypeScript-Klasse k\u00fcmmert sich um die Verwaltung der Daten, die in der View dargestellt und/oder durch Eingaben erzeugt werden. Die TypeScript-Klasse beschreibt die Logik der Komponente. Die View ist der dargestellte Bereich der Komponente, also das, was man im Browser von der Komponente sieht. Neben der *.html - und der *.ts -Datei einer Komponente gibt es auch noch die *.css -Datei (also z.B. app.component.css ). Diese enth\u00e4lt CSS-Eigenschaften, die speziell f\u00fcr die Komponente gelten sollen. Um eine Komponente der gesamten Anwendung als Komponente bekannt zu machen, wird der Decorator @Component verwendet. Decoratoren erkennt man am f\u00fchrenden @ -Zeichen. Sie werden verwendet, um Metadaten der Anwendung zu verwalten. Der typische Aufbau einer Komponente (hier AppComponent - app.component.ts ): @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { title = 'book-app' ; } Der Selektor gibt an, dass \u00fcberall dort, wo app-root als Elementselektor <app-root> </app-root> verwendet wird, das in app.component.html definerte Template eingesetzt wird. Angenommen, in app.component.html ist der HTML-Code: < h1 > This is app </ h1 > definiert. Dann wird dieser Code als Inhalt in das HTML-Element <app-root> </app-root> eingesetzt: < app-root > < h1 > This is app </ h1 > </ app-root > Wir schauen uns ein ausf\u00fchrlicheres Beispiel im Folgenden an, in dem wir eine neue Komponente erzeugen. Eine neue Komponente erzeugen \u00b6 Mithilfe von Angular-CLI erzeugen wir in unserer App first eine neue Komponente. Wir wechseln dazu im Terminal in den Ordner von first und geben dann ng generate component mycomponent ein. Sp\u00e4ter k\u00fcrzen wir solche Eingaben ab. Anstelle von generate brauchen wir auch nur g zu schreiben. Und anstelle von component gen\u00fcgt c . Das hei\u00dft, wir h\u00e4tten stattdessen auch ng g c mycomponent schreiben k\u00f6nnen. In unserer first App gibt es nun die Komponente mycomponent : Jede Angular-Komponente besteht aus vier Teilen: der TypeScript-Klasse (die *.component.ts -Datei) dem Template (die *.component.html -Datei) den Styles (die *.component.css -Datei) einer Testspezifikation (die *.component.spec.ts -Datei) Jede Komponente wird in der app.module.ts der gesamten Anwendung bekannt gemacht. Das erfolgt mithilfe der Eigenschaft declarations im Decorator @NgModule() : import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { MycomponentComponent } from './mycomponent/mycomponent.component' ; @ NgModule ({ declarations : [ AppComponent , MycomponentComponent ], imports : [ BrowserModule , AppRoutingModule ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Das obige Listing zeigt, dass die neue Komponente Mycomponent registriert wurde. Um dieses Eintragen in die app.module.ts m\u00fcssen wir uns aber nicht k\u00fcmmern, das erledigt die Angular-CLI mit der Anweisung zur Erstellung einer neuen Komponente ng generate component newComponent . Doppelklicken Sie im Projektexplorer Ihrer IDE auf die Datei mycomponent.component.ts , um sie zu \u00f6ffnen. Sie enth\u00e4lt den folgenden Quelltext: import { Component , OnInit } from '@angular/core' ; @ Component ({ selector : 'app-mycomponent' , templateUrl : './mycomponent.component.html' , styleUrls : [ './mycomponent.component.css' ] }) export class MycomponentComponent implements OnInit { constructor () { } ngOnInit () : void { } } Wir \u00e4ndern diese Datei zun\u00e4chst nicht und \u00f6ffnen auch noch die mycomponent.component.html . Diese enth\u00e4lt nur ein HTML-Element, einen Absatz: < p > mycomponent works! </ p > Wir \u00e4ndern auch diese Datei zun\u00e4chst nicht und \u00f6ffnen die app.component.html - die HTML-Datei unserer Root-Komponente. Diese sieht derzeit so aus: < h1 > This is app </ h1 > < router-outlet ></ router-outlet > Wir f\u00fcgen in die Datei den Selektor app-mycomponent unserer neuen Mycomponent -Komponente als HTML-Element ein: < h1 > This is app </ h1 > < app-mycomponent ></ app-mycomponent > <!-- eingefuegt --> < router-outlet ></ router-outlet > Dieses Element dient als \"Platzhalter\" f\u00fcr das Template unserer neuen Komponente. Das bedeutet, dass in dieses Element der HTML-Code aus mycomponent.component.html eingef\u00fcgt wird. Wechseln Sie in den Browser auf den Tab mit Ihrer Anwendung ( http://localhost:4200/ ). Sie sehen folgendes Bild: Unterhalb der \u00dcberschrift ( <h1>This is app</h1> ) wurde also der Absatz <p>mycomponent works!</p> eingef\u00fcgt. Wenn Sie sich den Quelltext Ihrer Seite anschauen, z.B. \u00fcber die Entwicklertools Ihres Browsers ( z.B. f\u00fcr Chrome ), dann wird folgender Code sichtbar: Wir k\u00f6nnen hier die Attribute der HTML-Elemente vernachl\u00e4ssigen (also z.B. _nghost-menu-c19 oder ng-version=\"9.0.7\" ). Aber es wird folgende HTML-Struktur sichtbar: < app-root > < h1 > This is app </ h1 > < app-mycomponent > < p > mycomponent works! </ p > </ app-mycomponent > < router-outlet ></ router-outlet > </ app-root > Das Element <app-root> fungiert als Platzhalter f\u00fcr die gesamte App. In dieses Element wird der gesamte Inhalt der Anwendung eingebunden (siehe app.component.html ). Dies ist hier zun\u00e4chst eine \u00dcberschrift <h1> , die von dem Element f\u00fcr die Mycomponent -Komponente gefolgt wird. Das bedeutet, dass in das Element <app-mycomponent> der Inhalt der Komponente Mycomponent eingebunden wird. Das ist hier nur ein Absatz <p> (siehe dazu mycomponent.component.html ). Das Element router-outlet> soll uns an dieser Stelle noch nicht interessieren. Das wird erst interessant, wenn wir \u00fcber das Routing in einer Angular-Anwendung sprechen. Direktiven \u00b6 In Angular gibt es 3 Arten sogenannter Direktiven (engl. Directives ): Komponentendirektiven (Components\u2014directives) Attributdirektiven (Attribute Directives) Strukturdirektiven (Structural-Direktives) Komponentendirektiven sind die meistverwendete Art und bereits in Angular \u2192 Kompnenten betrachtet. Attribut- und Strukturdirektiven k\u00f6nnen als HTML-Attribute verstanden werden, die dem HTML-Element ein zus\u00e4tzliches Verhalten hinzuf\u00fcgt. Attributdirektiven wirken sich das innere Verhalten eines HTML-Elementes aus (z.B. k\u00f6nnen damit CSS-Eigenschaften ge\u00e4ndert, hinzugef\u00fcgt oder gel\u00f6scht werden). Mit Strukturdirektiven kann die Struktur des DOMs ge\u00e4ndert werden (z.B. k\u00f6nnen ganze HTML-Elemente dem DOM-Baum hinzugef\u00fcgt werden). Strukturdirektiven \u00b6 Strukturdirektiven beginnen immer mit einem Stern * . Die bekanntesten Vertreter sind *ngFor *ngIf *ngSwitch Diese sind auch in angular.io erl\u00e4utert. Wir erl\u00e4utern die darin aufgef\u00fchrten Beispiele und beginnen mit *ngIf : 1 2 3 4 5 6 7 8 < p * ngIf = \"true\" > Expression is true and ngIf is true. This paragraph is in the DOM. </ p > < p * ngIf = \"false\" > Expression is false and ngIf is false. This paragraph is not in the DOM. </ p > Die Direktive *ngIf wird also wie ein Attribut des <p> -Elementes behandelt. Das Attribut *ngIf hat entweder den Wert \"true\" oder den Wert \"false\" . Ja nach Wert des Attributes wird das jeweilige <p> -Element in den DOM-Baum eingebunden. Also entweder das <p> -Element aus den Codezeilen 1 - 4 (bei Wert \"true\" ) oder das <p> -Element aus den Codezeilen 5 - 8 (bei Wert \"false\" ). In einer echten Anwendung ergibt sich der Wert des Attributes/der Direktive meistens aus dem Wert einer boole'schen Variablen oder einem anderen boole'schen Ausdruck. Das nicht dargestellte Element ist auch nicht Teil des DOMs! Es ist also nicht einfach nur auf hide gesetzt, sondern es ist gar nicht im DOM vorhanden. Intern wird aus der *ngIf -Direktive \u00fcbrigens ein sogenanntes Property-Binding : < ng-template [ ngIf ]=\" true \" > < p > Expression is true and ngIf is true. This paragraph is in the DOM. </ p > </ ng-template > < ng-template [ ngIf ]=\" false \" > < p > Expression is false and ngIf is false. This paragraph is not in the DOM. </ p > </ ng-template > Die *ngFor -Direktive ist etwas komplexer als *ngIf . F\u00fcr *ngFor ben\u00f6tigen wir mindestens eine Liste (oder ein Array) und eine Laufvariable, die die Werte aus der Liste annehmen kann. Im folgenden Beispiel ist i unsere laufvariable und [1, 2, 3, 4, 5, 6] unser Array. < div * ngFor = \"let i of [1, 2, 3, 4, 5, 6]\" > {{ i }} </ div > F\u00fcr jeden Wert aus der Liste wird ein eigenes <div> - Element erzeugt. Der DOM-Baum sieht f\u00fcr obiges Beispiel also wie folgt aus (Angular-Attribute weggelassen): < div > 1 </ div > < div > 2 </ div > < div > 3 </ div > < div > 4 </ div > < div > 5 </ div > < div > 6 </ div > Au\u00dferdem stellt *ngFor noch einige Hilfsvariablen zur Verf\u00fcgung, die ebenfalls genutzt werden k\u00f6nnen: index (Index des aktuellen Elementes 0, 1, 2, ... ) first (ist true , wenn erstes Element, sonst false ) last (ist true , wenn letztes Element, sonst false ) even (ist true , wenn Index gerade , sonst false ) odd (ist true , wenn Index ungerade , sonst false ) Folgend ein komplexeres Beispiel unter Verwendung einiger Hilfsvariablen: 1 2 3 4 5 6 7 8 9 < div * ngFor = \"let value of [1, 2, 3, 4, 5, 6]; index as i; first as f; last as l; odd as o;\" > < div * ngIf = \"f\" > Start </ div > < div [ style . color ]=\" o ? ' red ' : ' blue '\" > {{ i }} : {{ value }} </ div > < div * ngIf = \"l\" > Ende </ div > </ div > In Zeile 1 ist unsere Laufvariable durch das Array nun value . Au\u00dferdem wird der jeweilige Wert von index in der Variablen i (Zeilennummer 2 ) gespeichert, der Wert von first in der Variablen f (Zeilennummer 3 ), der Wert von last in der Variablen l (Zeilennummer 4 ) und der Wert von odd in der Variablen o (Zeilennummer 5 ) - die Hilfsvariable even betrachten wir hier nicht, da deren Wert genau der Negation von odd entspricht. In Zeile 6 wenden wir die *ngIf -Direktive an: ein <div> mit dem Inhalt Start wird vor dem ersten Element aus dem Array ausgegeben. F\u00fcr jedes weitere Element nicht mehr. In Zeile 7 erfolgt ein Property Binding : die color -Eigenschaft bekommt einen Wert zugewiesen. Der Wert ist jedoch abh\u00e4ngig davon, ob o wahr ist (dann Wert red ) oder falsch (dann Wert blue ). Zeile 7 zeigt au\u00dferdem wie mithilfe von Interpolation der Wert von i und der Wert von value , getrennt mit : ausgegeben werden. Die Ausgabe ist also: Aufgabe Informieren Sie sich auch \u00fcber die *ngSwitch -Direktive. Implementieren Sie ein Beispiel, in dem Sie die 3 Direktiven *ngIf , *ngFor und *ngSwitch anwenden. {{ Interpolation }} \u00b6 Interpolation ist die einfachste Form des data binding . Syntaktisch erkennt man Interpolation an den doppelten geschweiften Klammern {{ Interpolation }} . Beispiel 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import { Component } from '@angular/core' ; @ Component ({ selector : 'app-lesson' , template : ` <h1>{{ headline }}</h1> <p>Hier steht {{name}}</p> ` , styleUrls : [ './lesson.component.css' ] }) export class LessonComponent { headline = 'Mein Titel' ; name = 'mein Name' ; } Im obigen Beispiel hat die Komponente LessonComponent zwei Eigenschaften: headline und name . In obiger Komponente wird (zur Anschauung) sogenanntes inline templating verwendet, d.h. es gibt keine eigene lesson.component.html -Datei, in der der HTML-Code steht, sondern der HTML-Code wird direkt in die template -Eigenschaft der Typescript-Datei lesson.component.ts eingef\u00fcgt (siehe Zeilen 5-8 im obigen Beispiel). Der HTML-Code wird in backticks eingefasst ( `` ), nicht zu verwechseln mit den einfachen Anf\u00fchrungsstrichen ( '' ). Damit inline templating m\u00f6glich ist, wird die Komponente mit dem Flag -t erzeugt ( inlineTemplate=true ), d.h. unsere Lesson-Komponente wurde mithilfe der CLI wie folgt erzeugt: ng g c lesson -t Eine Interpolation kann auch Ausdr\u00fccke enthalten, die aufgel\u00f6st werden, z.B. < p > 1 + 2 = {{1 + 2}}. </ p > Man kann mithilfe einer Direktive durch ein Array laufen und jedes einzelne Element mithilfe von Interpolation ausgeben: @ Component ({ selector : 'app-lesson' , template : ` <ol> <li *ngFor=\"let day of weekdays\">{{ day }}</li> </ol> ` , styleUrls : [ './lesson.component.css' ] }) export class LessonComponent { weekdays = [ 'Monday' , 'Tuesday' , 'Wednesday' , 'Thursday' , 'Friday' , 'Saturday' , 'Sunday' ]; } Oder es ist m\u00f6glich, Attributen von HTML-Elementen mithilfe von Interpolation Werte zuzuordnen: @ Component ({ selector : 'app-lesson' , template : ` <img src=\"{{ imgUrl }}\" /> ` , styleUrls : [ './lesson.component.css' ] }) export class LessonComponent { imgUrl = 'https://www.dpunkt.de/common/images/cover_masterid/800/12400.jpg' ; } [Property Bindings] \u00b6 Insbesondere, wenn Attributen von HTML-Elementen Werte zugeordnet werden sollen (so wie im letzten Beispiel des Abschnitts {{Interpolation}} ), spricht man von property binding . Property binding spielt eine gro\u00dfe Rolle beim Datenfluss von Eltern-Komponenten auf Kind-Komponenten. Die generelle Idee dabei ist, dass mithilfe von property binding Werte (Daten) an Attribute von HTML-Elementen bindet. Diese HTML-Elemente k\u00f6nnen auch Komponenten sein. Wir betrachten zun\u00e4chst die unterschiedlichen Arten (Notationen) von property binding: < element [ property ]=\" ausdruck \" ></ element > D.h. ein ausdruck wird \u00fcbergeben, der zu einem Wert aufgel\u00f6st wird und dieser Wert wird dem Attribut property \u00fcbergeben. Betrachten wir nochmals das letzte Beispiel aus dem Abschnitt {{Interpolation}} ). Bei diesem Beispiel haben wir Interpolation verwendet, um dem Attribut src des HTML-Elementes img einen Wert zuzuweisen. Das exakt gleiche Verhalten l\u00e4sst sich auch mittels property bindings erzeugen: < img [ src ]=\" imgUrl \" /> <!-- imgUrl = 'https://www.dpunkt.de/common/images/cover_masterid/800/12400.jpg'; --> Neben diesen \"allgemeinen\" property bindings gibt es auch noch \"spezielle\" property bindings, n\u00e4mlich class bindings und style bindings . Bei class bindings wird das Pr\u00e4fix class vor die property (die entsprechende CSS-Klasse) gesetzt: < element [ class . class1 ]=\" class1enabled \" [ class . class2 ]=\" class2enabled \" ... ></ element > D.h. die CSS-Klasse class1 ist genau dann wirksam, wenn der Ausdruck class1enabled true ist und class2 ist genau dann wirksam, wenn der Ausdruck class2enabled true ist usw. Bei den style bindings werden jedoch gar keine Ausdr\u00fccke, sondern Werte \u00fcbergeben: < element [ style . color ] (Event Bindings) \u00b6 In den property bindings haben wir gesehen, wie Werte Attributen (Eigenschaften) von Elementen zugeordnet werden k\u00f6nnen. Aus JavaScript ist auch bekannt, dass Ereignisse Attribute von Elementen sein k\u00f6nnen, z.B. onClick , onKeyup , onChange usw. Dabei handelt es sich um sogenannte native DOM-Ereignisse . Neben der M\u00f6glichkeit, solche nativen DOM-Ereigniss zu behandeln, bietet Angular auch die M\u00f6glichkeit, eigene Ereignisse zu definieren und diese zu behandeln. Wir betrachten beide M\u00f6glichkeiten und beginnen mit den nativen Ereignissen. Native DOM-Ereignisse \u00b6 In HTML sieht das unter Aufruf einer JavaScript-Funktion f\u00fcr die Ereignisbahandlung dann typischerweise (hier das Click-Ereignis f\u00fcr einen Button) wie folgt aus: HTML < button onClick = \"doSomething()\" > Click here! </ button > JavaScript function doSomething () { // something to do } In Angular ist das Prinzip das gleiche, nur dass das Ereignis in runden Klammern genannt und an dieses Ereignis die Ereignisbehandlung gebunden wird ( event binding ). Das bedeutet, das Angular-Template f\u00fcr das obige Beispiel sieht wie folgt aus: Angular-Template < button ( click )=\" doSomething ()\" > Click here! </ button > Angular-Typescript export class EventsComponent { doSomething () { // something to do } } Dieses Prinzip gilt f\u00fcr alle nativen DOM-Ereignisse. Hier ein kurzer \u00dcberblick \u00fcber die wichtigsten (f\u00fcr eine umfangreichere Liste siehe hier oder hier ): Ereignis Beschreibung click Mausklick auf das Element change Der Inhalt/Wert eines Elementes hat sich ge\u00e4ndert mouseover die Maus wird \u00fcber das Element bewegt mouseout die Maus wird vom Element wegbewegt keydown eine Taste der Tastatur wird gedr\u00fcckt keyup Loslassen einer Taste load der Browser hat die Seite vollst\u00e4ndig geladen focus Fokussieren des Elements (z.B. Anklicken) blur Verlieren des Fokus (z.B. Klick au\u00dferhalb) submit Abschicken eines Formulars copy , paste Kopieren, Einf\u00fcgen von Text Einen kleinen Unterschied gibt es noch bei der \u00dcbergabe des Ereignisses an die das Ereignis behandelnde Funktion zu beachten. W\u00e4hrend in plain JavaScript das Ereignis mit event der Funktion \u00fcbergeben wird, erfolgt die \u00dcbergabe des Ereignisses in Angular mit $event . Beispiel: Angular-Template < input ( change )=\" showPayload ($ event )\" type = \"text\" /> Angular-Typescript export class EventsComponent { showPayload ( e : Event ) { console . log ( e ); } } Alle Events (in TypeScript/Angular) sind vom Typ Event . Es gibt noch speziellere Eventtypen, die aber alle auf dem Interface Event basieren, z.B. MouseEvent , InputEvent , KeyboardEvent , UIEvent , ClipboardEvent . Weitere Details siehe hier . Die einfache JavaScript-Attributschreibweise kann in Angular nicht verwendet werden, sondern immer nur die event binding -Schreibweise von Angular (mit den runden Klammern)! Eigene Ereignisse \u00b6 F\u00fcr eine Komponente kann ein eigenes - nicht natives - Ereignis definiert werden. Dies geschieht, indem f\u00fcr eine Komponente eine neue Eigenschaft (z.B. myEvent ) definiert wird und diese vom Typ EventEmitter deklariert wird. Mithilfe von Generics kann der Typ des Events angegeben werden, der ausgel\u00f6st werden soll - wenn Sie den Typ nicht genau kennen, verwenden Sie any . Soll das Ereignis an die Elternkomponente weitergeleitet werden, was meistens der Fall ist, wird der Decorator @Output() verwendet. Das Ausl\u00f6sen des Events geschieht dann durch die emit() -Methode von EventEmitter . Hier ein typisches Beispiel (zun\u00e4chst die Kindkomponente EventsComponent - also events.component.html und events.component.ts ): .html < button ( click )=\" emitMyEvent ()\" > Click here! </ button > .ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import { Component , EventEmitter , Output } from '@angular/core' ; @ Component ({ selector : 'app-events' , templateUrl : './events.component.html' , styleUrls : [ './events.component.css' ] }) export class EventsComponent { @ Output () myEvent = new EventEmitter < any > (); emitMyEvent () { this . myEvent . emit (); } } Die .html -Datei definiert einen Button mit dem nativen Ereignis click . Dieses wird durch die Methode emitMyEvent() behandelt. In der .ts -Datei ist diese Methode definiert (Zeilen 11-13). Darin wird das eigene Event myEvent ausgel\u00f6st. Dieses Event ist ein Objekt vom Typ EventEmitter , typisiert als any (beliebiger Typ). Das Ausl\u00f6sen dieses Events wird an die aufrufende Komponente (die Elternkomponente) ausgegeben (Decorator @Output() ). Deklaration der Eigenschaft und Dekorieren mit @Output() in Zeile 9. Das Ausl\u00f6sen des eigenen Events erfolgt durch den Aufruf der Methode emit() aus EventEmitter (Zeile 12). In der Elternkomponente kann dieses Ereignis nun empfangen werden (Beispiel einer Elternkomponente AppComponent - also app.component.html und app.component.ts ): .html < app-events ( myEvent )=\" handleEventFromEventsComponent ()\" ></ app-events > .ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import { Component } from '@angular/core' ; @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { handleEventFromEventsComponent () { console . log ( 'myEvent in der Kindkomponente ausgel\u00f6st' ); } } In der AppComponent (das kann nat\u00fcrlich eine beliebige Komponente sein), wird die EventsComponent eingebunden (siehe <app-events> im Template der AppComponent ). Dadurch entsteht die Hierarchie Elternkomponente AppComponent \u2192 Kindkomponente EventsComponent im DOM. Mithilfe von event binding wird die Behandlung des Ereignisses myEvent an die Methode handleEventFromEventsComponent() gebunden. In dieser Methode erfolgt hier einfach nur eine Ausgabe auf die Konsole. Interessant ist, dass wir dadurch die M\u00f6glichkeit haben, Daten von der Kindkomponente zur Elternkomponente flie\u00dfen zu lassen. Dazu \u00fcbergeben wir diese Daten als payload des Ereignisses. Daf\u00fcr typisieren wir EventEmitter mit dem Typ, von dem wir Daten \u00fcbergeben wollen (z.B. Book - siehe B\u00fccher-App ). Die beiden obigen Beispiele sehen dann wie folgt aus (zuerst wieder EventsComponent ): .html < button ( click )=\" emitMyEvent ( book )\" > Click here! </ button > .ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import { Component , EventEmitter , Output } from '@angular/core' ; @ Component ({ selector : 'app-events' , templateUrl : './events.component.html' , styleUrls : [ './events.component.css' ] }) export class EventsComponent { @ Output () myEvent = new EventEmitter < Book > (); emitMyEvent ( book : Book ) { this . myEvent . emit ( book ); } } Im Template (HTML) werden die Daten der Ereignisbehandlung \u00fcbergeben. Das EventEmitter -Objekt ist mit dem konkreten Datentyp typisiert. Bei Aufruf der Methode emit() werden die Daten an die Elternkomponente \u00fcbergeben. Die Elternkomponente (hier wieder AppComponent kann diese Daten, die von der Kindkomponente an die Elternkomponente via Ereignis geflossen sind, nun weiterverarbeiten bzw. darstellen): .html < app-events ( myEvent )=\" handleEventFromEventsComponent ($ event )\" ></ app-events > .ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import { Component } from '@angular/core' ; @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { handleEventFromEventsComponent ( book : Book ) { console . log ( book . title ); } } Wichtig beim event binding der Elternkomponente ist, dass der payload des Ereignisses mit $event \u00fcbergeben wird (siehe auch Native DOM-Ereignisse ). Zusammenfassung In den letzten drei Abschnitten Interpolation, Property Binding und Event Binding haben wir uns mit Datenfluss besch\u00e4ftigt. Interpolation wird verwendet, um innerhalb einer Komponente die in der TypeScript-Klasse definierten Daten im Template darzustellen. Mithilfe von Property Binding kann die aufrufende Komponente (Elternkomponente) der aufgerufenen Kopmponente (Kindkomponente) Daten \u00fcbergeben. Mithilfe von Event Binding kann die Kindkomponente der Elternkomponente mithilfe eines eigenen Ereignisses Daten \u00fcbergeben. F\u00fcr die Anwendung dieser Konzepte schauen Sie sich B\u00fccher-App\u2192Datenfluss zwischen Komponenten an. [(Two-Way-Bindings)] \u00b6 Lifecycle-Hooks \u00b6 Komponenten durchlaufen einen festen Lebenszyklus ( lifecycle ). Die verschiedenen Status rufen dabei jeweils eine Methode auf, die wir jeweils implementieren k\u00f6nnen, um in den jeweiligen Status des Lebenszyklus eingreifen zu k\u00f6nnen. Man spricht dabei von sogenannten Lifecycle-Hooks . Der wohl bekannteste Lifecycle-Hook ist ngOnInit() . Damit greift man in die Initialisierung der Komponente ein. Typischerweise werden z.B. Eingabewerte initialisiert, die im Template dargestellt werden. Noch vor ngOnInit wird jedoch ngOnChange() aufgerufen. N\u00e4mlich genau dann, wenn die Eingabewerte gesetzt bzw. ge\u00e4ndert werden. F\u00fcr weiterf\u00fchrende Informationen sei https://angular.io/guide/lifecycle-hooks empfohlen. Services \u00b6 Ein Service ist eine Klasse f\u00fcr einen konkreten Zweck. Services unterscheiden sich von Komponenten dahingehend, dass eine Komponente f\u00fcr die Nutzerinteraktion zust\u00e4ndig ist, eine Komponente Eigenschaften (Daten) pr\u00e4sentiert, eine Komponente Methoden zur Datenbindung ( data binding ) zur Verf\u00fcgung stellt, um zwischen View und Anwendungslogik zu vermitteln. Ein Service erf\u00fcllt eine konkrete Aufgabe, typischerweise mit Daten, ohne sich um die Darstellung der Daten zu k\u00fcmmern. Typische Aufgaben eines Services sind: Daten vom Server holen oder auf den Server laden, Nutzereingaben zu validieren. Ein Service steht typischerweise allen Komponenten zur Verf\u00fcgung (aber nicht jede Komponente muss einen Service nutzen). Ein Service ist eine Klasse mit dem Decorator @Injectable() . Services enthalten Anwendungslogik, die aus Komponenten ausgelagert werden kann. Ein Service my kann mittels CLI so erzeugt werden: ng generate service shared/my Es entsteht im src/app/shared -Ordner eine Datei my.service.ts . Services sollten am besten in dem shared -Ordner erstellt werden, da ein Service von allen Komponenten genutzt werden kann (eine andere M\u00f6glichkeit w\u00e4re, einen eigenen Ordner services zu erstellen). In dem Decorator @Injectable() wird mittels providedIn: root angegeben, dass der Service von allen Komponenten innerhalb des Root-Moduls genutzt werden kann. Ist der Service von anderen Services oder Komponenten abh\u00e4ngig, k\u00f6nnen diese Services oder Komponenten mittels dependency injection als Parameter des Service-Konstruktor eingebunden werden. Hier ein allgemeines Beispiel eines Services MyService : my.service.ts 1 2 3 4 5 6 7 8 9 10 import { Injectable } from '@angular/core' ; @ Injectable ({ providedIn : 'root' }) export class MyService { constructor ( private myDependency : MyDependency ) { } } Der Service kann dann mittels dependency injection von einer Komponente verwendet werden. Beispiel: example.component.ts import { Component , OnInit } from '@angular/core' ; import { MyService } from './shared/my.service' ; @ Component ({ selector : 'app-example' , templateUrl : './example.component.html' , styleUrls : [ './example.component.css' ] }) export class ExampleComponent implements OnInit { constructor ( private myService : MyService ) { } ngOnInit () : void { this . example . methodOfMyService (); } } F\u00fcr ein Beispiel einer Service-Definition und der Verwendung eines Services siehe BookStoreService . F\u00fcr weiterf\u00fchrende Informationen siehe https://angular.io/guide/architecture-services . Routing \u00b6 Routing ist ein wesentliches Konzept f\u00fcr die Entwicklung von Single-Page-Applikationen (SPA). Bei Single-Page-Applikationen wird genau eine Seite vom Webserver geladen (typischerweise die index.html und alle weiteren, sich \u00e4ndernden, Inhalte und Sichten werden in diese Seite nachgeladen). Das f\u00fchrt zun\u00e4chst auch dazu, dass es f\u00fcr die Seite genau eine URL gibt, um auf sie zuzugreifen (z.B. http://www.mydomain.de bzw. http://www.mydomain.de/index.html ). M\u00f6chte man aber Komponenten direkt in der URL ansprechen, z.B. http://www.mydomain.de/login f\u00fcr die Login-Komponente, so ben\u00f6tigen wir das Routing von Angular. Wir betrachten hier ein Beispiel, das https://angular.io/guide/router entnommen ist und nur leicht abgewandelt wurde. Wir erstellen dazu zun\u00e4chst ein neues Projekt routing-lesson . ng new routing-lesson In der obigen Anweisung h\u00e4tte man auch bereits den Parameter --routing verwenden k\u00f6nnen, also: ng new routing-lesson --routing Macht man das nicht, werden Sie gefragt, ob Sie Routing verwenden wollen: ? Would you like to add Angular routing? [y|N] Antworten Sie mit y . Zur Demonstration des Routings werden wir zun\u00e4chst 2 weitere Komponenten erstellen: first und second . cd routing-lesson ng g c first ng g c second Wird ein Angular-Projekt mit Routing erstellt, so existiert die Datei app-routing.module.ts im src/app/ -Ordner. Diese Datei sieht urspr\u00fcnglich so aus: app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; const routes : Routes = []; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } Bei dieser Klasse handelt es sich um ein eigenes Angular-Modul (als @NgModule dekoriert). Es wird deshalb auch in die app.module.ts integriert (dies geschieht automatisch, wenn wir Routing ausgew\u00e4hlt haben) - siehe Zeilen 4 und 17 im folgenden Listing: app.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { FirstComponent } from './first/first.component' ; import { SecondComponent } from './second/second.component' ; @ NgModule ({ declarations : [ AppComponent , FirstComponent , SecondComponent ], imports : [ BrowserModule , AppRoutingModule ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Das Array routes aus der Datei app-routing.module.ts enth\u00e4lt sp\u00e4ter die Pfadangaben zu den Komponenten - sogenannte Routen . Routen sind Objekte und wie folgt notiert: { path : 'mypath' , component : MyComponent } Diese Angabe bewirkt, dass unter der URL http://www.mydomain.de/mypath die Komponente MyComponent aufgerufen wird. Angenommen, wir wollen, dass unsere Komponente FirstComponent unter dem Pfad /first aufgerufen wird und SecondComponent unter dem Pfad /second , dann sieht unsere Datei app-routing.module.ts wie folgt aus: app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { FirstComponent } from './first/first.component' ; import { SecondComponent } from './second/second.component' ; const routes : Routes = [ { path : 'first' , component : FirstComponent }, { path : 'second' , component : SecondComponent } ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } In den Zeilen 8 und 9 sind die beiden Routen definiert. Beachten Sie, dass die Pfadangaben ohne vorangestelltes Slash / erfolgen! Unter Verwendung der Selektoren <app-first> bzw. <app-second> k\u00f6nnten wir unsere Komponenten nun (statisch) in unsere Anwendung einbinden. Wollen wir das jedoch dem Routing \u00fcberlassen, die Komponenten also dynamisch - abh\u00e4ngig von dem jeweils gew\u00e4hlten Pfad - einbinden lassen, verwenden wir stattdessen den Selektor <router-outlet> . Auch dieser ist bei gew\u00e4hltem Routing bereits Teil des AppComponent -Templates: app.component.html <!-- hier wurde viel vom urspr\u00fcnglichen --> <!-- Template gel\u00f6scht --> < h1 > Hier ist AppComponent </ h1 > < router-outlet ></ router-outlet > Obiges Listing zeigt, dass das Template von AppComponent zun\u00e4chst eine <h1> -\u00dcberschrift vorsieht und dann folgt das <router-outlet> , welches als Platzhalter f\u00fcr die durch das Routing ausgew\u00e4hlten Komponenten agiert. Angenommen, wir definieren die Templates f+r FirstComponent und SecondComponent wie folgt: first.component.html < h3 > Hier ist FirstComponent </ h3 > second.component.html < h3 > Hier ist SecondComponent </ h3 > Starten wir nun unsere Anwendung, dann sehen wir zun\u00e4chst (URL: http://localhost:4200/ ) nur die View der AppComponent , n\u00e4mlich die <h1> -\u00dcberschrift. Der Platzhalter <router-outlet> bleibt leer, da keine der angegebenen Pfade aus der app-routing.module.ts angegeben wurde. Geben wir jedoch als URL http://localhost:4200/first ein, so wird das Template der FirstComponent in diesen Platzhalter geladen, n\u00e4mlich die <h3 -\u00dcberschrift Hier ist FirstComponent . Geben wir als URL stattdessen http://localhost:4200/second ein, so wird das Template der SecondComponent in den Platzhalter <router-outlet> geladen, n\u00e4mlich die <h3 -\u00dcberschrift Hier ist SecondComponent . Die folgende Abbildung zeigt die Views der drei F\u00e4lle: Wir haben nun Pfade erzeugt, mit denen man Komponenten direkt ansprechen kann. Im folgenden Abschnitt wird gezeigt, wie man diese Pfade in Hyperlinks nutzt. Routen verlinken \u00b6 Wir kennen nun die m\u00f6glichen Pfade unserer Anwendung http://localhost:4200/ , http://localhost:4200/first und http://localhost:4200/second und w\u00fcrden diese Adressen z.B. gerne in Hyperlinks verwenden, um direkt zu den Views der jeweiligen Komponente zu springen, z.B. so: app.component.html < h1 > Hier ist AppComponent </ h1 > < ul > < li > < a href = \"/\" > home </ a > </ li > < li > < a href = \"/first\" > first </ a > </ li > < li > < a href = \"/second\" > second </ a > </ li > </ ul > < router-outlet ></ router-outlet > Das funktioniert auch, hat aber einen von uns nicht gewollten Effekt: Die Seite wird durch jeden Klick auf einen Hyperlink neu geladen. Das ist ja auch das gew\u00fcnschte Verhalten eines Hyperlinks. Die Idee einer Single-Page-Applikation ist aber jedoch die, dass die Seite nur genau einmal geladen wird und dann dynamisch alle weiteren Inhalte. Das Nachladen wird vermieden, wenn wir als Attribut f\u00fcr unsere Pfade nicht href verwenden, sondern die Angular-Direktive routerLink . Dies gilt nur f\u00fcr interne Links! Aber es verhindert bei internen Links ein Neuladen der Seite. app.component.html < h1 > Hier ist AppComponent </ h1 > < ul > < li > < a routerLink = \"/\" > home </ a > </ li > < li > < a routerLink = \"/first\" > first </ a > </ li > < li > < a routerLink = \"/second\" > second </ a > </ li > </ ul > < router-outlet ></ router-outlet > Die obige Attributschreibweise kann auch durch property binding ersetzt werden. Dann \u00fcbergeben Sie als Wert aber keinen String sondern ein 1-elementiges Array: app.component.html < h1 > Hier ist AppComponent </ h1 > < ul > < li > < a [ routerLink ]=\"['/']\" > home </ a > </ li > < li > < a [ routerLink ]=\"['/ first ']\" > first </ a > </ li > < li > < a [ routerLink ]=\"['/ second ']\" > second </ a > </ li > </ ul > < router-outlet ></ router-outlet > Die zweite Variante wird meistens dann verwendet, wenn an den Pfad noch dynamisch Werte \u00fcbergeben werden, sogenannte Parameter an den Routen. Parameter an Routen \u00b6 H\u00e4ufig sind die Pfadangaben nicht nur so statisch wie bisher, also /first bzw. /second , sondern es werden auch noch Werte, z.B. Session-IDs, Nutzer-IDs, B\u00fccher-ISBN usw. \u00fcbergeben. Dazu werden die Routen durch Parameter erweitert. Diese Parameter werden dann mit einem konkreten Wert bei Aufruf ersetzt. Die allgemeine Syntax f\u00fcr einen parametrisierten Pfad ist: { path : 'mypath/:id' , component : MyComponent } Der Doppelpunkt : ist zwingend, der Name des Parameters id ist frei w\u00e4hlbar. Die Werte f\u00fcr den Routenparameter k\u00f6nnen als routerLink wieder entweder als String \u00fcbergeben werden (Zeile 1 im folgenden Listing) oder per property binding als weiteres Array-Element (Zeile 2 im folgenden Listing). 1 2 < a routerLink = \"/mypath/4711\" > statischer Wert f\u00fcr id </ a > < a [ routerLink ]=\"['/ mypath ', myData . id ]\" > dynamischer Wert f\u00fcr id (aus JSON myData) </ a > Wir haben jetzt eine parametrisierten Pfad konfiguriert und wir haben auch betrachtet, wie der Aufruf einer solch parametrisierten Route erfolgen kann. Nun betrachten wir, wie der Wert eines Parameters in einer Komponentenklasse ausgelesen und verarbeitet werden kann. Wir f\u00fchren dazu zun\u00e4chst kleinere \u00c4nderungen an unserem obigen Beispiel der routing-lesson -App durch: app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { FirstComponent } from './first/first.component' ; import { SecondComponent } from './second/second.component' ; const routes : Routes = [ { path : 'first' , component : FirstComponent }, { path : 'first/:id' , component : FirstComponent }, { path : 'second' , component : SecondComponent } ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } first.component.html 1 2 < h3 > Hier ist FirstComponent </ h3 > < p * ngIf = \"id\" > {{ id }} </ p > In app-routing.module.ts haben wir einen weiteren Pfad hinzugef\u00fcgt (Zeilennummer 8). Beachten Sie, dass ohne die Pfadkonfiguration in Zeilennummer 7 die Route http://localhost:4200/first (also ohne Parameterwert) nicht mehr existieren w\u00fcrde. Wenn ein Parameter erforderlich ist, dann muss er auch angegeben werden. Nur in Kombination der beiden Pfadkonfigurationen aus Zeilennummern 7 und 8 ist der Pfad sowohl mit als auch ohne Parameterwert m\u00f6glich. Im Template der FirstComponent haben wir einen Absatz eingef\u00fcgt, der als Inhalt den Wert der Eigenschaft id mittels Interpolation anzeigt. Der Absatz erscheint nur, wenn id auch einen Wert hat. Die Eigenschaft id muss allerdings noch in der first.component.ts angelegt werden: first.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Component , OnInit } from '@angular/core' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-first' , templateUrl : './first.component.html' , styleUrls : [ './first.component.css' ] }) export class FirstComponent implements OnInit { id : string ; constructor ( private route : ActivatedRoute ) { } ngOnInit () : void { this . id = this . route . snapshot . paramMap . get ( 'id' ); } } In der first.component.ts kommen verschiedene Sachen hinzu: es wird die Eigenschaft id deklariert (als string ) es wird der Service ActivatedRoute per dependency injection der Klasse FirstComponent injiziert \u2192 die Eigenschaft route ist vom Typ ActivatedRoute ActivatedRoute stellt uns Informationen \u00fcber den aktuellen Router (die aktuelle URL) zur Verf\u00fcgung \u2192 die Eigenschaft this.route.snapshot.paramMap enth\u00e4lt alle Parameter der aktuellen Route \u2192 mithilfe der Methode get() kann nach einem konkreten Parameter gefragt werden \u2192 wir fragen nach dem Parameter id , da wir so unseren Pfad konfiguriert haben (siehe oben app-routing.module.ts ) Wenn wir nun z.B. die URL http://localhost:4200/first/42 eingeben, dann erscheint im Browser der Wert des Parameters (als Inhalt des <p> -Elementes; siehe oben first.component.html ). Die aktuelle Implementierung von first.component.ts liest also w\u00e4hrend der Initialisierung der Komponente die Routenparameter aus. Finden jedoch am Parameterwert \u00c4nderungen statt, ohne dass die Komponente neu initialisiert wird, bekommt die Komponente von den \u00c4nderungen nichts mit. Die oben gezeigte Form der Implementierung ist deshalb nicht f\u00fcr alle F\u00e4lle geeignet. Vielmehr ist es besser auszunutzen, dass es sich bei this.route.paramMap (ohne snapshot ) um ein Observable handelt. Ein Observable kann so verstanden werden, dass er permanent eine bestimmte Sache beobachtet (z.B. ist der EventEmitter ein Observable und beobachtet permanent, ob das Ereignis ausgel\u00f6st wird; wenn ja, dann ruft EventEmitter die Funktion emit() auf \u2192 siehe Eigene Ereignisse ). Wenn sich etwas an dem beobachteten Objekt ge\u00e4ndert hat, dann reagiert Observable sofort und ruft eine bestimmte Funktion auf. Das Observable paramMap beobachtet permanent die aktuelle Route und sobald sich etwas an dieser Route \u00e4ndert, wird eine Funktion aufgerufen. Damit das Observable aber \u00fcberhaupt den aktuellen Router permanent beobachtet, muss er an den Router angemeldet werden \u2192 das Observable \"abboniert\" den Router. Dies geschieht mithilfe der Funktion subscribe() . Dieser Funktion kann als Parameter eine Funktion \u00fcbergeben werden. Diese Funktion wird aufgerufen, sobald sich am aktuellen Router etwas \u00e4ndert. Wir \u00e4ndern die Implementierung von ngOnInit() in der Klasse first.component.ts deshalb wie folgt: first.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import { Component , OnInit } from '@angular/core' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-first' , templateUrl : './first.component.html' , styleUrls : [ './first.component.css' ] }) export class FirstComponent implements OnInit { id : string ; constructor ( private route : ActivatedRoute ) { } ngOnInit () : void { this . route . paramMap . subscribe ( paramMap => this . id = paramMap . get ( 'id' ) ); } } Nun erh\u00e4lt die Eigenschaft id immer den aktuellsten Wert (und dieser wird aufgrund der Interpolation auch stets aktuell in der View dargestellt). Verschachtelte Routen \u00b6 Angenommen, wir haben zwei weitere Komponenten OneComponent und TwoComponent und beide Komponenten sind Kindkomponenten von der Elternkomponente FirstComponent . Das Verh\u00e4ltnis Eltern- Kindkomponente entsteht ja eigentlich dadurch, dass das Template der Elternkomponente den Selektor der Kindkomponente enth\u00e4lt. Das hei\u00dft in first.component.html gibt es sowohl ein <app-one></app-one> als auch ein <app-two></app-two> \u2192 dann sind One und Two Kindkomponenten von First . Wir wollen nun aber folgendes: die Route /first verweist auf die FirstComponent die Route /first/one verweist auf die FirstComponent und deren Kindkomponente OneComponent die Route /first/two verweist auf die FirstComponent und deren Kindkomponente TwoComponent Wir wollen also, dass auch die beiden Kindkomponenten mittels Routing in die Elternkomponente eingef\u00fcgt werden. Das erreichen wir mit 2 Anpassungen: in app-routing.module.ts kann im routes -Array auch noch die Eigenschaft children hinzugef\u00fcgt werden, welche Pfadkonfigurationen zu den Kindkomponenten enth\u00e4lt in der *.component.html der Elternkomponente wird ein weiteres <router-outlet></router-outlet> hinzugef\u00fcgt app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 import { Routes , RouterModule } from '@angular/router' ; import { FirstComponent } from './first/first.component' ; import { SecondComponent } from './second/second.component' ; import { OneComponent } from './first/one/one.component' ; import { TwoComponent } from './first/two/two.component' ; const routes : Routes = [ { path : 'first' , component : FirstComponent , children : [ { path : 'one' , component : OneComponent }, { path : 'two' , component : TwoComponent }, ]}, { path : 'first/:id' , component : FirstComponent }, { path : 'second' , component : SecondComponent } ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } first.component.html 1 2 3 4 5 6 7 < h3 > Hier ist FirstComponent </ h3 > < ul > < li >< a [ routerLink ]=\"['/ first / one ']\" > first/one </ a ></ li > < li >< a [ routerLink ]=\"['/ first / two ']\" > first/two </ a ></ li > </ ul > < p * ngIf = \"id\" > {{ id }} </ p > < router-outlet ></ router-outlet > app.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 < h1 > Hier ist AppComponent </ h1 > < ul > < li > < a [ routerLink ]=\"['/']\" > home </ a > </ li > < li > < a [ routerLink ]=\"['/ first ']\" > first </ a > </ li > < li > < ul > < li >< a [ routerLink ]=\"['/ first / one ']\" > first/one </ a ></ li > < li >< a [ routerLink ]=\"['/ first / two ']\" > first/two </ a ></ li > </ ul > </ li > < li > < a [ routerLink ]=\"['/ second ']\" > second </ a > </ li > </ ul > < router-outlet ></ router-outlet > Das bedeutet, dass wir nun zwei <router-outlet></router-outlet> -Elemente haben. Eines in der app.component.html f\u00fcr die Routen first , first/:id und second und eines in der first.component.html f\u00fcr die Routen first/one und first/two . Styles f\u00fcr aktive Routen \u00b6 Sie k\u00f6nnen angeben, welche CSS-Klassen wirken sollen, falls eine Route aktiv ist. Eine Route ist aktiv, wenn Sie ausgew\u00e4hlt/angewendet werden kann. Dazu wurde in Angular das Attribut routerLinkActive eingef\u00fchrt. Angenommen, die CSS-Klasse myactiveclass soll Anwendung f\u00fcr eine aktuelle (aktive) Route /first Anwendung finden, dann definieren Sie: < a routerLink = \"/first\" routerLinkActive = \"myactiveclass\" > first </ a > Sie k\u00f6nnen auch mehrere CSS-Klassen definieren. Daf\u00fcr gibt es zwei verschiedene M\u00f6glichkeiten: < a routerLink = \"/first\" routerLinkActive = \"myactiveclass1 myactiveclass1\" > first </ a > < a routerLink = \"/first\" [ routerLinkActive ]=\"[' myactiveclass1 ', ' myactiveclass1 ']\" > first </ a > Das Styling aktiver Routen ist insbesondere f\u00fcr Navigationsleisten (Men\u00fcs) hilfreich. Routen im Programm wechseln \u00b6 Der Service Router stellt zwei Methoden zur Verf\u00fcgung, mit denen eine Route im Programm gewechselt werden kann, z.B. nach einer Nutzereingabe oder einer Nutzerinteraktion: navigate() navigateByUrl() Angenommen, wir erweitern unsere Komponente SecondComponent um einen Button. Durch den Klick auf den Button soll von der SecondComponent auf die OneComponent \u00fcber die Route /first/one gewechselt werden: second.component.html 1 2 < h3 > Hier ist SecondComponent </ h3 > < button ( click )=\" changeRoute ()\" > /first/one </ button > second.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import { Component , OnInit } from '@angular/core' ; import { Router } from '@angular/router' ; @ Component ({ selector : 'app-second' , templateUrl : './second.component.html' , styleUrls : [ './second.component.css' ] }) export class SecondComponent implements OnInit { constructor ( private router : Router ) { } ngOnInit () : void { } changeRoute () { this . router . navigate ([ '/first' , 'one' ]); // oder // this.router.navigateByUrl('/first/one'); } } In der second.component.ts sehen wir in Zeile 11, dass der Service Router per dependency injection eingebunden wird. Der Eigenschaft router stehen die Methoden navigate() bzw. navigateByUrl() zur Verf\u00fcgung. Wir sehen in den Zeilen 16-20 die Behandlung des Click -Ereignisses des Buttons. In Zeile 17 wird darin programmatisch die Route /first/one aufgerufen. HTTPClient \u00b6 Wir wissen bereits, dass Angular eine TypeScript-Framework ist, mit dem sich Single-Page-Anwendungen implementieren lassen. Es wird einmalig eine Seite (h\u00e4ufig index.html ) vom Server geladen und alle weiteren Inhalte werden sukzessive bzw. durch Nutzerinteraktionen gesteuert in diese eine Seite nachgeladen. Die Steuering wird dabei durch den Browser vorgenommen, der das aus TypeScript \u00fcbersetzte JavaScript interpretiert und entsprechend die Templates der Komponenten in die Anwendung einbindet. Das bedeutet, dass im Prinzip die gesamte Logik im Client , d.h. im Browser ausgef\u00fchrt wird. Dem gegen\u00fcber steht jedoch die in der Anwendung verarbeitete Menge von Daten, die typischerweise in einer Datenbank auf einem Server bereitgestellt werden. W\u00e4hrend der Client sich darum k\u00fcmmert, dass Daten angezeigt oder eingegeben werden, muss sich der Server darum k\u00fcmmern, dass Daten in die Datenquelle (die Datenbank) neu eingef\u00fcgt, ausgelesen, aktualisiert und gel\u00f6scht werden k\u00f6nnen. Diese vier Operationen werden mit CRUD abgek\u00fcrzt f\u00fcr: C reate - neue Daten einf\u00fcgen R ead - Daten auslesen U pdate - Daten aktualisieren D elete - Daten l\u00f6schen Der Client und der Server m\u00fcssen dazu nun irgendwie verbunden werden. Diese Verbindung erfolgt mithilfe des Hypertext Transfer Protocols (HTTP) .","title":"Angular"},{"location":"angular/#angular","text":"Angular geh\u00f6rt neben React.js und Vue.js zu den meisteverwendeten Frameworks f\u00fcr die Entwicklung sogenannter Single-Page-Applikationen . In einer Single-Page-Applikation wird eine Seite vom Webserver geladen und diese Seite durch unterschiedliche Inhalte bef\u00fcllt, je nach Nutzerinteraktion. Diese Inhalte werden in Angular durch sogenannte Komponenten bereitgestellt. Komponenten sind die Grundbausteine einer Angular-Anwendung. Das erste Release von Angular erschien 2010 (damals noch unter dem Namen AngularJS, ab Version 2 nur noch Angular). React und Vue kamen 2013 bzw. 2014 erstmalig heraus. Angular wird haupts\u00e4chlich von Google, React haupts\u00e4chlich von Facebook und Vue als Community-Version entwickelt. Alle drei Frameworks stehen unter MIT-Lizent . Neben HTML und CSS verwendet Angular TypeScript . TypeScript ist eine Obermenge von JavaScript. Das bedeutet, dass jeder JavaScript-Code auch TypeScript ist, aber nicht umgekehrt. TypeScript-Code wird compiliert und erzeugt JavaScript-Code, der vom Browser ausgef\u00fchrt werden kann. Im Gegensatz zu JavaScript ist TypeScript typsicher und klar objektorientiert.","title":"Angular"},{"location":"angular/#erstes-projekt-erstellen","text":"Eine Angularanwendung besteht haupts\u00e4chlich aus Komponenten und Services. Um die Anwendung selbst sowie Komponenten und Services zu erstellen, wird am besten das Command Line Interface for Angular (Angular CLI) verwendet. \u00d6ffnen Sie ein Terminal (Windows-Nutzerinnen sollten die Git-Bash verwenden, die Sie bereits mit Git installiert haben). Wechseln Sie im Terminal in das Verzeichnis, das Ihre Projekte enthalten soll. F\u00fcr das Wechseln in andere Verzeichnisse nutzen Sie den cd Befehl (change directory). Um die Anwendung \"first\" zu erzeugen, geben Sie folgenden Befehl in das Terminal ein: ng new first ng steht f\u00fcr Angular. Mit dem Attribut new geben Sie an, dass Sie ein neues Projekt erzeugen wollen. first ist der Name des Projektes. Wenn Sie gefragt werden, ob Sie Angular routing verwenden m\u00f6chten, geben Sie ein y ein. Wenn Sie nach dem stylesheet format gefragt werden, k\u00f6nnen Sie CSS einfach mit Enter best\u00e4tigen. Wenn alles geklappt hat, erhalten Sie im Terminal eine Ausgabe in der Form: Es entsteht ein Ordner first in Ihrem Projekte-Verzeichnis. Wechseln Sie in dieses Verzeichnis: cd first F\u00fchren Sie darin den Befehl: npm install aus. Damit werden alle Abh\u00e4ngigkeiten, die in der Datei package.json definiert sind, geladen und das node_modules -Verzeichnis erstellt. Siehe z.B. hier . Danach geben Sie ng serve ein. Es werden die entsprechenden TypeScript-Dateien compiliert und es erscheint am Ende eine Ausgabe, wie z.B. ** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ ** :Compiled successfully. Sie m\u00fcssen jetzt immer compileren! Wenn Sie aber einmal ng serve ausgef\u00fchrt haben, wird im Browser automatisch auf die \u00c4nderungen reagiert. Sie m\u00fcssen also nicht jedes Mal neu ng serve eingeben, bzw. nicht jedes Mal neu auf das gr\u00fcne Dreieck in Ihrer IDE klicken: \u00d6ffnen Sie Ihren Browser und geben Sie als URL http://localhost:4200 ein. Folgende Seite sollte erscheinen: Success Fertig! Sie haben Ihr erstes Angular-Projekt erstellt.","title":"Erstes Projekt erstellen"},{"location":"angular/#angular-projektstruktur","text":"\u00d6ffnen Sie die IDE Ihrer Wahl (Screenshots hier mit [PhpStorm] ( https://www.jetbrains.com/de-de/phpstorm/ ). W\u00e4hlen Sie unter Open Project den Projektordner first . Klappen Sie das Projekt first auf, klappen Sie den Ordner src und dann den Ordner app auf. Der Projektexplorer zeigt folgendes Bild: Die meiste Arbeit wird im src -Ordner erledigt. Darin befindet sich (wird sich befinden) der Code unserer Anwendung. Darin der wichtigste Ordner ist der app -Ordner. Hier werden wir unsere Module, Komponenten und Services hinzuf\u00fcgen. In dem assets -Ordner werden Bilder, Icons und Daten abgelegt. Der node_modules -Ordner enth\u00e4lt alle ben\u00f6tigten 3 rd -party-libraries. Welche das sind, wird in der Datei package.json als dependencies definiert. Mithilfe des Befehls npm install werden alle ben\u00f6tigten Module dem Ordner node_modules hinzugef\u00fcgt. Der Ordner environments enth\u00e4lt die notwendigen Konfigurationsinformationen f\u00fcr den development - und den production -Modus. Wir entwickeln zun\u00e4chst im development -Modus. favicon.ico ist das Favicon - ein kleines Icon, das im Reiter erscheint. W\u00e4hlen Sie am besten ein eigenes. index.html ist die Hauptseite. Mithilfe von Angular entwickeln wir eine Single Page Application , d.h. es wird eine einzige HTML-Seite geladen ( index.html ) und jeder weitere Inhalt wird asynchron hinzugef\u00fcgt. styles.css enth\u00e4lt die globalen Stylesheets, d.h. die CSS-Eigenschaften, die f\u00fcr das gesamte Projekt gelten sollen. Die app.component.* -Dateien beschreiben die app-Komponente. Eine Komponente besteht aus einer HTML -, einer CSS - und einer TypeScript -Datei (auch noch eine *.spec.ts , aber die interessiert zun\u00e4chst nicht). \u00d6ffnen Sie in Ihrer IDE die Datei app.component.html . L\u00f6schen Sie den kompletten Inhalt und lassen nur noch <router-outlet></router-outlet> . F\u00fcgen Sie oberhalb von <router-outlet></router-outlet> die Zeile <h1>This is app</h1> ein. Gehen Sie wieder zum Browser und schauen sich den ge\u00f6ffneten Tab mit der URL localhost:4200 an. Es erscheint der folgende Inhalt: \u00d6ffnen Sie die app.component.css -Datei und geben Sie dort h1 { color : red ; } Nach den \u00c4nderungen in app.component.css erscheint der Text der \u00dcberschrift in rot: Zusammenfassung Wir haben die die app.component.html ge\u00e4ndert, um den Inhalt der dargestellten Seite anzupassen und die app.component.css , um \u00c4nderungen an der Darstellung (dem Stil) des Inhalts durchzuf\u00fchren.","title":"Angular-Projektstruktur"},{"location":"angular/#single-page-application","text":"Wenn wir eine Anwendung mit Angular erstellen, dann handelt es sich dabei um eine sogenannte Single Page Application (SPA) , d.h. es wird genau eine Seite vom Webserver geladen und alle Inhalte werden in diese Seite (nach-)geladen, je nach Nutzerinteraktion. Die hier geladene Seite ist die index.html , die in unserem Projekte-Ordner frontend liegt. Sie sieht so aus: index.html <!doctype html> < html lang = \"en\" > < head > < meta charset = \"utf-8\" > < title > Frontend </ title > < base href = \"/\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"icon\" type = \"image/x-icon\" href = \"favicon.ico\" > </ head > < body > < app-root ></ app-root > </ body > </ html > Das Element <app-root> ist dabei ein sogenannter Tag-Selektor (auch Element-Selektor oder Komponenten-Selektor ).","title":"Single Page Application"},{"location":"angular/#prefix-andern-optional","text":"app ist dabei ein Prefix, der f\u00fcr die gesamte Anwendung gilt. Diesen Prefix k\u00f6nnen Sie \u00e4ndern. Im folgenden ist beschrieben, wie Sie ihn von app auf htw \u00e4ndern. \u00d6ffnen Sie dazu die Datei angular.json , die sich im Projekt-Ordner frontend befindet. Diese Datei enth\u00e4lt die zentrale Konfiguration Ihres Projektes. Sie sieht wie folgt aus (Ausschnitt): angular.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 { \"$schema\" : \"./node_modules/@angular/cli/lib/config/schema.json\" , \"version\" : 1 , \"newProjectRoot\" : \"projects\" , \"projects\" : { \"frontend\" : { \"projectType\" : \"application\" , \"schematics\" : {}, \"root\" : \"\" , \"sourceRoot\" : \"src\" , \"prefix\" : \"app\" , \"architect\" : { \"build\" : { \"builder\" : \"@angular-devkit/build-angular:browser\" , \"options\" : { \"outputPath\" : \"dist/frontend\" , \"index\" : \"src/index.html\" , \u00c4ndern Sie den Prefix in der hell markierten Zeile auf z.B. \"htw\" (oder Ihre Initialen vielleicht). Au\u00dferdem muss auch noch die tslint.json angepasst werden: tslint.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 { \"extends\" : \"tslint:recommended\" , \"rules\" : { \"array-type\" : false , \"arrow-parens\" : false , \"deprecation\" : { \"severity\" : \"warning\" }, \"component-class-suffix\" : true , \"contextual-lifecycle\" : true , \"directive-class-suffix\" : true , \"directive-selector\" : [ true , \"attribute\" , \"htw\" , \"camelCase\" ], \"component-selector\" : [ true , \"element\" , \"htw\" , \"kebab-case\" ], \"import-blacklist\" : [ true , Dort wo in den hervorgehobenen Zeilen nun das neue Prefix \"htw\" steht, stand vorher \"app\". In der index.html und in der app.component.ts auch noch \u00e4ndern. Ab dann ist die Verwendung von \"htw\" als Prefix einegrichtet. Sie k\u00f6nnen es aber auch bei \"app\" belassen. Es soll an dieser Stelle einem besseren Verst\u00e4ndnis des Prinzips dienen. index.html 1 2 3 4 5 6 7 8 9 10 11 12 13 <!doctype html> < html lang = \"en\" > < head > < meta charset = \"utf-8\" > < title > Frontend </ title > < base href = \"/\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"icon\" type = \"image/x-icon\" href = \"favicon.ico\" > </ head > < body > < htw-root ></ htw-root > </ body > </ html > app/app.component.ts 1 2 3 4 5 6 7 8 9 import { Component } from '@angular/core' ; @ Component ({ selector : 'htw-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { title = 'frontend' ; }","title":"Prefix \u00e4ndern - optional"},{"location":"angular/#komponenten-selektoren","text":"Nochmal zur\u00fcck zu unserer index.html - der single page, die vom Webserver geladen wird und in die alle weiteren Komponenten eingebunden werden. Wir haben dort nun also den Komponenten-Selektor <htw-root></htw-root> . In diesen Selektor wird nun dir root -Komponente ( app.component ) geladen. Dieser Selektor wird durch die root -Komponente ersetzt. Das ist unsere app/app.component.* . Eine solche Komponente besteht immer aus einer css -, einer html - und einer ts -Datei. Es wird also in diesen Komponenten-Selektor der HTML-Code der app.component.html eingebunden. Das sehen Sie auch, wenn Sie die Developer-Tools an Ihrem Browser \u00f6ffnen und sich den Quellcode der aktuellen Anwendung anschauen:","title":"Komponenten-Selektoren"},{"location":"angular/#komponenten","text":"Eine Angular-Anwendung besteht haupts\u00e4chlich aus Komponenten . Jede Anwendung hat eine Hauptkomponente - die sogenannte Root Component. Diese Hauptkomponente ist meistens die AppComponent . Eine Komponente hat eine in sich geschlossene Bedeutung, z.B. ein Formular f\u00fcr Dateneingabe, eine Liste aller Daten oder auch nur ein bestimmtes Element. Eine Komponente besteht aus einer View ( Template ) und einer TypeScript-Klasse. Die AppComponent besteht z.B. aus der app.component.html (der View) und der app.component.ts (der TypeScript-Klasse). Die TypeScript-Klasse k\u00fcmmert sich um die Verwaltung der Daten, die in der View dargestellt und/oder durch Eingaben erzeugt werden. Die TypeScript-Klasse beschreibt die Logik der Komponente. Die View ist der dargestellte Bereich der Komponente, also das, was man im Browser von der Komponente sieht. Neben der *.html - und der *.ts -Datei einer Komponente gibt es auch noch die *.css -Datei (also z.B. app.component.css ). Diese enth\u00e4lt CSS-Eigenschaften, die speziell f\u00fcr die Komponente gelten sollen. Um eine Komponente der gesamten Anwendung als Komponente bekannt zu machen, wird der Decorator @Component verwendet. Decoratoren erkennt man am f\u00fchrenden @ -Zeichen. Sie werden verwendet, um Metadaten der Anwendung zu verwalten. Der typische Aufbau einer Komponente (hier AppComponent - app.component.ts ): @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { title = 'book-app' ; } Der Selektor gibt an, dass \u00fcberall dort, wo app-root als Elementselektor <app-root> </app-root> verwendet wird, das in app.component.html definerte Template eingesetzt wird. Angenommen, in app.component.html ist der HTML-Code: < h1 > This is app </ h1 > definiert. Dann wird dieser Code als Inhalt in das HTML-Element <app-root> </app-root> eingesetzt: < app-root > < h1 > This is app </ h1 > </ app-root > Wir schauen uns ein ausf\u00fchrlicheres Beispiel im Folgenden an, in dem wir eine neue Komponente erzeugen.","title":"Komponenten"},{"location":"angular/#eine-neue-komponente-erzeugen","text":"Mithilfe von Angular-CLI erzeugen wir in unserer App first eine neue Komponente. Wir wechseln dazu im Terminal in den Ordner von first und geben dann ng generate component mycomponent ein. Sp\u00e4ter k\u00fcrzen wir solche Eingaben ab. Anstelle von generate brauchen wir auch nur g zu schreiben. Und anstelle von component gen\u00fcgt c . Das hei\u00dft, wir h\u00e4tten stattdessen auch ng g c mycomponent schreiben k\u00f6nnen. In unserer first App gibt es nun die Komponente mycomponent : Jede Angular-Komponente besteht aus vier Teilen: der TypeScript-Klasse (die *.component.ts -Datei) dem Template (die *.component.html -Datei) den Styles (die *.component.css -Datei) einer Testspezifikation (die *.component.spec.ts -Datei) Jede Komponente wird in der app.module.ts der gesamten Anwendung bekannt gemacht. Das erfolgt mithilfe der Eigenschaft declarations im Decorator @NgModule() : import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { MycomponentComponent } from './mycomponent/mycomponent.component' ; @ NgModule ({ declarations : [ AppComponent , MycomponentComponent ], imports : [ BrowserModule , AppRoutingModule ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Das obige Listing zeigt, dass die neue Komponente Mycomponent registriert wurde. Um dieses Eintragen in die app.module.ts m\u00fcssen wir uns aber nicht k\u00fcmmern, das erledigt die Angular-CLI mit der Anweisung zur Erstellung einer neuen Komponente ng generate component newComponent . Doppelklicken Sie im Projektexplorer Ihrer IDE auf die Datei mycomponent.component.ts , um sie zu \u00f6ffnen. Sie enth\u00e4lt den folgenden Quelltext: import { Component , OnInit } from '@angular/core' ; @ Component ({ selector : 'app-mycomponent' , templateUrl : './mycomponent.component.html' , styleUrls : [ './mycomponent.component.css' ] }) export class MycomponentComponent implements OnInit { constructor () { } ngOnInit () : void { } } Wir \u00e4ndern diese Datei zun\u00e4chst nicht und \u00f6ffnen auch noch die mycomponent.component.html . Diese enth\u00e4lt nur ein HTML-Element, einen Absatz: < p > mycomponent works! </ p > Wir \u00e4ndern auch diese Datei zun\u00e4chst nicht und \u00f6ffnen die app.component.html - die HTML-Datei unserer Root-Komponente. Diese sieht derzeit so aus: < h1 > This is app </ h1 > < router-outlet ></ router-outlet > Wir f\u00fcgen in die Datei den Selektor app-mycomponent unserer neuen Mycomponent -Komponente als HTML-Element ein: < h1 > This is app </ h1 > < app-mycomponent ></ app-mycomponent > <!-- eingefuegt --> < router-outlet ></ router-outlet > Dieses Element dient als \"Platzhalter\" f\u00fcr das Template unserer neuen Komponente. Das bedeutet, dass in dieses Element der HTML-Code aus mycomponent.component.html eingef\u00fcgt wird. Wechseln Sie in den Browser auf den Tab mit Ihrer Anwendung ( http://localhost:4200/ ). Sie sehen folgendes Bild: Unterhalb der \u00dcberschrift ( <h1>This is app</h1> ) wurde also der Absatz <p>mycomponent works!</p> eingef\u00fcgt. Wenn Sie sich den Quelltext Ihrer Seite anschauen, z.B. \u00fcber die Entwicklertools Ihres Browsers ( z.B. f\u00fcr Chrome ), dann wird folgender Code sichtbar: Wir k\u00f6nnen hier die Attribute der HTML-Elemente vernachl\u00e4ssigen (also z.B. _nghost-menu-c19 oder ng-version=\"9.0.7\" ). Aber es wird folgende HTML-Struktur sichtbar: < app-root > < h1 > This is app </ h1 > < app-mycomponent > < p > mycomponent works! </ p > </ app-mycomponent > < router-outlet ></ router-outlet > </ app-root > Das Element <app-root> fungiert als Platzhalter f\u00fcr die gesamte App. In dieses Element wird der gesamte Inhalt der Anwendung eingebunden (siehe app.component.html ). Dies ist hier zun\u00e4chst eine \u00dcberschrift <h1> , die von dem Element f\u00fcr die Mycomponent -Komponente gefolgt wird. Das bedeutet, dass in das Element <app-mycomponent> der Inhalt der Komponente Mycomponent eingebunden wird. Das ist hier nur ein Absatz <p> (siehe dazu mycomponent.component.html ). Das Element router-outlet> soll uns an dieser Stelle noch nicht interessieren. Das wird erst interessant, wenn wir \u00fcber das Routing in einer Angular-Anwendung sprechen.","title":"Eine neue Komponente erzeugen"},{"location":"angular/#direktiven","text":"In Angular gibt es 3 Arten sogenannter Direktiven (engl. Directives ): Komponentendirektiven (Components\u2014directives) Attributdirektiven (Attribute Directives) Strukturdirektiven (Structural-Direktives) Komponentendirektiven sind die meistverwendete Art und bereits in Angular \u2192 Kompnenten betrachtet. Attribut- und Strukturdirektiven k\u00f6nnen als HTML-Attribute verstanden werden, die dem HTML-Element ein zus\u00e4tzliches Verhalten hinzuf\u00fcgt. Attributdirektiven wirken sich das innere Verhalten eines HTML-Elementes aus (z.B. k\u00f6nnen damit CSS-Eigenschaften ge\u00e4ndert, hinzugef\u00fcgt oder gel\u00f6scht werden). Mit Strukturdirektiven kann die Struktur des DOMs ge\u00e4ndert werden (z.B. k\u00f6nnen ganze HTML-Elemente dem DOM-Baum hinzugef\u00fcgt werden).","title":"Direktiven"},{"location":"angular/#strukturdirektiven","text":"Strukturdirektiven beginnen immer mit einem Stern * . Die bekanntesten Vertreter sind *ngFor *ngIf *ngSwitch Diese sind auch in angular.io erl\u00e4utert. Wir erl\u00e4utern die darin aufgef\u00fchrten Beispiele und beginnen mit *ngIf : 1 2 3 4 5 6 7 8 < p * ngIf = \"true\" > Expression is true and ngIf is true. This paragraph is in the DOM. </ p > < p * ngIf = \"false\" > Expression is false and ngIf is false. This paragraph is not in the DOM. </ p > Die Direktive *ngIf wird also wie ein Attribut des <p> -Elementes behandelt. Das Attribut *ngIf hat entweder den Wert \"true\" oder den Wert \"false\" . Ja nach Wert des Attributes wird das jeweilige <p> -Element in den DOM-Baum eingebunden. Also entweder das <p> -Element aus den Codezeilen 1 - 4 (bei Wert \"true\" ) oder das <p> -Element aus den Codezeilen 5 - 8 (bei Wert \"false\" ). In einer echten Anwendung ergibt sich der Wert des Attributes/der Direktive meistens aus dem Wert einer boole'schen Variablen oder einem anderen boole'schen Ausdruck. Das nicht dargestellte Element ist auch nicht Teil des DOMs! Es ist also nicht einfach nur auf hide gesetzt, sondern es ist gar nicht im DOM vorhanden. Intern wird aus der *ngIf -Direktive \u00fcbrigens ein sogenanntes Property-Binding : < ng-template [ ngIf ]=\" true \" > < p > Expression is true and ngIf is true. This paragraph is in the DOM. </ p > </ ng-template > < ng-template [ ngIf ]=\" false \" > < p > Expression is false and ngIf is false. This paragraph is not in the DOM. </ p > </ ng-template > Die *ngFor -Direktive ist etwas komplexer als *ngIf . F\u00fcr *ngFor ben\u00f6tigen wir mindestens eine Liste (oder ein Array) und eine Laufvariable, die die Werte aus der Liste annehmen kann. Im folgenden Beispiel ist i unsere laufvariable und [1, 2, 3, 4, 5, 6] unser Array. < div * ngFor = \"let i of [1, 2, 3, 4, 5, 6]\" > {{ i }} </ div > F\u00fcr jeden Wert aus der Liste wird ein eigenes <div> - Element erzeugt. Der DOM-Baum sieht f\u00fcr obiges Beispiel also wie folgt aus (Angular-Attribute weggelassen): < div > 1 </ div > < div > 2 </ div > < div > 3 </ div > < div > 4 </ div > < div > 5 </ div > < div > 6 </ div > Au\u00dferdem stellt *ngFor noch einige Hilfsvariablen zur Verf\u00fcgung, die ebenfalls genutzt werden k\u00f6nnen: index (Index des aktuellen Elementes 0, 1, 2, ... ) first (ist true , wenn erstes Element, sonst false ) last (ist true , wenn letztes Element, sonst false ) even (ist true , wenn Index gerade , sonst false ) odd (ist true , wenn Index ungerade , sonst false ) Folgend ein komplexeres Beispiel unter Verwendung einiger Hilfsvariablen: 1 2 3 4 5 6 7 8 9 < div * ngFor = \"let value of [1, 2, 3, 4, 5, 6]; index as i; first as f; last as l; odd as o;\" > < div * ngIf = \"f\" > Start </ div > < div [ style . color ]=\" o ? ' red ' : ' blue '\" > {{ i }} : {{ value }} </ div > < div * ngIf = \"l\" > Ende </ div > </ div > In Zeile 1 ist unsere Laufvariable durch das Array nun value . Au\u00dferdem wird der jeweilige Wert von index in der Variablen i (Zeilennummer 2 ) gespeichert, der Wert von first in der Variablen f (Zeilennummer 3 ), der Wert von last in der Variablen l (Zeilennummer 4 ) und der Wert von odd in der Variablen o (Zeilennummer 5 ) - die Hilfsvariable even betrachten wir hier nicht, da deren Wert genau der Negation von odd entspricht. In Zeile 6 wenden wir die *ngIf -Direktive an: ein <div> mit dem Inhalt Start wird vor dem ersten Element aus dem Array ausgegeben. F\u00fcr jedes weitere Element nicht mehr. In Zeile 7 erfolgt ein Property Binding : die color -Eigenschaft bekommt einen Wert zugewiesen. Der Wert ist jedoch abh\u00e4ngig davon, ob o wahr ist (dann Wert red ) oder falsch (dann Wert blue ). Zeile 7 zeigt au\u00dferdem wie mithilfe von Interpolation der Wert von i und der Wert von value , getrennt mit : ausgegeben werden. Die Ausgabe ist also: Aufgabe Informieren Sie sich auch \u00fcber die *ngSwitch -Direktive. Implementieren Sie ein Beispiel, in dem Sie die 3 Direktiven *ngIf , *ngFor und *ngSwitch anwenden.","title":"Strukturdirektiven"},{"location":"angular/#interpolation","text":"Interpolation ist die einfachste Form des data binding . Syntaktisch erkennt man Interpolation an den doppelten geschweiften Klammern {{ Interpolation }} . Beispiel 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import { Component } from '@angular/core' ; @ Component ({ selector : 'app-lesson' , template : ` <h1>{{ headline }}</h1> <p>Hier steht {{name}}</p> ` , styleUrls : [ './lesson.component.css' ] }) export class LessonComponent { headline = 'Mein Titel' ; name = 'mein Name' ; } Im obigen Beispiel hat die Komponente LessonComponent zwei Eigenschaften: headline und name . In obiger Komponente wird (zur Anschauung) sogenanntes inline templating verwendet, d.h. es gibt keine eigene lesson.component.html -Datei, in der der HTML-Code steht, sondern der HTML-Code wird direkt in die template -Eigenschaft der Typescript-Datei lesson.component.ts eingef\u00fcgt (siehe Zeilen 5-8 im obigen Beispiel). Der HTML-Code wird in backticks eingefasst ( `` ), nicht zu verwechseln mit den einfachen Anf\u00fchrungsstrichen ( '' ). Damit inline templating m\u00f6glich ist, wird die Komponente mit dem Flag -t erzeugt ( inlineTemplate=true ), d.h. unsere Lesson-Komponente wurde mithilfe der CLI wie folgt erzeugt: ng g c lesson -t Eine Interpolation kann auch Ausdr\u00fccke enthalten, die aufgel\u00f6st werden, z.B. < p > 1 + 2 = {{1 + 2}}. </ p > Man kann mithilfe einer Direktive durch ein Array laufen und jedes einzelne Element mithilfe von Interpolation ausgeben: @ Component ({ selector : 'app-lesson' , template : ` <ol> <li *ngFor=\"let day of weekdays\">{{ day }}</li> </ol> ` , styleUrls : [ './lesson.component.css' ] }) export class LessonComponent { weekdays = [ 'Monday' , 'Tuesday' , 'Wednesday' , 'Thursday' , 'Friday' , 'Saturday' , 'Sunday' ]; } Oder es ist m\u00f6glich, Attributen von HTML-Elementen mithilfe von Interpolation Werte zuzuordnen: @ Component ({ selector : 'app-lesson' , template : ` <img src=\"{{ imgUrl }}\" /> ` , styleUrls : [ './lesson.component.css' ] }) export class LessonComponent { imgUrl = 'https://www.dpunkt.de/common/images/cover_masterid/800/12400.jpg' ; }","title":"{{ Interpolation }}"},{"location":"angular/#property-bindings","text":"Insbesondere, wenn Attributen von HTML-Elementen Werte zugeordnet werden sollen (so wie im letzten Beispiel des Abschnitts {{Interpolation}} ), spricht man von property binding . Property binding spielt eine gro\u00dfe Rolle beim Datenfluss von Eltern-Komponenten auf Kind-Komponenten. Die generelle Idee dabei ist, dass mithilfe von property binding Werte (Daten) an Attribute von HTML-Elementen bindet. Diese HTML-Elemente k\u00f6nnen auch Komponenten sein. Wir betrachten zun\u00e4chst die unterschiedlichen Arten (Notationen) von property binding: < element [ property ]=\" ausdruck \" ></ element > D.h. ein ausdruck wird \u00fcbergeben, der zu einem Wert aufgel\u00f6st wird und dieser Wert wird dem Attribut property \u00fcbergeben. Betrachten wir nochmals das letzte Beispiel aus dem Abschnitt {{Interpolation}} ). Bei diesem Beispiel haben wir Interpolation verwendet, um dem Attribut src des HTML-Elementes img einen Wert zuzuweisen. Das exakt gleiche Verhalten l\u00e4sst sich auch mittels property bindings erzeugen: < img [ src ]=\" imgUrl \" /> <!-- imgUrl = 'https://www.dpunkt.de/common/images/cover_masterid/800/12400.jpg'; --> Neben diesen \"allgemeinen\" property bindings gibt es auch noch \"spezielle\" property bindings, n\u00e4mlich class bindings und style bindings . Bei class bindings wird das Pr\u00e4fix class vor die property (die entsprechende CSS-Klasse) gesetzt: < element [ class . class1 ]=\" class1enabled \" [ class . class2 ]=\" class2enabled \" ... ></ element > D.h. die CSS-Klasse class1 ist genau dann wirksam, wenn der Ausdruck class1enabled true ist und class2 ist genau dann wirksam, wenn der Ausdruck class2enabled true ist usw. Bei den style bindings werden jedoch gar keine Ausdr\u00fccke, sondern Werte \u00fcbergeben: < element [ style . color ]","title":"[Property Bindings]"},{"location":"angular/#event-bindings","text":"In den property bindings haben wir gesehen, wie Werte Attributen (Eigenschaften) von Elementen zugeordnet werden k\u00f6nnen. Aus JavaScript ist auch bekannt, dass Ereignisse Attribute von Elementen sein k\u00f6nnen, z.B. onClick , onKeyup , onChange usw. Dabei handelt es sich um sogenannte native DOM-Ereignisse . Neben der M\u00f6glichkeit, solche nativen DOM-Ereigniss zu behandeln, bietet Angular auch die M\u00f6glichkeit, eigene Ereignisse zu definieren und diese zu behandeln. Wir betrachten beide M\u00f6glichkeiten und beginnen mit den nativen Ereignissen.","title":"(Event Bindings)"},{"location":"angular/#native-dom-ereignisse","text":"In HTML sieht das unter Aufruf einer JavaScript-Funktion f\u00fcr die Ereignisbahandlung dann typischerweise (hier das Click-Ereignis f\u00fcr einen Button) wie folgt aus: HTML < button onClick = \"doSomething()\" > Click here! </ button > JavaScript function doSomething () { // something to do } In Angular ist das Prinzip das gleiche, nur dass das Ereignis in runden Klammern genannt und an dieses Ereignis die Ereignisbehandlung gebunden wird ( event binding ). Das bedeutet, das Angular-Template f\u00fcr das obige Beispiel sieht wie folgt aus: Angular-Template < button ( click )=\" doSomething ()\" > Click here! </ button > Angular-Typescript export class EventsComponent { doSomething () { // something to do } } Dieses Prinzip gilt f\u00fcr alle nativen DOM-Ereignisse. Hier ein kurzer \u00dcberblick \u00fcber die wichtigsten (f\u00fcr eine umfangreichere Liste siehe hier oder hier ): Ereignis Beschreibung click Mausklick auf das Element change Der Inhalt/Wert eines Elementes hat sich ge\u00e4ndert mouseover die Maus wird \u00fcber das Element bewegt mouseout die Maus wird vom Element wegbewegt keydown eine Taste der Tastatur wird gedr\u00fcckt keyup Loslassen einer Taste load der Browser hat die Seite vollst\u00e4ndig geladen focus Fokussieren des Elements (z.B. Anklicken) blur Verlieren des Fokus (z.B. Klick au\u00dferhalb) submit Abschicken eines Formulars copy , paste Kopieren, Einf\u00fcgen von Text Einen kleinen Unterschied gibt es noch bei der \u00dcbergabe des Ereignisses an die das Ereignis behandelnde Funktion zu beachten. W\u00e4hrend in plain JavaScript das Ereignis mit event der Funktion \u00fcbergeben wird, erfolgt die \u00dcbergabe des Ereignisses in Angular mit $event . Beispiel: Angular-Template < input ( change )=\" showPayload ($ event )\" type = \"text\" /> Angular-Typescript export class EventsComponent { showPayload ( e : Event ) { console . log ( e ); } } Alle Events (in TypeScript/Angular) sind vom Typ Event . Es gibt noch speziellere Eventtypen, die aber alle auf dem Interface Event basieren, z.B. MouseEvent , InputEvent , KeyboardEvent , UIEvent , ClipboardEvent . Weitere Details siehe hier . Die einfache JavaScript-Attributschreibweise kann in Angular nicht verwendet werden, sondern immer nur die event binding -Schreibweise von Angular (mit den runden Klammern)!","title":"Native DOM-Ereignisse"},{"location":"angular/#eigene-ereignisse","text":"F\u00fcr eine Komponente kann ein eigenes - nicht natives - Ereignis definiert werden. Dies geschieht, indem f\u00fcr eine Komponente eine neue Eigenschaft (z.B. myEvent ) definiert wird und diese vom Typ EventEmitter deklariert wird. Mithilfe von Generics kann der Typ des Events angegeben werden, der ausgel\u00f6st werden soll - wenn Sie den Typ nicht genau kennen, verwenden Sie any . Soll das Ereignis an die Elternkomponente weitergeleitet werden, was meistens der Fall ist, wird der Decorator @Output() verwendet. Das Ausl\u00f6sen des Events geschieht dann durch die emit() -Methode von EventEmitter . Hier ein typisches Beispiel (zun\u00e4chst die Kindkomponente EventsComponent - also events.component.html und events.component.ts ): .html < button ( click )=\" emitMyEvent ()\" > Click here! </ button > .ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import { Component , EventEmitter , Output } from '@angular/core' ; @ Component ({ selector : 'app-events' , templateUrl : './events.component.html' , styleUrls : [ './events.component.css' ] }) export class EventsComponent { @ Output () myEvent = new EventEmitter < any > (); emitMyEvent () { this . myEvent . emit (); } } Die .html -Datei definiert einen Button mit dem nativen Ereignis click . Dieses wird durch die Methode emitMyEvent() behandelt. In der .ts -Datei ist diese Methode definiert (Zeilen 11-13). Darin wird das eigene Event myEvent ausgel\u00f6st. Dieses Event ist ein Objekt vom Typ EventEmitter , typisiert als any (beliebiger Typ). Das Ausl\u00f6sen dieses Events wird an die aufrufende Komponente (die Elternkomponente) ausgegeben (Decorator @Output() ). Deklaration der Eigenschaft und Dekorieren mit @Output() in Zeile 9. Das Ausl\u00f6sen des eigenen Events erfolgt durch den Aufruf der Methode emit() aus EventEmitter (Zeile 12). In der Elternkomponente kann dieses Ereignis nun empfangen werden (Beispiel einer Elternkomponente AppComponent - also app.component.html und app.component.ts ): .html < app-events ( myEvent )=\" handleEventFromEventsComponent ()\" ></ app-events > .ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import { Component } from '@angular/core' ; @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { handleEventFromEventsComponent () { console . log ( 'myEvent in der Kindkomponente ausgel\u00f6st' ); } } In der AppComponent (das kann nat\u00fcrlich eine beliebige Komponente sein), wird die EventsComponent eingebunden (siehe <app-events> im Template der AppComponent ). Dadurch entsteht die Hierarchie Elternkomponente AppComponent \u2192 Kindkomponente EventsComponent im DOM. Mithilfe von event binding wird die Behandlung des Ereignisses myEvent an die Methode handleEventFromEventsComponent() gebunden. In dieser Methode erfolgt hier einfach nur eine Ausgabe auf die Konsole. Interessant ist, dass wir dadurch die M\u00f6glichkeit haben, Daten von der Kindkomponente zur Elternkomponente flie\u00dfen zu lassen. Dazu \u00fcbergeben wir diese Daten als payload des Ereignisses. Daf\u00fcr typisieren wir EventEmitter mit dem Typ, von dem wir Daten \u00fcbergeben wollen (z.B. Book - siehe B\u00fccher-App ). Die beiden obigen Beispiele sehen dann wie folgt aus (zuerst wieder EventsComponent ): .html < button ( click )=\" emitMyEvent ( book )\" > Click here! </ button > .ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import { Component , EventEmitter , Output } from '@angular/core' ; @ Component ({ selector : 'app-events' , templateUrl : './events.component.html' , styleUrls : [ './events.component.css' ] }) export class EventsComponent { @ Output () myEvent = new EventEmitter < Book > (); emitMyEvent ( book : Book ) { this . myEvent . emit ( book ); } } Im Template (HTML) werden die Daten der Ereignisbehandlung \u00fcbergeben. Das EventEmitter -Objekt ist mit dem konkreten Datentyp typisiert. Bei Aufruf der Methode emit() werden die Daten an die Elternkomponente \u00fcbergeben. Die Elternkomponente (hier wieder AppComponent kann diese Daten, die von der Kindkomponente an die Elternkomponente via Ereignis geflossen sind, nun weiterverarbeiten bzw. darstellen): .html < app-events ( myEvent )=\" handleEventFromEventsComponent ($ event )\" ></ app-events > .ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import { Component } from '@angular/core' ; @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { handleEventFromEventsComponent ( book : Book ) { console . log ( book . title ); } } Wichtig beim event binding der Elternkomponente ist, dass der payload des Ereignisses mit $event \u00fcbergeben wird (siehe auch Native DOM-Ereignisse ). Zusammenfassung In den letzten drei Abschnitten Interpolation, Property Binding und Event Binding haben wir uns mit Datenfluss besch\u00e4ftigt. Interpolation wird verwendet, um innerhalb einer Komponente die in der TypeScript-Klasse definierten Daten im Template darzustellen. Mithilfe von Property Binding kann die aufrufende Komponente (Elternkomponente) der aufgerufenen Kopmponente (Kindkomponente) Daten \u00fcbergeben. Mithilfe von Event Binding kann die Kindkomponente der Elternkomponente mithilfe eines eigenen Ereignisses Daten \u00fcbergeben. F\u00fcr die Anwendung dieser Konzepte schauen Sie sich B\u00fccher-App\u2192Datenfluss zwischen Komponenten an.","title":"Eigene Ereignisse"},{"location":"angular/#two-way-bindings","text":"","title":"[(Two-Way-Bindings)]"},{"location":"angular/#lifecycle-hooks","text":"Komponenten durchlaufen einen festen Lebenszyklus ( lifecycle ). Die verschiedenen Status rufen dabei jeweils eine Methode auf, die wir jeweils implementieren k\u00f6nnen, um in den jeweiligen Status des Lebenszyklus eingreifen zu k\u00f6nnen. Man spricht dabei von sogenannten Lifecycle-Hooks . Der wohl bekannteste Lifecycle-Hook ist ngOnInit() . Damit greift man in die Initialisierung der Komponente ein. Typischerweise werden z.B. Eingabewerte initialisiert, die im Template dargestellt werden. Noch vor ngOnInit wird jedoch ngOnChange() aufgerufen. N\u00e4mlich genau dann, wenn die Eingabewerte gesetzt bzw. ge\u00e4ndert werden. F\u00fcr weiterf\u00fchrende Informationen sei https://angular.io/guide/lifecycle-hooks empfohlen.","title":"Lifecycle-Hooks"},{"location":"angular/#services","text":"Ein Service ist eine Klasse f\u00fcr einen konkreten Zweck. Services unterscheiden sich von Komponenten dahingehend, dass eine Komponente f\u00fcr die Nutzerinteraktion zust\u00e4ndig ist, eine Komponente Eigenschaften (Daten) pr\u00e4sentiert, eine Komponente Methoden zur Datenbindung ( data binding ) zur Verf\u00fcgung stellt, um zwischen View und Anwendungslogik zu vermitteln. Ein Service erf\u00fcllt eine konkrete Aufgabe, typischerweise mit Daten, ohne sich um die Darstellung der Daten zu k\u00fcmmern. Typische Aufgaben eines Services sind: Daten vom Server holen oder auf den Server laden, Nutzereingaben zu validieren. Ein Service steht typischerweise allen Komponenten zur Verf\u00fcgung (aber nicht jede Komponente muss einen Service nutzen). Ein Service ist eine Klasse mit dem Decorator @Injectable() . Services enthalten Anwendungslogik, die aus Komponenten ausgelagert werden kann. Ein Service my kann mittels CLI so erzeugt werden: ng generate service shared/my Es entsteht im src/app/shared -Ordner eine Datei my.service.ts . Services sollten am besten in dem shared -Ordner erstellt werden, da ein Service von allen Komponenten genutzt werden kann (eine andere M\u00f6glichkeit w\u00e4re, einen eigenen Ordner services zu erstellen). In dem Decorator @Injectable() wird mittels providedIn: root angegeben, dass der Service von allen Komponenten innerhalb des Root-Moduls genutzt werden kann. Ist der Service von anderen Services oder Komponenten abh\u00e4ngig, k\u00f6nnen diese Services oder Komponenten mittels dependency injection als Parameter des Service-Konstruktor eingebunden werden. Hier ein allgemeines Beispiel eines Services MyService : my.service.ts 1 2 3 4 5 6 7 8 9 10 import { Injectable } from '@angular/core' ; @ Injectable ({ providedIn : 'root' }) export class MyService { constructor ( private myDependency : MyDependency ) { } } Der Service kann dann mittels dependency injection von einer Komponente verwendet werden. Beispiel: example.component.ts import { Component , OnInit } from '@angular/core' ; import { MyService } from './shared/my.service' ; @ Component ({ selector : 'app-example' , templateUrl : './example.component.html' , styleUrls : [ './example.component.css' ] }) export class ExampleComponent implements OnInit { constructor ( private myService : MyService ) { } ngOnInit () : void { this . example . methodOfMyService (); } } F\u00fcr ein Beispiel einer Service-Definition und der Verwendung eines Services siehe BookStoreService . F\u00fcr weiterf\u00fchrende Informationen siehe https://angular.io/guide/architecture-services .","title":"Services"},{"location":"angular/#routing","text":"Routing ist ein wesentliches Konzept f\u00fcr die Entwicklung von Single-Page-Applikationen (SPA). Bei Single-Page-Applikationen wird genau eine Seite vom Webserver geladen (typischerweise die index.html und alle weiteren, sich \u00e4ndernden, Inhalte und Sichten werden in diese Seite nachgeladen). Das f\u00fchrt zun\u00e4chst auch dazu, dass es f\u00fcr die Seite genau eine URL gibt, um auf sie zuzugreifen (z.B. http://www.mydomain.de bzw. http://www.mydomain.de/index.html ). M\u00f6chte man aber Komponenten direkt in der URL ansprechen, z.B. http://www.mydomain.de/login f\u00fcr die Login-Komponente, so ben\u00f6tigen wir das Routing von Angular. Wir betrachten hier ein Beispiel, das https://angular.io/guide/router entnommen ist und nur leicht abgewandelt wurde. Wir erstellen dazu zun\u00e4chst ein neues Projekt routing-lesson . ng new routing-lesson In der obigen Anweisung h\u00e4tte man auch bereits den Parameter --routing verwenden k\u00f6nnen, also: ng new routing-lesson --routing Macht man das nicht, werden Sie gefragt, ob Sie Routing verwenden wollen: ? Would you like to add Angular routing? [y|N] Antworten Sie mit y . Zur Demonstration des Routings werden wir zun\u00e4chst 2 weitere Komponenten erstellen: first und second . cd routing-lesson ng g c first ng g c second Wird ein Angular-Projekt mit Routing erstellt, so existiert die Datei app-routing.module.ts im src/app/ -Ordner. Diese Datei sieht urspr\u00fcnglich so aus: app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; const routes : Routes = []; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } Bei dieser Klasse handelt es sich um ein eigenes Angular-Modul (als @NgModule dekoriert). Es wird deshalb auch in die app.module.ts integriert (dies geschieht automatisch, wenn wir Routing ausgew\u00e4hlt haben) - siehe Zeilen 4 und 17 im folgenden Listing: app.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { FirstComponent } from './first/first.component' ; import { SecondComponent } from './second/second.component' ; @ NgModule ({ declarations : [ AppComponent , FirstComponent , SecondComponent ], imports : [ BrowserModule , AppRoutingModule ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Das Array routes aus der Datei app-routing.module.ts enth\u00e4lt sp\u00e4ter die Pfadangaben zu den Komponenten - sogenannte Routen . Routen sind Objekte und wie folgt notiert: { path : 'mypath' , component : MyComponent } Diese Angabe bewirkt, dass unter der URL http://www.mydomain.de/mypath die Komponente MyComponent aufgerufen wird. Angenommen, wir wollen, dass unsere Komponente FirstComponent unter dem Pfad /first aufgerufen wird und SecondComponent unter dem Pfad /second , dann sieht unsere Datei app-routing.module.ts wie folgt aus: app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { FirstComponent } from './first/first.component' ; import { SecondComponent } from './second/second.component' ; const routes : Routes = [ { path : 'first' , component : FirstComponent }, { path : 'second' , component : SecondComponent } ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } In den Zeilen 8 und 9 sind die beiden Routen definiert. Beachten Sie, dass die Pfadangaben ohne vorangestelltes Slash / erfolgen! Unter Verwendung der Selektoren <app-first> bzw. <app-second> k\u00f6nnten wir unsere Komponenten nun (statisch) in unsere Anwendung einbinden. Wollen wir das jedoch dem Routing \u00fcberlassen, die Komponenten also dynamisch - abh\u00e4ngig von dem jeweils gew\u00e4hlten Pfad - einbinden lassen, verwenden wir stattdessen den Selektor <router-outlet> . Auch dieser ist bei gew\u00e4hltem Routing bereits Teil des AppComponent -Templates: app.component.html <!-- hier wurde viel vom urspr\u00fcnglichen --> <!-- Template gel\u00f6scht --> < h1 > Hier ist AppComponent </ h1 > < router-outlet ></ router-outlet > Obiges Listing zeigt, dass das Template von AppComponent zun\u00e4chst eine <h1> -\u00dcberschrift vorsieht und dann folgt das <router-outlet> , welches als Platzhalter f\u00fcr die durch das Routing ausgew\u00e4hlten Komponenten agiert. Angenommen, wir definieren die Templates f+r FirstComponent und SecondComponent wie folgt: first.component.html < h3 > Hier ist FirstComponent </ h3 > second.component.html < h3 > Hier ist SecondComponent </ h3 > Starten wir nun unsere Anwendung, dann sehen wir zun\u00e4chst (URL: http://localhost:4200/ ) nur die View der AppComponent , n\u00e4mlich die <h1> -\u00dcberschrift. Der Platzhalter <router-outlet> bleibt leer, da keine der angegebenen Pfade aus der app-routing.module.ts angegeben wurde. Geben wir jedoch als URL http://localhost:4200/first ein, so wird das Template der FirstComponent in diesen Platzhalter geladen, n\u00e4mlich die <h3 -\u00dcberschrift Hier ist FirstComponent . Geben wir als URL stattdessen http://localhost:4200/second ein, so wird das Template der SecondComponent in den Platzhalter <router-outlet> geladen, n\u00e4mlich die <h3 -\u00dcberschrift Hier ist SecondComponent . Die folgende Abbildung zeigt die Views der drei F\u00e4lle: Wir haben nun Pfade erzeugt, mit denen man Komponenten direkt ansprechen kann. Im folgenden Abschnitt wird gezeigt, wie man diese Pfade in Hyperlinks nutzt.","title":"Routing"},{"location":"angular/#routen-verlinken","text":"Wir kennen nun die m\u00f6glichen Pfade unserer Anwendung http://localhost:4200/ , http://localhost:4200/first und http://localhost:4200/second und w\u00fcrden diese Adressen z.B. gerne in Hyperlinks verwenden, um direkt zu den Views der jeweiligen Komponente zu springen, z.B. so: app.component.html < h1 > Hier ist AppComponent </ h1 > < ul > < li > < a href = \"/\" > home </ a > </ li > < li > < a href = \"/first\" > first </ a > </ li > < li > < a href = \"/second\" > second </ a > </ li > </ ul > < router-outlet ></ router-outlet > Das funktioniert auch, hat aber einen von uns nicht gewollten Effekt: Die Seite wird durch jeden Klick auf einen Hyperlink neu geladen. Das ist ja auch das gew\u00fcnschte Verhalten eines Hyperlinks. Die Idee einer Single-Page-Applikation ist aber jedoch die, dass die Seite nur genau einmal geladen wird und dann dynamisch alle weiteren Inhalte. Das Nachladen wird vermieden, wenn wir als Attribut f\u00fcr unsere Pfade nicht href verwenden, sondern die Angular-Direktive routerLink . Dies gilt nur f\u00fcr interne Links! Aber es verhindert bei internen Links ein Neuladen der Seite. app.component.html < h1 > Hier ist AppComponent </ h1 > < ul > < li > < a routerLink = \"/\" > home </ a > </ li > < li > < a routerLink = \"/first\" > first </ a > </ li > < li > < a routerLink = \"/second\" > second </ a > </ li > </ ul > < router-outlet ></ router-outlet > Die obige Attributschreibweise kann auch durch property binding ersetzt werden. Dann \u00fcbergeben Sie als Wert aber keinen String sondern ein 1-elementiges Array: app.component.html < h1 > Hier ist AppComponent </ h1 > < ul > < li > < a [ routerLink ]=\"['/']\" > home </ a > </ li > < li > < a [ routerLink ]=\"['/ first ']\" > first </ a > </ li > < li > < a [ routerLink ]=\"['/ second ']\" > second </ a > </ li > </ ul > < router-outlet ></ router-outlet > Die zweite Variante wird meistens dann verwendet, wenn an den Pfad noch dynamisch Werte \u00fcbergeben werden, sogenannte Parameter an den Routen.","title":"Routen verlinken"},{"location":"angular/#parameter-an-routen","text":"H\u00e4ufig sind die Pfadangaben nicht nur so statisch wie bisher, also /first bzw. /second , sondern es werden auch noch Werte, z.B. Session-IDs, Nutzer-IDs, B\u00fccher-ISBN usw. \u00fcbergeben. Dazu werden die Routen durch Parameter erweitert. Diese Parameter werden dann mit einem konkreten Wert bei Aufruf ersetzt. Die allgemeine Syntax f\u00fcr einen parametrisierten Pfad ist: { path : 'mypath/:id' , component : MyComponent } Der Doppelpunkt : ist zwingend, der Name des Parameters id ist frei w\u00e4hlbar. Die Werte f\u00fcr den Routenparameter k\u00f6nnen als routerLink wieder entweder als String \u00fcbergeben werden (Zeile 1 im folgenden Listing) oder per property binding als weiteres Array-Element (Zeile 2 im folgenden Listing). 1 2 < a routerLink = \"/mypath/4711\" > statischer Wert f\u00fcr id </ a > < a [ routerLink ]=\"['/ mypath ', myData . id ]\" > dynamischer Wert f\u00fcr id (aus JSON myData) </ a > Wir haben jetzt eine parametrisierten Pfad konfiguriert und wir haben auch betrachtet, wie der Aufruf einer solch parametrisierten Route erfolgen kann. Nun betrachten wir, wie der Wert eines Parameters in einer Komponentenklasse ausgelesen und verarbeitet werden kann. Wir f\u00fchren dazu zun\u00e4chst kleinere \u00c4nderungen an unserem obigen Beispiel der routing-lesson -App durch: app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { FirstComponent } from './first/first.component' ; import { SecondComponent } from './second/second.component' ; const routes : Routes = [ { path : 'first' , component : FirstComponent }, { path : 'first/:id' , component : FirstComponent }, { path : 'second' , component : SecondComponent } ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } first.component.html 1 2 < h3 > Hier ist FirstComponent </ h3 > < p * ngIf = \"id\" > {{ id }} </ p > In app-routing.module.ts haben wir einen weiteren Pfad hinzugef\u00fcgt (Zeilennummer 8). Beachten Sie, dass ohne die Pfadkonfiguration in Zeilennummer 7 die Route http://localhost:4200/first (also ohne Parameterwert) nicht mehr existieren w\u00fcrde. Wenn ein Parameter erforderlich ist, dann muss er auch angegeben werden. Nur in Kombination der beiden Pfadkonfigurationen aus Zeilennummern 7 und 8 ist der Pfad sowohl mit als auch ohne Parameterwert m\u00f6glich. Im Template der FirstComponent haben wir einen Absatz eingef\u00fcgt, der als Inhalt den Wert der Eigenschaft id mittels Interpolation anzeigt. Der Absatz erscheint nur, wenn id auch einen Wert hat. Die Eigenschaft id muss allerdings noch in der first.component.ts angelegt werden: first.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Component , OnInit } from '@angular/core' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-first' , templateUrl : './first.component.html' , styleUrls : [ './first.component.css' ] }) export class FirstComponent implements OnInit { id : string ; constructor ( private route : ActivatedRoute ) { } ngOnInit () : void { this . id = this . route . snapshot . paramMap . get ( 'id' ); } } In der first.component.ts kommen verschiedene Sachen hinzu: es wird die Eigenschaft id deklariert (als string ) es wird der Service ActivatedRoute per dependency injection der Klasse FirstComponent injiziert \u2192 die Eigenschaft route ist vom Typ ActivatedRoute ActivatedRoute stellt uns Informationen \u00fcber den aktuellen Router (die aktuelle URL) zur Verf\u00fcgung \u2192 die Eigenschaft this.route.snapshot.paramMap enth\u00e4lt alle Parameter der aktuellen Route \u2192 mithilfe der Methode get() kann nach einem konkreten Parameter gefragt werden \u2192 wir fragen nach dem Parameter id , da wir so unseren Pfad konfiguriert haben (siehe oben app-routing.module.ts ) Wenn wir nun z.B. die URL http://localhost:4200/first/42 eingeben, dann erscheint im Browser der Wert des Parameters (als Inhalt des <p> -Elementes; siehe oben first.component.html ). Die aktuelle Implementierung von first.component.ts liest also w\u00e4hrend der Initialisierung der Komponente die Routenparameter aus. Finden jedoch am Parameterwert \u00c4nderungen statt, ohne dass die Komponente neu initialisiert wird, bekommt die Komponente von den \u00c4nderungen nichts mit. Die oben gezeigte Form der Implementierung ist deshalb nicht f\u00fcr alle F\u00e4lle geeignet. Vielmehr ist es besser auszunutzen, dass es sich bei this.route.paramMap (ohne snapshot ) um ein Observable handelt. Ein Observable kann so verstanden werden, dass er permanent eine bestimmte Sache beobachtet (z.B. ist der EventEmitter ein Observable und beobachtet permanent, ob das Ereignis ausgel\u00f6st wird; wenn ja, dann ruft EventEmitter die Funktion emit() auf \u2192 siehe Eigene Ereignisse ). Wenn sich etwas an dem beobachteten Objekt ge\u00e4ndert hat, dann reagiert Observable sofort und ruft eine bestimmte Funktion auf. Das Observable paramMap beobachtet permanent die aktuelle Route und sobald sich etwas an dieser Route \u00e4ndert, wird eine Funktion aufgerufen. Damit das Observable aber \u00fcberhaupt den aktuellen Router permanent beobachtet, muss er an den Router angemeldet werden \u2192 das Observable \"abboniert\" den Router. Dies geschieht mithilfe der Funktion subscribe() . Dieser Funktion kann als Parameter eine Funktion \u00fcbergeben werden. Diese Funktion wird aufgerufen, sobald sich am aktuellen Router etwas \u00e4ndert. Wir \u00e4ndern die Implementierung von ngOnInit() in der Klasse first.component.ts deshalb wie folgt: first.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import { Component , OnInit } from '@angular/core' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-first' , templateUrl : './first.component.html' , styleUrls : [ './first.component.css' ] }) export class FirstComponent implements OnInit { id : string ; constructor ( private route : ActivatedRoute ) { } ngOnInit () : void { this . route . paramMap . subscribe ( paramMap => this . id = paramMap . get ( 'id' ) ); } } Nun erh\u00e4lt die Eigenschaft id immer den aktuellsten Wert (und dieser wird aufgrund der Interpolation auch stets aktuell in der View dargestellt).","title":"Parameter an Routen"},{"location":"angular/#verschachtelte-routen","text":"Angenommen, wir haben zwei weitere Komponenten OneComponent und TwoComponent und beide Komponenten sind Kindkomponenten von der Elternkomponente FirstComponent . Das Verh\u00e4ltnis Eltern- Kindkomponente entsteht ja eigentlich dadurch, dass das Template der Elternkomponente den Selektor der Kindkomponente enth\u00e4lt. Das hei\u00dft in first.component.html gibt es sowohl ein <app-one></app-one> als auch ein <app-two></app-two> \u2192 dann sind One und Two Kindkomponenten von First . Wir wollen nun aber folgendes: die Route /first verweist auf die FirstComponent die Route /first/one verweist auf die FirstComponent und deren Kindkomponente OneComponent die Route /first/two verweist auf die FirstComponent und deren Kindkomponente TwoComponent Wir wollen also, dass auch die beiden Kindkomponenten mittels Routing in die Elternkomponente eingef\u00fcgt werden. Das erreichen wir mit 2 Anpassungen: in app-routing.module.ts kann im routes -Array auch noch die Eigenschaft children hinzugef\u00fcgt werden, welche Pfadkonfigurationen zu den Kindkomponenten enth\u00e4lt in der *.component.html der Elternkomponente wird ein weiteres <router-outlet></router-outlet> hinzugef\u00fcgt app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 import { Routes , RouterModule } from '@angular/router' ; import { FirstComponent } from './first/first.component' ; import { SecondComponent } from './second/second.component' ; import { OneComponent } from './first/one/one.component' ; import { TwoComponent } from './first/two/two.component' ; const routes : Routes = [ { path : 'first' , component : FirstComponent , children : [ { path : 'one' , component : OneComponent }, { path : 'two' , component : TwoComponent }, ]}, { path : 'first/:id' , component : FirstComponent }, { path : 'second' , component : SecondComponent } ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } first.component.html 1 2 3 4 5 6 7 < h3 > Hier ist FirstComponent </ h3 > < ul > < li >< a [ routerLink ]=\"['/ first / one ']\" > first/one </ a ></ li > < li >< a [ routerLink ]=\"['/ first / two ']\" > first/two </ a ></ li > </ ul > < p * ngIf = \"id\" > {{ id }} </ p > < router-outlet ></ router-outlet > app.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 < h1 > Hier ist AppComponent </ h1 > < ul > < li > < a [ routerLink ]=\"['/']\" > home </ a > </ li > < li > < a [ routerLink ]=\"['/ first ']\" > first </ a > </ li > < li > < ul > < li >< a [ routerLink ]=\"['/ first / one ']\" > first/one </ a ></ li > < li >< a [ routerLink ]=\"['/ first / two ']\" > first/two </ a ></ li > </ ul > </ li > < li > < a [ routerLink ]=\"['/ second ']\" > second </ a > </ li > </ ul > < router-outlet ></ router-outlet > Das bedeutet, dass wir nun zwei <router-outlet></router-outlet> -Elemente haben. Eines in der app.component.html f\u00fcr die Routen first , first/:id und second und eines in der first.component.html f\u00fcr die Routen first/one und first/two .","title":"Verschachtelte Routen"},{"location":"angular/#styles-fur-aktive-routen","text":"Sie k\u00f6nnen angeben, welche CSS-Klassen wirken sollen, falls eine Route aktiv ist. Eine Route ist aktiv, wenn Sie ausgew\u00e4hlt/angewendet werden kann. Dazu wurde in Angular das Attribut routerLinkActive eingef\u00fchrt. Angenommen, die CSS-Klasse myactiveclass soll Anwendung f\u00fcr eine aktuelle (aktive) Route /first Anwendung finden, dann definieren Sie: < a routerLink = \"/first\" routerLinkActive = \"myactiveclass\" > first </ a > Sie k\u00f6nnen auch mehrere CSS-Klassen definieren. Daf\u00fcr gibt es zwei verschiedene M\u00f6glichkeiten: < a routerLink = \"/first\" routerLinkActive = \"myactiveclass1 myactiveclass1\" > first </ a > < a routerLink = \"/first\" [ routerLinkActive ]=\"[' myactiveclass1 ', ' myactiveclass1 ']\" > first </ a > Das Styling aktiver Routen ist insbesondere f\u00fcr Navigationsleisten (Men\u00fcs) hilfreich.","title":"Styles f\u00fcr aktive Routen"},{"location":"angular/#routen-im-programm-wechseln","text":"Der Service Router stellt zwei Methoden zur Verf\u00fcgung, mit denen eine Route im Programm gewechselt werden kann, z.B. nach einer Nutzereingabe oder einer Nutzerinteraktion: navigate() navigateByUrl() Angenommen, wir erweitern unsere Komponente SecondComponent um einen Button. Durch den Klick auf den Button soll von der SecondComponent auf die OneComponent \u00fcber die Route /first/one gewechselt werden: second.component.html 1 2 < h3 > Hier ist SecondComponent </ h3 > < button ( click )=\" changeRoute ()\" > /first/one </ button > second.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import { Component , OnInit } from '@angular/core' ; import { Router } from '@angular/router' ; @ Component ({ selector : 'app-second' , templateUrl : './second.component.html' , styleUrls : [ './second.component.css' ] }) export class SecondComponent implements OnInit { constructor ( private router : Router ) { } ngOnInit () : void { } changeRoute () { this . router . navigate ([ '/first' , 'one' ]); // oder // this.router.navigateByUrl('/first/one'); } } In der second.component.ts sehen wir in Zeile 11, dass der Service Router per dependency injection eingebunden wird. Der Eigenschaft router stehen die Methoden navigate() bzw. navigateByUrl() zur Verf\u00fcgung. Wir sehen in den Zeilen 16-20 die Behandlung des Click -Ereignisses des Buttons. In Zeile 17 wird darin programmatisch die Route /first/one aufgerufen.","title":"Routen im Programm wechseln"},{"location":"angular/#httpclient","text":"Wir wissen bereits, dass Angular eine TypeScript-Framework ist, mit dem sich Single-Page-Anwendungen implementieren lassen. Es wird einmalig eine Seite (h\u00e4ufig index.html ) vom Server geladen und alle weiteren Inhalte werden sukzessive bzw. durch Nutzerinteraktionen gesteuert in diese eine Seite nachgeladen. Die Steuering wird dabei durch den Browser vorgenommen, der das aus TypeScript \u00fcbersetzte JavaScript interpretiert und entsprechend die Templates der Komponenten in die Anwendung einbindet. Das bedeutet, dass im Prinzip die gesamte Logik im Client , d.h. im Browser ausgef\u00fchrt wird. Dem gegen\u00fcber steht jedoch die in der Anwendung verarbeitete Menge von Daten, die typischerweise in einer Datenbank auf einem Server bereitgestellt werden. W\u00e4hrend der Client sich darum k\u00fcmmert, dass Daten angezeigt oder eingegeben werden, muss sich der Server darum k\u00fcmmern, dass Daten in die Datenquelle (die Datenbank) neu eingef\u00fcgt, ausgelesen, aktualisiert und gel\u00f6scht werden k\u00f6nnen. Diese vier Operationen werden mit CRUD abgek\u00fcrzt f\u00fcr: C reate - neue Daten einf\u00fcgen R ead - Daten auslesen U pdate - Daten aktualisieren D elete - Daten l\u00f6schen Der Client und der Server m\u00fcssen dazu nun irgendwie verbunden werden. Diese Verbindung erfolgt mithilfe des Hypertext Transfer Protocols (HTTP) .","title":"HTTPClient"},{"location":"backend/","text":"REST-API \u00b6 Ehe wir uns weiter mit dem Frontend besch\u00e4ftigen, erstellen wir einen Server, der uns die Daten liefert. Derzeit haben wir unsere Mockup-Daten noch clientseitig vom DataService verwalten lassen und sie auch dort gespeichert. Das wollen wir nun \u00e4ndern. Wir wollen uns ein Backend erstellen, \u00fcber das wir unsere Daten verwalten. Dazu \u00fcberlegen wir uns zun\u00e4chst ein paar Endpunkte und die Zugriffsmethoden, mit denen wir auf unsere Daten zugreifen wollen. Methode URL Bedeutung GET /members hole alle Datens\u00e4tze GET /members/11 hole den Datensatz mit der id=11 POST /members f\u00fcge einen neuen Datensatz hinzu PUT /members/11 \u00e4ndere den Datensatz mit der id=11 DELETE /members/11 l\u00f6sche den Datensatz mit der id=11 DELETE /members l\u00f6sche alle Datens\u00e4tze Der Wert der id ist nat\u00fcrlich nur ein Beispiel. Es soll f\u00fcr alle id -Werte funktionieren, die in unserem Datensatz enthalten sind. Wir starten damit, uns ein node.js -Projekt zu erstellen. Dazu erstellen wir uns zun\u00e4chst einen Ordner backend , wechseln in diesen Ordner und f\u00fchren dann npm init aus: mkdir backend cd backend npm init Sie werden ein paar Sachen gefragt. Im Prinzip k\u00f6nnen Sie immer Enter dr\u00fccken: package name: ( backend ) version: ( 1 .0.0 ) description: Backend REST-API MySQL entry point: ( index.js ) test command: git repository: keywords: restapi, express, mysql author: J.Freiheit license: ( ISC ) About to write to /Users/jornfreiheit/Sites/WT20/backend/package.json: { \"name\" : \"backend\" , \"version\" : \"1.0.0\" , \"description\" : \"Backend REST-API MySQL\" , \"main\" : \"index.js\" , \"scripts\" : { \"test\" : \"echo \\\"Error: no test specified\\\" && exit 1\" } , \"keywords\" : [ \"restapi\" , \"express\" , \"mysql\" ] , \"author\" : \"J.Freiheit\" , \"license\" : \"ISC\" } Is this OK? ( yes ) Die package.json wurde erstellt. Nun ben\u00f6tigen wir noch ein paar n\u00fctzliche Module, n\u00e4mlich express , mysql und den body-parser : npm install express mysql body-parser --save Sie erhalten eine Meldung in der Form: + express@4.17.1 + body-parser@1.19.0 + mysql@2.18.1 added 59 packages from 48 contributors and audited 60 packages in 2 .016s found 0 vulnerabilities \u00d6ffnen Sie nun das backend -Projekt in Ihrer IDEserver und erstellen Sie sich dort eine Datei server.js mit folgendem Inhalt: server.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 const express = require ( \"express\" ); const bodyParser = require ( \"body-parser\" ); const app = express (); // parse requests of content-type: application/json app . use ( bodyParser . json ()); // parse requests of content-type: application/x-www-form-urlencoded app . use ( bodyParser . urlencoded ({ extended : true })); // simple route app . get ( \"/\" , ( req , res ) => { res . json ({ message : \"Hello FIW!\" }); }); // set port, listen for requests app . listen ( 3000 , () => { console . log ( \"Server is running on port 3000.\" ); }); Geben Sie im Terminal in Ihrem backend -Ordner nun node server.js ein. Das m\u00fcssen Sie nun leider immer wieder zum Compilieren und Ausf\u00fchren machen. Sie beenden den Prozess mit Ctrl+C und starten ihn dann erneut. \u00d6ffnen Sie im Browser http://localhost:3000/ und Sie erhalten: Sie k\u00f6nnen auch Postman \u00f6ffnen und http://localhost:3000 eintragen ( GET -Methode): Datenbank erstellen \u00b6 Bevor wir mit der Implementierung des Backends fortfahren, erstellen wir unsere Datenbank. Am einfachsten ist es, wenn wir phpmyadmin unter localhost \u00f6ffnen ( http://localhost/phpmyadmin ) und dort zun\u00e4chst eine Datenbank anlegen (unter Neu ); benennen Sie die Datenbank am besten mockupdb und darin folgende sql -Datei importieren: members.sql -- phpMyAdmin SQL Dump -- version 5.0.2 -- https://www.phpmyadmin.net/ -- -- Host: localhost -- Erstellungszeit: 23. Nov 2020 um 16:23 -- Server-Version: 8.0.17 -- PHP-Version: 7.3.22-(to be removed in future macOS) SET SQL_MODE = \"NO_AUTO_VALUE_ON_ZERO\" ; START TRANSACTION ; SET time_zone = \"+00:00\" ; /*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */ ; /*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */ ; /*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */ ; /*!40101 SET NAMES utf8mb4 */ ; -- -- Datenbank: `mockupdb` -- -- -------------------------------------------------------- -- -- Tabellenstruktur f\u00fcr Tabelle `members` -- CREATE TABLE ` members ` ( ` id ` int ( 11 ) NOT NULL , ` firstname ` varchar ( 25 ) NOT NULL , ` lastname ` varchar ( 25 ) NOT NULL , ` email ` varchar ( 30 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Daten f\u00fcr Tabelle `members` -- INSERT INTO ` members ` ( ` id ` , ` firstname ` , ` lastname ` , ` email ` ) VALUES ( 1 , 'Catherine' , 'Williams' , 'cwilliamsl@360.cn' ), ( 2 , 'Adam' , 'Anderson' , 'aanderson8@google.fr' ), ( 3 , 'Susan' , 'Andrews' , 'sandrewsn@google.co.jp' ), ( 4 , 'Catherine' , 'Andrews' , 'candrewsp@noaa.gov' ), ( 5 , 'Alan' , 'Bradley' , 'abradley1c@globo.com' ), ( 6 , 'Anne' , 'Brooks' , 'abrooks16@bravesites.com' ), ( 7 , 'Russell' , 'Brown' , 'rbrownq@nifty.com' ), ( 8 , 'Ryan' , 'Burton' , 'rburton18@foxnews.com' ), ( 9 , 'Roy' , 'Campbell' , 'rcampbell1@geocities.com' ), ( 10 , 'Russell' , 'Campbell' , 'rcampbell17@eventbrite.com' ), ( 11 , 'Bonnie' , 'Coleman' , 'bcoleman11@fc2.com' ), ( 12 , 'Ernest' , 'Coleman' , 'ecoleman15@businessweek.com' ), ( 13 , 'Richard' , 'Cruz' , 'rcruz7@unc.edu' ), ( 14 , 'Sean' , 'Cruz' , 'scruz10@answers.com' ), ( 15 , 'Rebecca' , 'Cunningham' , 'rcunninghamd@mac.com' ), ( 16 , 'Margaret' , 'Evans' , 'mevansh@pcworld.com' ), ( 17 , 'Jeffrey' , 'Ford' , 'jford14@cnet.com' ), ( 18 , 'Andrea' , 'Gardner' , 'agardnerv@woothemes.com' ), ( 19 , 'Deborah' , 'George' , 'dgeorge6@furl.net' ), ( 20 , 'Sean' , 'Gibson' , 'sgibsony@alexa.com' ), ( 21 , 'Virginia' , 'Graham' , 'vgrahamk@aol.com' ), ( 22 , 'Steven' , 'Hamilton' , 'shamiltonu@state.tx.us' ), ( 23 , 'Virginia' , 'Hawkins' , 'vhawkinsf@ehow.com' ), ( 24 , 'Edward' , 'Hicks' , 'ehicksc@pcworld.com' ), ( 25 , 'Mark' , 'Johnson' , 'mjohnsonj@hostgator.com' ), ( 26 , 'Ruth' , 'Jordan' , 'rjordan1a@smugmug.com' ), ( 27 , 'Antonio' , 'Kim' , 'akim4@odnoklassniki.ru' ), ( 28 , 'Jennifer' , 'Marshall' , 'jmarshallt@gnu.org' ), ( 29 , 'Eric' , 'Matthews' , 'ematthews5@independent.co.uk' ), ( 30 , 'Raymond' , 'Mcdonald' , 'rmcdonald2@ihg.com' ), ( 31 , 'Eric' , 'Miller' , 'emillere@creativecommons.org' ), ( 32 , 'Jonathan' , 'Morales' , 'jmoralesa@ovh.net' ), ( 33 , 'Marie' , 'Morgan' , 'mmorganb@cloudflare.com' ), ( 34 , 'Amanda' , 'Nelson' , 'anelson13@indiatimes.com' ), ( 35 , 'Lisa' , 'Olson' , 'lolsonr@telegraph.co.uk' ), ( 36 , 'Alice' , 'Ortiz' , 'aortizw@histats.com' ), ( 37 , 'Peter' , 'Phillips' , 'pphillipss@1688.com' ), ( 38 , 'Matthew' , 'Porter' , 'mporter9@europa.eu' ), ( 39 , 'Tammy' , 'Ray' , 'trayx@weather.com' ), ( 40 , 'Mark' , 'Richardson' , 'mrichardson1d@ihg.com' ), ( 41 , 'Joan' , 'Roberts' , 'jroberts12@alibaba.com' ), ( 42 , 'Kathleen' , 'Rose' , 'kroseg@pinterest.com' ), ( 43 , 'Steve' , 'Sanders' , 'ssanders1b@wikispaces.com' ), ( 44 , 'Shirley' , 'Scott' , 'sscottm@macromedia.com' ), ( 45 , 'Lillian' , 'Stephens' , 'lstephens19@hugedomains.com' ), ( 46 , 'Nicole' , 'Thompson' , 'nthompson3@admin.ch' ), ( 47 , 'Marie' , 'Thompson' , 'mthompsonz@yelp.com' ), ( 48 , 'Alan' , 'Vasquez' , 'avasquezo@miibeian.gov.cn' ), ( 49 , 'Mildred' , 'Watkins' , 'mwatkins0@miibeian.gov.cn' ), ( 50 , 'Eugene' , 'Williams' , 'ewilliamsi@deliciousdays.com' ); -- -- Indizes der exportierten Tabellen -- -- -- Indizes f\u00fcr die Tabelle `members` -- ALTER TABLE ` members ` ADD PRIMARY KEY ( ` id ` ); -- -- AUTO_INCREMENT f\u00fcr exportierte Tabellen -- -- -- AUTO_INCREMENT f\u00fcr Tabelle `members` -- ALTER TABLE ` members ` MODIFY ` id ` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 51 ; COMMIT ; /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */ ; /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */ ; /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */ ; Falls Sie MySQL vom Studi-Server verwenden, dann m\u00fcssen Sie COLLATE = utf8mb4_0900_ai_ci durch COLLATE = utf8mb4_general_ci ersetzen! Sie k\u00f6nnen sich diese Datei auch hier herunterladen. Pr\u00fcfen Sie, ob alle 50 Datens\u00e4tze korrekt eingelsen wurden. Unter Anzeigen in phpmyadmin sollte folgende Tabelle erscheinen: Datenbank im Backend anbinden \u00b6 Wir binden nun die Datenbank an unser Backend an. Erstellen Sie sich am besten in Ihrem backend -Ordner einen Ordner config und darin eine db.config.js -Datei mit folgendem Inhalt: config/db.config.js module . exports = { HOST : \"localhost\" , USER : \"root\" , PASSWORD : \"IhrPasswort\" , DB : \"mockupdb\" }; Falls Sie MySQL des Studi-Servers verwenden, sieht die db.config.js so aus: config/db.config.js module . exports = { HOST : \"db.f4.htw-berlin.de\" , USER : \"s05xxx\" , PASSWORD : \"IhrPassword\" , DB : \"_s05xxx__mockupdb\" }; Sie m\u00fcssen Ihr Passwort eintragen und, falls Sie Ihre Datenbank anders genannt haben, auch den Datenbanknamen anpassen. Erstellen Sie sich in Ihrem backend -Ordner einen Ordner app und darin einen Ordner model . In diesem Ordner erstellen Sie sich ein db.js , um die Verbindung zur Datenbank zu implementieren: app/model/db.js const mysql = require ( \"mysql\" ); const dbConfig = require ( \"../../config/db.config.js\" ); // Create a connection to the database const connection = mysql . createConnection ({ host : dbConfig . HOST , user : dbConfig . USER , password : dbConfig . PASSWORD , database : dbConfig . DB }); // open the MySQL connection connection . connect ( error => { if ( error ) throw error ; console . log ( \"Successfully connected to the database.\" ); }); module . exports = connection ; Ein Model erstellen \u00b6 In dem app/model -Ordner erstellen wir eine Datei members.model.js mit folgendem Inhalt: app/model/members.model.js const sql = require ( \"./db.js\" ); // constructor const Member = function ( member ) { this . firstname = member . firstname ; this . lastname = member . lastname ; this . email = member . email ; }; Member . create = ( newMember , result ) => { sql . query ( \"INSERT INTO members SET ?\" , newMember , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( err , null ); return ; } console . log ( \"created member: \" , { id : res . insertId , ... newMember }); result ( null , { id : res . insertId , ... newMember }); }); }; Member . findById = ( memberId , result ) => { sql . query ( `SELECT * FROM members WHERE id = ${ memberId } ` , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( err , null ); return ; } if ( res . length ) { console . log ( \"found member: \" , res [ 0 ]); result ( null , res [ 0 ]); return ; } // not found Member with the id result ({ kind : \"not_found\" }, null ); }); }; Member . getAll = result => { sql . query ( \"SELECT * FROM members\" , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( null , err ); return ; } console . log ( \"members: \" , res ); result ( null , res ); }); }; Member . updateById = ( id , member , result ) => { sql . query ( \"UPDATE members SET firstname = ?, lastname = ?, email = ? WHERE id = ?\" , [ member . firstname , member . lastname , member . email , id ], ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( null , err ); return ; } if ( res . affectedRows == 0 ) { // not found Customer with the id result ({ kind : \"not_found\" }, null ); return ; } console . log ( \"updated member: \" , { id : id , ... member }); result ( null , { id : id , ... member }); } ); }; Member . remove = ( id , result ) => { sql . query ( \"DELETE FROM members WHERE id = ?\" , id , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( null , err ); return ; } if ( res . affectedRows == 0 ) { // not found Member with the id result ({ kind : \"not_found\" }, null ); return ; } console . log ( \"deleted member with id: \" , id ); result ( null , res ); }); }; Member . removeAll = result => { sql . query ( \"DELETE FROM members\" , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( null , err ); return ; } console . log ( `deleted ${ res . affectedRows } members` ); result ( null , res ); }); }; module . exports = Member ; Die Routen definieren \u00b6 Erstellen Sie sich im app -Ordner einen Ordner routes und erstellen darin eine Datei members.routes.js mit folgendem Inhalt: app/routes/members.routes.js module . exports = app => { const members = require ( \"../controller/members.controller.js\" ); // Create a new Member app . post ( \"/members\" , members . create ); // GET all Members app . get ( \"/members\" , members . findAll ); // GET one single Member with memberId app . get ( \"/members/:memberId\" , members . findOne ); // Update one Member with memberId app . put ( \"/members/:memberId\" , members . update ); // Delete the Member with memberId app . delete ( \"/members/:memberId\" , members . delete ); // Delete all members app . delete ( \"/members\" , members . deleteAll ); }; Diese Datei lesen wir in unsere server.js ein: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const express = require ( \"express\" ); const bodyParser = require ( \"body-parser\" ); const app = express (); // parse requests of content-type: application/json app . use ( bodyParser . json ()); // parse requests of content-type: application/x-www-form-urlencoded app . use ( bodyParser . urlencoded ({ extended : true })); // simple route app . get ( \"/\" , ( req , res ) => { res . json ({ message : \"Hello FIW!\" }); }); require ( \"./app/routes/members.routes.js\" )( app ); // set port, listen for requests app . listen ( 3000 , () => { console . log ( \"Server is running on port 3000.\" ); }); Einen Controller erstellen \u00b6 Nun erstellen wir uns im Ordner app/controller eine members.controller.js mit den entsprechenden CRUD-Funktionen, die wir dann noch implementieren m\u00fcssen: app/controller/members.controller.js const Member = require ( \"../model/members.model.js\" ); // Create and Save a new Member exports . create = ( req , res ) => { }; // Retrieve all Members from the database. exports . findAll = ( req , res ) => { }; // Find a single Member with a memberId exports . findOne = ( req , res ) => { }; // Update a Member identified by the memberId in the request exports . update = ( req , res ) => { }; // Delete a Member with the specified memberId in the request exports . delete = ( req , res ) => { }; // Delete all Members from the database. exports . deleteAll = ( req , res ) => { }; \u00dcberpr\u00fcfen Sie Ihre Implementierung so weit, indem Sie node server.js erneut starten. Es sollte alles ohne Fehler compilieren. R - read all \u00b6 Wir implementieren nun nach und nach die einzelnen Funktionen in members.controller.js . Wir beginnen mit der findAll() -Funktion: app/controller/members.controller.js 8 9 10 11 12 13 14 15 16 17 18 // Retrieve all Members from the database. exports . findAll = ( req , res ) => { Member . getAll (( err , data ) => { if ( err ) res . status ( 500 ). send ({ message : err . message || \"Some error occurred while retrieving members.\" }); else res . send ( data ); }); }; Wenn Sie nun erneut node server.js starten und in Postman GET http://localhost:3000/members aufrufen, erscheinen alle Eintr\u00e4ge aus der Datenbank: C - create \u00b6 Als n\u00e4chstes implementieren wir die create() -Funktion, um einen neuen Eintrag in der Datenbank anzulegen. app/controller/members.controller.js 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 // Create and Save a new Member exports . create = ( req , res ) => { // Validate request if ( ! req . body ) { res . status ( 400 ). send ({ message : \"Content can not be empty!\" }); } // Create a Member const member = new Member ({ firstname : req . body . firstname , lastname : req . body . lastname , email : req . body . email }); // Save Customer in the database Member . create ( member , ( err , data ) => { if ( err ) res . status ( 500 ). send ({ message : err . message || \"Some error occurred while creating the Member.\" }); else res . send ( data ); }); }; Nach einem Neustart von node server.js geben wir in Postman nun POST http://localhost:3000/members ein und bef\u00fcllen den Body mit z.B.: 1 2 3 4 5 { \"firstname\" : \"Test1\" , \"lastname\" : \"Test2\" , \"email\" : \"test3@email.de\" } Achten Sie darauf, dass in der zweiten Men\u00fczeile rechts JSON ausgew\u00e4hlt ist (im Bild orange) - nicht Text : Wir klicken auf Send und es erscheint: Schauen Sie auch in Ihre Datenbank unter http://localhost/phpmyadmin . Dort erscheint der Datensatz mit der neuen id=51 : R - read one \u00b6 Wir erweitern die members.controller.js um die Funktion findOne() , die uns f\u00fcr eine gegebene id den entsprechenden Datensatz zur\u00fcckliefert: app/controller/members.controller.js 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // Find a single Member with a memberId exports . findOne = ( req , res ) => { Member . findById ( req . params . memberId , ( err , data ) => { if ( err ) { if ( err . kind === \"not_found\" ) { res . status ( 404 ). send ({ message : `Not found Member with id ${ req . params . memberId } .` }); } else { res . status ( 500 ). send ({ message : \"Error retrieving Member with id \" + req . params . memberId }); } } else res . send ( data ); }); }; Nach Neustart des Servers geben wir in Postman z.B. GET http://localhost:3000/members/11 ein und erhalten: Probieren Sie auch einmal GET http://localhost:3000/members/52 aus, um die Fehlermeldung als JSON zu sehen. U - update \u00b6 Nun noch die update() -Funktion, um einen bereits existierenden Datensatz zu \u00e4ndern: app/controller/members.controller.js 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 // Update a Member identified by the memberId in the request exports . update = ( req , res ) => { // Validate Request if ( ! req . body ) { res . status ( 400 ). send ({ message : \"Content can not be empty!\" }); } Member . updateById ( req . params . memberId , new Member ( req . body ), ( err , data ) => { if ( err ) { if ( err . kind === \"not_found\" ) { res . status ( 404 ). send ({ message : `Not found Member with id ${ req . params . memberId } .` }); } else { res . status ( 500 ). send ({ message : \"Error updating Member with id \" + req . params . memberId }); } } else res . send ( data ); } ); }; Nach dem Neustart des Servers k\u00f6nnen wir diese Funktion in Postman ausprobieren, indem wir im Body z.B. das JSON 1 2 3 4 5 6 { \"id\" : 51 , \"firstname\" : \"Test111\" , \"lastname\" : \"Test211\" , \"email\" : \"test311@email.de\" } mit unserem Request \u00fcbergeben und PUT http://localhost:3000/members/51 w\u00e4hlen. Der Datensatz mit der id=51 wird dann aktualisiert: Schauen Sie auch in der Datenbank nach und w\u00e4hlen auch ruhig nochmal GET http://localhost:3000/members . D - delete one \u00b6 Jetzt implementieren wir noch die delete() -Funktion, um einen Datensatz zu l\u00f6schen: app/controller/members.controller.js 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 // Delete a Member with the specified memberId in the request exports . delete = ( req , res ) => { Member . remove ( req . params . memberId , ( err , data ) => { if ( err ) { if ( err . kind === \"not_found\" ) { res . status ( 404 ). send ({ message : `Not found Member with id ${ req . params . memberId } .` }); } else { res . status ( 500 ). send ({ message : \"Could not delete Member with id \" + req . params . memberId }); } } else res . send ({ message : `Member was deleted successfully!` }); }); }; Wenn wir nach dem Neustart des Servers in Postman z.B. DELETE http://localhost:3000/members/51 eingeben, erscheint: { \"message\": \"Member was deleted successfully!\" } und der Datensatz mit der id=51 ist aus der Datenbank gel\u00f6scht. Wenn wir erneut DELETE http://localhost:3000/members/51 eingeben, erscheint: { \"message\": \"Not found Member with id 51.\" } Wir implementieren der Vollst\u00e4ndigkeit halber noch die deleteAll() -Methode. Sie k\u00f6nnen ja entscheiden, ob Sie sie ausprobieren wollen oder nicht ;-) D - delete all \u00b6 app/controller/members.controller.js 104 105 106 107 108 109 110 111 112 113 114 // Delete all Members from the database. exports . deleteAll = ( req , res ) => { Member . removeAll (( err , data ) => { if ( err ) res . status ( 500 ). send ({ message : err . message || \"Some error occurred while removing all members.\" }); else res . send ({ message : `All Members were deleted successfully!` }); }); }; In Postman kann diese Methode mit DELETE http://localhost:3000/members/ getestet werden. Es erscheint { \"message\" : \"All Members were deleted successfully!\" } und auch die Datenbank ist leer: Sollten Sie die Methode erfolgreich ausprobiert haben, k\u00f6nnen Sie die Datenbank \u00fcber diese Insert-Anweisungen wieder auff\u00fcllen (in phpmyadmin unter dem Reiter SQL reinkopieren): Insert-Anweisungen f\u00fcr alle 50 Datens\u00e4tze INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Catherine\" , \"Williams\" , \"cwilliamsl@360.cn\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Adam\" , \"Anderson\" , \"aanderson8@google.fr\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Susan\" , \"Andrews\" , \"sandrewsn@google.co.jp\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Catherine\" , \"Andrews\" , \"candrewsp@noaa.gov\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Alan\" , \"Bradley\" , \"abradley1c@globo.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Anne\" , \"Brooks\" , \"abrooks16@bravesites.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Russell\" , \"Brown\" , \"rbrownq@nifty.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Ryan\" , \"Burton\" , \"rburton18@foxnews.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Roy\" , \"Campbell\" , \"rcampbell1@geocities.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Russell\" , \"Campbell\" , \"rcampbell17@eventbrite.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Bonnie\" , \"Coleman\" , \"bcoleman11@fc2.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Ernest\" , \"Coleman\" , \"ecoleman15@businessweek.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Richard\" , \"Cruz\" , \"rcruz7@unc.edu\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Sean\" , \"Cruz\" , \"scruz10@answers.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Rebecca\" , \"Cunningham\" , \"rcunninghamd@mac.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Margaret\" , \"Evans\" , \"mevansh@pcworld.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Jeffrey\" , \"Ford\" , \"jford14@cnet.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Andrea\" , \"Gardner\" , \"agardnerv@woothemes.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Deborah\" , \"George\" , \"dgeorge6@furl.net\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Sean\" , \"Gibson\" , \"sgibsony@alexa.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Virginia\" , \"Graham\" , \"vgrahamk@aol.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Steven\" , \"Hamilton\" , \"shamiltonu@state.tx.us\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Virginia\" , \"Hawkins\" , \"vhawkinsf@ehow.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Edward\" , \"Hicks\" , \"ehicksc@pcworld.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Mark\" , \"Johnson\" , \"mjohnsonj@hostgator.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Ruth\" , \"Jordan\" , \"rjordan1a@smugmug.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Antonio\" , \"Kim\" , \"akim4@odnoklassniki.ru\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Jennifer\" , \"Marshall\" , \"jmarshallt@gnu.org\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Eric\" , \"Matthews\" , \"ematthews5@independent.co.uk\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Raymond\" , \"Mcdonald\" , \"rmcdonald2@ihg.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Eric\" , \"Miller\" , \"emillere@creativecommons.org\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Jonathan\" , \"Morales\" , \"jmoralesa@ovh.net\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Marie\" , \"Morgan\" , \"mmorganb@cloudflare.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Amanda\" , \"Nelson\" , \"anelson13@indiatimes.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Lisa\" , \"Olson\" , \"lolsonr@telegraph.co.uk\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Alice\" , \"Ortiz\" , \"aortizw@histats.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Peter\" , \"Phillips\" , \"pphillipss@1688.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Matthew\" , \"Porter\" , \"mporter9@europa.eu\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Tammy\" , \"Ray\" , \"trayx@weather.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Mark\" , \"Richardson\" , \"mrichardson1d@ihg.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Joan\" , \"Roberts\" , \"jroberts12@alibaba.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Kathleen\" , \"Rose\" , \"kroseg@pinterest.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Steve\" , \"Sanders\" , \"ssanders1b@wikispaces.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Shirley\" , \"Scott\" , \"sscottm@macromedia.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Lillian\" , \"Stephens\" , \"lstephens19@hugedomains.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Nicole\" , \"Thompson\" , \"nthompson3@admin.ch\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Marie\" , \"Thompson\" , \"mthompsonz@yelp.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Alan\" , \"Vasquez\" , \"avasquezo@miibeian.gov.cn\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Mildred\" , \"Watkins\" , \"mwatkins0@miibeian.gov.cn\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Eugene\" , \"Williams\" , \"ewilliamsi@deliciousdays.com\" ); Beachten Sie, dass danach die id -Werte andere sind, da es sich um einen AUTO INCREMENT -Wert handelt. Success Wir haben unser Backend erfolgreich als REST-Server implementiert, der alle CRUD-Funktionalit\u00e4ten umsetzt. Wir werden im n\u00e4chsten Schritt das Frontend nun so gestalten, dass es auf die REST-API zugreift und das Backend f\u00fcr die Datenverwaltung verwendet. Cross-Origin Resource Sharing (CORS) \u00b6 Die Same Origin Policy (SOP) ist ein Sicherheitskonzept, das clientseitig Skriptsprachen (also z.B. JavaScript oder CSS) untersagt, Ressourcen aus verschiedenen Herkunften zu verwenden, also von verschiedenen Servern. Dadurch soll verhindert werden, dass fremde Skripte in die bestehende Client-Server-Kommunikation eingeschleust werden. Gleiche Herkunft (origin) bedeutet, dass das gleiche Protokoll (z.B. http oder https ), von der gleichen Domain (z.B. localhost oder htw-berlin ) sowie dem gleichen Port (z.B. 80 oder 4200 ) verwendet werden. Es m\u00fcssen alle drei Eigenschaften \u00fcbereinstimmen. Mit dem Aufkommen von Single Page Applications und dem darin ben\u00f6tigten AJAX kam jedoch der Bedarf auf, die SOP aufzuweichen. Es sollte m\u00f6glich sein, dass z.B. JavaScript sowohl client-seitig das DOM \u00e4ndert als auch einen Request an den Server (das Backend) sendet. Der Kompromiss, der daf\u00fcr gefunden wurde, nennt sich Cross-Origin Resource Sharing (CORS) . Damit ist es m\u00f6glich, f\u00fcr einige oder alle Anfragen zu definieren, dass sie im Sinne der SOP trotzdem erlaub sein sollen. Um CORS f\u00fcr Ihr Backend zu aktivieren, wechseln Sie im Terminal in Ihren backend -Ordner und geben dort npm install cors ein. \u00d6ffnen Sie dann die server.js und f\u00fcgen Sie die hervorgehobenen Zeilen ein: server.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 const express = require ( \"express\" ); const cors = require ( 'cors' ); const bodyParser = require ( \"body-parser\" ); const app = express (); // parse requests of content-type: application/json app . use ( bodyParser . json ()); // enable cors for all requests app . use ( cors ()); // parse requests of content-type: application/x-www-form-urlencoded app . use ( bodyParser . urlencoded ({ extended : true })); // simple route app . get ( \"/\" , ( req , res ) => { res . json ({ message : \"Hello FIW!\" }); }); require ( \"./app/routes/members.routes.js\" )( app ); // set port, listen for requests app . listen ( 3000 , () => { console . log ( \"Server is running on port 3000.\" ); }); Wenn Sie z.B. nur die get -Anfrage teilen wollen, dann w\u00e4hlen Sie nicht app.use(cors()); , sondern app . get ( \"/\" , cors (), ( req , res ) => { res . json ({ message : \"Hello FIW!\" }); }); Mehr zum CORS-Paket von node.js bzw. express finden Sie hier .","title":"REST-API"},{"location":"backend/#rest-api","text":"Ehe wir uns weiter mit dem Frontend besch\u00e4ftigen, erstellen wir einen Server, der uns die Daten liefert. Derzeit haben wir unsere Mockup-Daten noch clientseitig vom DataService verwalten lassen und sie auch dort gespeichert. Das wollen wir nun \u00e4ndern. Wir wollen uns ein Backend erstellen, \u00fcber das wir unsere Daten verwalten. Dazu \u00fcberlegen wir uns zun\u00e4chst ein paar Endpunkte und die Zugriffsmethoden, mit denen wir auf unsere Daten zugreifen wollen. Methode URL Bedeutung GET /members hole alle Datens\u00e4tze GET /members/11 hole den Datensatz mit der id=11 POST /members f\u00fcge einen neuen Datensatz hinzu PUT /members/11 \u00e4ndere den Datensatz mit der id=11 DELETE /members/11 l\u00f6sche den Datensatz mit der id=11 DELETE /members l\u00f6sche alle Datens\u00e4tze Der Wert der id ist nat\u00fcrlich nur ein Beispiel. Es soll f\u00fcr alle id -Werte funktionieren, die in unserem Datensatz enthalten sind. Wir starten damit, uns ein node.js -Projekt zu erstellen. Dazu erstellen wir uns zun\u00e4chst einen Ordner backend , wechseln in diesen Ordner und f\u00fchren dann npm init aus: mkdir backend cd backend npm init Sie werden ein paar Sachen gefragt. Im Prinzip k\u00f6nnen Sie immer Enter dr\u00fccken: package name: ( backend ) version: ( 1 .0.0 ) description: Backend REST-API MySQL entry point: ( index.js ) test command: git repository: keywords: restapi, express, mysql author: J.Freiheit license: ( ISC ) About to write to /Users/jornfreiheit/Sites/WT20/backend/package.json: { \"name\" : \"backend\" , \"version\" : \"1.0.0\" , \"description\" : \"Backend REST-API MySQL\" , \"main\" : \"index.js\" , \"scripts\" : { \"test\" : \"echo \\\"Error: no test specified\\\" && exit 1\" } , \"keywords\" : [ \"restapi\" , \"express\" , \"mysql\" ] , \"author\" : \"J.Freiheit\" , \"license\" : \"ISC\" } Is this OK? ( yes ) Die package.json wurde erstellt. Nun ben\u00f6tigen wir noch ein paar n\u00fctzliche Module, n\u00e4mlich express , mysql und den body-parser : npm install express mysql body-parser --save Sie erhalten eine Meldung in der Form: + express@4.17.1 + body-parser@1.19.0 + mysql@2.18.1 added 59 packages from 48 contributors and audited 60 packages in 2 .016s found 0 vulnerabilities \u00d6ffnen Sie nun das backend -Projekt in Ihrer IDEserver und erstellen Sie sich dort eine Datei server.js mit folgendem Inhalt: server.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 const express = require ( \"express\" ); const bodyParser = require ( \"body-parser\" ); const app = express (); // parse requests of content-type: application/json app . use ( bodyParser . json ()); // parse requests of content-type: application/x-www-form-urlencoded app . use ( bodyParser . urlencoded ({ extended : true })); // simple route app . get ( \"/\" , ( req , res ) => { res . json ({ message : \"Hello FIW!\" }); }); // set port, listen for requests app . listen ( 3000 , () => { console . log ( \"Server is running on port 3000.\" ); }); Geben Sie im Terminal in Ihrem backend -Ordner nun node server.js ein. Das m\u00fcssen Sie nun leider immer wieder zum Compilieren und Ausf\u00fchren machen. Sie beenden den Prozess mit Ctrl+C und starten ihn dann erneut. \u00d6ffnen Sie im Browser http://localhost:3000/ und Sie erhalten: Sie k\u00f6nnen auch Postman \u00f6ffnen und http://localhost:3000 eintragen ( GET -Methode):","title":"REST-API"},{"location":"backend/#datenbank-erstellen","text":"Bevor wir mit der Implementierung des Backends fortfahren, erstellen wir unsere Datenbank. Am einfachsten ist es, wenn wir phpmyadmin unter localhost \u00f6ffnen ( http://localhost/phpmyadmin ) und dort zun\u00e4chst eine Datenbank anlegen (unter Neu ); benennen Sie die Datenbank am besten mockupdb und darin folgende sql -Datei importieren: members.sql -- phpMyAdmin SQL Dump -- version 5.0.2 -- https://www.phpmyadmin.net/ -- -- Host: localhost -- Erstellungszeit: 23. Nov 2020 um 16:23 -- Server-Version: 8.0.17 -- PHP-Version: 7.3.22-(to be removed in future macOS) SET SQL_MODE = \"NO_AUTO_VALUE_ON_ZERO\" ; START TRANSACTION ; SET time_zone = \"+00:00\" ; /*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */ ; /*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */ ; /*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */ ; /*!40101 SET NAMES utf8mb4 */ ; -- -- Datenbank: `mockupdb` -- -- -------------------------------------------------------- -- -- Tabellenstruktur f\u00fcr Tabelle `members` -- CREATE TABLE ` members ` ( ` id ` int ( 11 ) NOT NULL , ` firstname ` varchar ( 25 ) NOT NULL , ` lastname ` varchar ( 25 ) NOT NULL , ` email ` varchar ( 30 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Daten f\u00fcr Tabelle `members` -- INSERT INTO ` members ` ( ` id ` , ` firstname ` , ` lastname ` , ` email ` ) VALUES ( 1 , 'Catherine' , 'Williams' , 'cwilliamsl@360.cn' ), ( 2 , 'Adam' , 'Anderson' , 'aanderson8@google.fr' ), ( 3 , 'Susan' , 'Andrews' , 'sandrewsn@google.co.jp' ), ( 4 , 'Catherine' , 'Andrews' , 'candrewsp@noaa.gov' ), ( 5 , 'Alan' , 'Bradley' , 'abradley1c@globo.com' ), ( 6 , 'Anne' , 'Brooks' , 'abrooks16@bravesites.com' ), ( 7 , 'Russell' , 'Brown' , 'rbrownq@nifty.com' ), ( 8 , 'Ryan' , 'Burton' , 'rburton18@foxnews.com' ), ( 9 , 'Roy' , 'Campbell' , 'rcampbell1@geocities.com' ), ( 10 , 'Russell' , 'Campbell' , 'rcampbell17@eventbrite.com' ), ( 11 , 'Bonnie' , 'Coleman' , 'bcoleman11@fc2.com' ), ( 12 , 'Ernest' , 'Coleman' , 'ecoleman15@businessweek.com' ), ( 13 , 'Richard' , 'Cruz' , 'rcruz7@unc.edu' ), ( 14 , 'Sean' , 'Cruz' , 'scruz10@answers.com' ), ( 15 , 'Rebecca' , 'Cunningham' , 'rcunninghamd@mac.com' ), ( 16 , 'Margaret' , 'Evans' , 'mevansh@pcworld.com' ), ( 17 , 'Jeffrey' , 'Ford' , 'jford14@cnet.com' ), ( 18 , 'Andrea' , 'Gardner' , 'agardnerv@woothemes.com' ), ( 19 , 'Deborah' , 'George' , 'dgeorge6@furl.net' ), ( 20 , 'Sean' , 'Gibson' , 'sgibsony@alexa.com' ), ( 21 , 'Virginia' , 'Graham' , 'vgrahamk@aol.com' ), ( 22 , 'Steven' , 'Hamilton' , 'shamiltonu@state.tx.us' ), ( 23 , 'Virginia' , 'Hawkins' , 'vhawkinsf@ehow.com' ), ( 24 , 'Edward' , 'Hicks' , 'ehicksc@pcworld.com' ), ( 25 , 'Mark' , 'Johnson' , 'mjohnsonj@hostgator.com' ), ( 26 , 'Ruth' , 'Jordan' , 'rjordan1a@smugmug.com' ), ( 27 , 'Antonio' , 'Kim' , 'akim4@odnoklassniki.ru' ), ( 28 , 'Jennifer' , 'Marshall' , 'jmarshallt@gnu.org' ), ( 29 , 'Eric' , 'Matthews' , 'ematthews5@independent.co.uk' ), ( 30 , 'Raymond' , 'Mcdonald' , 'rmcdonald2@ihg.com' ), ( 31 , 'Eric' , 'Miller' , 'emillere@creativecommons.org' ), ( 32 , 'Jonathan' , 'Morales' , 'jmoralesa@ovh.net' ), ( 33 , 'Marie' , 'Morgan' , 'mmorganb@cloudflare.com' ), ( 34 , 'Amanda' , 'Nelson' , 'anelson13@indiatimes.com' ), ( 35 , 'Lisa' , 'Olson' , 'lolsonr@telegraph.co.uk' ), ( 36 , 'Alice' , 'Ortiz' , 'aortizw@histats.com' ), ( 37 , 'Peter' , 'Phillips' , 'pphillipss@1688.com' ), ( 38 , 'Matthew' , 'Porter' , 'mporter9@europa.eu' ), ( 39 , 'Tammy' , 'Ray' , 'trayx@weather.com' ), ( 40 , 'Mark' , 'Richardson' , 'mrichardson1d@ihg.com' ), ( 41 , 'Joan' , 'Roberts' , 'jroberts12@alibaba.com' ), ( 42 , 'Kathleen' , 'Rose' , 'kroseg@pinterest.com' ), ( 43 , 'Steve' , 'Sanders' , 'ssanders1b@wikispaces.com' ), ( 44 , 'Shirley' , 'Scott' , 'sscottm@macromedia.com' ), ( 45 , 'Lillian' , 'Stephens' , 'lstephens19@hugedomains.com' ), ( 46 , 'Nicole' , 'Thompson' , 'nthompson3@admin.ch' ), ( 47 , 'Marie' , 'Thompson' , 'mthompsonz@yelp.com' ), ( 48 , 'Alan' , 'Vasquez' , 'avasquezo@miibeian.gov.cn' ), ( 49 , 'Mildred' , 'Watkins' , 'mwatkins0@miibeian.gov.cn' ), ( 50 , 'Eugene' , 'Williams' , 'ewilliamsi@deliciousdays.com' ); -- -- Indizes der exportierten Tabellen -- -- -- Indizes f\u00fcr die Tabelle `members` -- ALTER TABLE ` members ` ADD PRIMARY KEY ( ` id ` ); -- -- AUTO_INCREMENT f\u00fcr exportierte Tabellen -- -- -- AUTO_INCREMENT f\u00fcr Tabelle `members` -- ALTER TABLE ` members ` MODIFY ` id ` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 51 ; COMMIT ; /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */ ; /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */ ; /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */ ; Falls Sie MySQL vom Studi-Server verwenden, dann m\u00fcssen Sie COLLATE = utf8mb4_0900_ai_ci durch COLLATE = utf8mb4_general_ci ersetzen! Sie k\u00f6nnen sich diese Datei auch hier herunterladen. Pr\u00fcfen Sie, ob alle 50 Datens\u00e4tze korrekt eingelsen wurden. Unter Anzeigen in phpmyadmin sollte folgende Tabelle erscheinen:","title":"Datenbank erstellen"},{"location":"backend/#datenbank-im-backend-anbinden","text":"Wir binden nun die Datenbank an unser Backend an. Erstellen Sie sich am besten in Ihrem backend -Ordner einen Ordner config und darin eine db.config.js -Datei mit folgendem Inhalt: config/db.config.js module . exports = { HOST : \"localhost\" , USER : \"root\" , PASSWORD : \"IhrPasswort\" , DB : \"mockupdb\" }; Falls Sie MySQL des Studi-Servers verwenden, sieht die db.config.js so aus: config/db.config.js module . exports = { HOST : \"db.f4.htw-berlin.de\" , USER : \"s05xxx\" , PASSWORD : \"IhrPassword\" , DB : \"_s05xxx__mockupdb\" }; Sie m\u00fcssen Ihr Passwort eintragen und, falls Sie Ihre Datenbank anders genannt haben, auch den Datenbanknamen anpassen. Erstellen Sie sich in Ihrem backend -Ordner einen Ordner app und darin einen Ordner model . In diesem Ordner erstellen Sie sich ein db.js , um die Verbindung zur Datenbank zu implementieren: app/model/db.js const mysql = require ( \"mysql\" ); const dbConfig = require ( \"../../config/db.config.js\" ); // Create a connection to the database const connection = mysql . createConnection ({ host : dbConfig . HOST , user : dbConfig . USER , password : dbConfig . PASSWORD , database : dbConfig . DB }); // open the MySQL connection connection . connect ( error => { if ( error ) throw error ; console . log ( \"Successfully connected to the database.\" ); }); module . exports = connection ;","title":"Datenbank im Backend anbinden"},{"location":"backend/#ein-model-erstellen","text":"In dem app/model -Ordner erstellen wir eine Datei members.model.js mit folgendem Inhalt: app/model/members.model.js const sql = require ( \"./db.js\" ); // constructor const Member = function ( member ) { this . firstname = member . firstname ; this . lastname = member . lastname ; this . email = member . email ; }; Member . create = ( newMember , result ) => { sql . query ( \"INSERT INTO members SET ?\" , newMember , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( err , null ); return ; } console . log ( \"created member: \" , { id : res . insertId , ... newMember }); result ( null , { id : res . insertId , ... newMember }); }); }; Member . findById = ( memberId , result ) => { sql . query ( `SELECT * FROM members WHERE id = ${ memberId } ` , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( err , null ); return ; } if ( res . length ) { console . log ( \"found member: \" , res [ 0 ]); result ( null , res [ 0 ]); return ; } // not found Member with the id result ({ kind : \"not_found\" }, null ); }); }; Member . getAll = result => { sql . query ( \"SELECT * FROM members\" , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( null , err ); return ; } console . log ( \"members: \" , res ); result ( null , res ); }); }; Member . updateById = ( id , member , result ) => { sql . query ( \"UPDATE members SET firstname = ?, lastname = ?, email = ? WHERE id = ?\" , [ member . firstname , member . lastname , member . email , id ], ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( null , err ); return ; } if ( res . affectedRows == 0 ) { // not found Customer with the id result ({ kind : \"not_found\" }, null ); return ; } console . log ( \"updated member: \" , { id : id , ... member }); result ( null , { id : id , ... member }); } ); }; Member . remove = ( id , result ) => { sql . query ( \"DELETE FROM members WHERE id = ?\" , id , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( null , err ); return ; } if ( res . affectedRows == 0 ) { // not found Member with the id result ({ kind : \"not_found\" }, null ); return ; } console . log ( \"deleted member with id: \" , id ); result ( null , res ); }); }; Member . removeAll = result => { sql . query ( \"DELETE FROM members\" , ( err , res ) => { if ( err ) { console . log ( \"error: \" , err ); result ( null , err ); return ; } console . log ( `deleted ${ res . affectedRows } members` ); result ( null , res ); }); }; module . exports = Member ;","title":"Ein Model erstellen"},{"location":"backend/#die-routen-definieren","text":"Erstellen Sie sich im app -Ordner einen Ordner routes und erstellen darin eine Datei members.routes.js mit folgendem Inhalt: app/routes/members.routes.js module . exports = app => { const members = require ( \"../controller/members.controller.js\" ); // Create a new Member app . post ( \"/members\" , members . create ); // GET all Members app . get ( \"/members\" , members . findAll ); // GET one single Member with memberId app . get ( \"/members/:memberId\" , members . findOne ); // Update one Member with memberId app . put ( \"/members/:memberId\" , members . update ); // Delete the Member with memberId app . delete ( \"/members/:memberId\" , members . delete ); // Delete all members app . delete ( \"/members\" , members . deleteAll ); }; Diese Datei lesen wir in unsere server.js ein: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const express = require ( \"express\" ); const bodyParser = require ( \"body-parser\" ); const app = express (); // parse requests of content-type: application/json app . use ( bodyParser . json ()); // parse requests of content-type: application/x-www-form-urlencoded app . use ( bodyParser . urlencoded ({ extended : true })); // simple route app . get ( \"/\" , ( req , res ) => { res . json ({ message : \"Hello FIW!\" }); }); require ( \"./app/routes/members.routes.js\" )( app ); // set port, listen for requests app . listen ( 3000 , () => { console . log ( \"Server is running on port 3000.\" ); });","title":"Die Routen definieren"},{"location":"backend/#einen-controller-erstellen","text":"Nun erstellen wir uns im Ordner app/controller eine members.controller.js mit den entsprechenden CRUD-Funktionen, die wir dann noch implementieren m\u00fcssen: app/controller/members.controller.js const Member = require ( \"../model/members.model.js\" ); // Create and Save a new Member exports . create = ( req , res ) => { }; // Retrieve all Members from the database. exports . findAll = ( req , res ) => { }; // Find a single Member with a memberId exports . findOne = ( req , res ) => { }; // Update a Member identified by the memberId in the request exports . update = ( req , res ) => { }; // Delete a Member with the specified memberId in the request exports . delete = ( req , res ) => { }; // Delete all Members from the database. exports . deleteAll = ( req , res ) => { }; \u00dcberpr\u00fcfen Sie Ihre Implementierung so weit, indem Sie node server.js erneut starten. Es sollte alles ohne Fehler compilieren.","title":"Einen Controller erstellen"},{"location":"backend/#r-read-all","text":"Wir implementieren nun nach und nach die einzelnen Funktionen in members.controller.js . Wir beginnen mit der findAll() -Funktion: app/controller/members.controller.js 8 9 10 11 12 13 14 15 16 17 18 // Retrieve all Members from the database. exports . findAll = ( req , res ) => { Member . getAll (( err , data ) => { if ( err ) res . status ( 500 ). send ({ message : err . message || \"Some error occurred while retrieving members.\" }); else res . send ( data ); }); }; Wenn Sie nun erneut node server.js starten und in Postman GET http://localhost:3000/members aufrufen, erscheinen alle Eintr\u00e4ge aus der Datenbank:","title":"R - read all"},{"location":"backend/#c-create","text":"Als n\u00e4chstes implementieren wir die create() -Funktion, um einen neuen Eintrag in der Datenbank anzulegen. app/controller/members.controller.js 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 // Create and Save a new Member exports . create = ( req , res ) => { // Validate request if ( ! req . body ) { res . status ( 400 ). send ({ message : \"Content can not be empty!\" }); } // Create a Member const member = new Member ({ firstname : req . body . firstname , lastname : req . body . lastname , email : req . body . email }); // Save Customer in the database Member . create ( member , ( err , data ) => { if ( err ) res . status ( 500 ). send ({ message : err . message || \"Some error occurred while creating the Member.\" }); else res . send ( data ); }); }; Nach einem Neustart von node server.js geben wir in Postman nun POST http://localhost:3000/members ein und bef\u00fcllen den Body mit z.B.: 1 2 3 4 5 { \"firstname\" : \"Test1\" , \"lastname\" : \"Test2\" , \"email\" : \"test3@email.de\" } Achten Sie darauf, dass in der zweiten Men\u00fczeile rechts JSON ausgew\u00e4hlt ist (im Bild orange) - nicht Text : Wir klicken auf Send und es erscheint: Schauen Sie auch in Ihre Datenbank unter http://localhost/phpmyadmin . Dort erscheint der Datensatz mit der neuen id=51 :","title":"C - create"},{"location":"backend/#r-read-one","text":"Wir erweitern die members.controller.js um die Funktion findOne() , die uns f\u00fcr eine gegebene id den entsprechenden Datensatz zur\u00fcckliefert: app/controller/members.controller.js 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 // Find a single Member with a memberId exports . findOne = ( req , res ) => { Member . findById ( req . params . memberId , ( err , data ) => { if ( err ) { if ( err . kind === \"not_found\" ) { res . status ( 404 ). send ({ message : `Not found Member with id ${ req . params . memberId } .` }); } else { res . status ( 500 ). send ({ message : \"Error retrieving Member with id \" + req . params . memberId }); } } else res . send ( data ); }); }; Nach Neustart des Servers geben wir in Postman z.B. GET http://localhost:3000/members/11 ein und erhalten: Probieren Sie auch einmal GET http://localhost:3000/members/52 aus, um die Fehlermeldung als JSON zu sehen.","title":"R - read one"},{"location":"backend/#u-update","text":"Nun noch die update() -Funktion, um einen bereits existierenden Datensatz zu \u00e4ndern: app/controller/members.controller.js 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 // Update a Member identified by the memberId in the request exports . update = ( req , res ) => { // Validate Request if ( ! req . body ) { res . status ( 400 ). send ({ message : \"Content can not be empty!\" }); } Member . updateById ( req . params . memberId , new Member ( req . body ), ( err , data ) => { if ( err ) { if ( err . kind === \"not_found\" ) { res . status ( 404 ). send ({ message : `Not found Member with id ${ req . params . memberId } .` }); } else { res . status ( 500 ). send ({ message : \"Error updating Member with id \" + req . params . memberId }); } } else res . send ( data ); } ); }; Nach dem Neustart des Servers k\u00f6nnen wir diese Funktion in Postman ausprobieren, indem wir im Body z.B. das JSON 1 2 3 4 5 6 { \"id\" : 51 , \"firstname\" : \"Test111\" , \"lastname\" : \"Test211\" , \"email\" : \"test311@email.de\" } mit unserem Request \u00fcbergeben und PUT http://localhost:3000/members/51 w\u00e4hlen. Der Datensatz mit der id=51 wird dann aktualisiert: Schauen Sie auch in der Datenbank nach und w\u00e4hlen auch ruhig nochmal GET http://localhost:3000/members .","title":"U - update"},{"location":"backend/#d-delete-one","text":"Jetzt implementieren wir noch die delete() -Funktion, um einen Datensatz zu l\u00f6schen: app/controller/members.controller.js 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 // Delete a Member with the specified memberId in the request exports . delete = ( req , res ) => { Member . remove ( req . params . memberId , ( err , data ) => { if ( err ) { if ( err . kind === \"not_found\" ) { res . status ( 404 ). send ({ message : `Not found Member with id ${ req . params . memberId } .` }); } else { res . status ( 500 ). send ({ message : \"Could not delete Member with id \" + req . params . memberId }); } } else res . send ({ message : `Member was deleted successfully!` }); }); }; Wenn wir nach dem Neustart des Servers in Postman z.B. DELETE http://localhost:3000/members/51 eingeben, erscheint: { \"message\": \"Member was deleted successfully!\" } und der Datensatz mit der id=51 ist aus der Datenbank gel\u00f6scht. Wenn wir erneut DELETE http://localhost:3000/members/51 eingeben, erscheint: { \"message\": \"Not found Member with id 51.\" } Wir implementieren der Vollst\u00e4ndigkeit halber noch die deleteAll() -Methode. Sie k\u00f6nnen ja entscheiden, ob Sie sie ausprobieren wollen oder nicht ;-)","title":"D - delete one"},{"location":"backend/#d-delete-all","text":"app/controller/members.controller.js 104 105 106 107 108 109 110 111 112 113 114 // Delete all Members from the database. exports . deleteAll = ( req , res ) => { Member . removeAll (( err , data ) => { if ( err ) res . status ( 500 ). send ({ message : err . message || \"Some error occurred while removing all members.\" }); else res . send ({ message : `All Members were deleted successfully!` }); }); }; In Postman kann diese Methode mit DELETE http://localhost:3000/members/ getestet werden. Es erscheint { \"message\" : \"All Members were deleted successfully!\" } und auch die Datenbank ist leer: Sollten Sie die Methode erfolgreich ausprobiert haben, k\u00f6nnen Sie die Datenbank \u00fcber diese Insert-Anweisungen wieder auff\u00fcllen (in phpmyadmin unter dem Reiter SQL reinkopieren): Insert-Anweisungen f\u00fcr alle 50 Datens\u00e4tze INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Catherine\" , \"Williams\" , \"cwilliamsl@360.cn\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Adam\" , \"Anderson\" , \"aanderson8@google.fr\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Susan\" , \"Andrews\" , \"sandrewsn@google.co.jp\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Catherine\" , \"Andrews\" , \"candrewsp@noaa.gov\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Alan\" , \"Bradley\" , \"abradley1c@globo.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Anne\" , \"Brooks\" , \"abrooks16@bravesites.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Russell\" , \"Brown\" , \"rbrownq@nifty.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Ryan\" , \"Burton\" , \"rburton18@foxnews.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Roy\" , \"Campbell\" , \"rcampbell1@geocities.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Russell\" , \"Campbell\" , \"rcampbell17@eventbrite.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Bonnie\" , \"Coleman\" , \"bcoleman11@fc2.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Ernest\" , \"Coleman\" , \"ecoleman15@businessweek.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Richard\" , \"Cruz\" , \"rcruz7@unc.edu\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Sean\" , \"Cruz\" , \"scruz10@answers.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Rebecca\" , \"Cunningham\" , \"rcunninghamd@mac.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Margaret\" , \"Evans\" , \"mevansh@pcworld.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Jeffrey\" , \"Ford\" , \"jford14@cnet.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Andrea\" , \"Gardner\" , \"agardnerv@woothemes.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Deborah\" , \"George\" , \"dgeorge6@furl.net\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Sean\" , \"Gibson\" , \"sgibsony@alexa.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Virginia\" , \"Graham\" , \"vgrahamk@aol.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Steven\" , \"Hamilton\" , \"shamiltonu@state.tx.us\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Virginia\" , \"Hawkins\" , \"vhawkinsf@ehow.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Edward\" , \"Hicks\" , \"ehicksc@pcworld.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Mark\" , \"Johnson\" , \"mjohnsonj@hostgator.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Ruth\" , \"Jordan\" , \"rjordan1a@smugmug.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Antonio\" , \"Kim\" , \"akim4@odnoklassniki.ru\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Jennifer\" , \"Marshall\" , \"jmarshallt@gnu.org\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Eric\" , \"Matthews\" , \"ematthews5@independent.co.uk\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Raymond\" , \"Mcdonald\" , \"rmcdonald2@ihg.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Eric\" , \"Miller\" , \"emillere@creativecommons.org\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Jonathan\" , \"Morales\" , \"jmoralesa@ovh.net\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Marie\" , \"Morgan\" , \"mmorganb@cloudflare.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Amanda\" , \"Nelson\" , \"anelson13@indiatimes.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Lisa\" , \"Olson\" , \"lolsonr@telegraph.co.uk\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Alice\" , \"Ortiz\" , \"aortizw@histats.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Peter\" , \"Phillips\" , \"pphillipss@1688.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Matthew\" , \"Porter\" , \"mporter9@europa.eu\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Tammy\" , \"Ray\" , \"trayx@weather.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Mark\" , \"Richardson\" , \"mrichardson1d@ihg.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Joan\" , \"Roberts\" , \"jroberts12@alibaba.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Kathleen\" , \"Rose\" , \"kroseg@pinterest.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Steve\" , \"Sanders\" , \"ssanders1b@wikispaces.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Shirley\" , \"Scott\" , \"sscottm@macromedia.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Lillian\" , \"Stephens\" , \"lstephens19@hugedomains.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Nicole\" , \"Thompson\" , \"nthompson3@admin.ch\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Marie\" , \"Thompson\" , \"mthompsonz@yelp.com\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Alan\" , \"Vasquez\" , \"avasquezo@miibeian.gov.cn\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Mildred\" , \"Watkins\" , \"mwatkins0@miibeian.gov.cn\" ); INSERT INTO ` members ` ( ` firstname ` , ` lastname ` , ` email ` ) VALUES ( \"Eugene\" , \"Williams\" , \"ewilliamsi@deliciousdays.com\" ); Beachten Sie, dass danach die id -Werte andere sind, da es sich um einen AUTO INCREMENT -Wert handelt. Success Wir haben unser Backend erfolgreich als REST-Server implementiert, der alle CRUD-Funktionalit\u00e4ten umsetzt. Wir werden im n\u00e4chsten Schritt das Frontend nun so gestalten, dass es auf die REST-API zugreift und das Backend f\u00fcr die Datenverwaltung verwendet.","title":"D - delete all"},{"location":"backend/#cross-origin-resource-sharing-cors","text":"Die Same Origin Policy (SOP) ist ein Sicherheitskonzept, das clientseitig Skriptsprachen (also z.B. JavaScript oder CSS) untersagt, Ressourcen aus verschiedenen Herkunften zu verwenden, also von verschiedenen Servern. Dadurch soll verhindert werden, dass fremde Skripte in die bestehende Client-Server-Kommunikation eingeschleust werden. Gleiche Herkunft (origin) bedeutet, dass das gleiche Protokoll (z.B. http oder https ), von der gleichen Domain (z.B. localhost oder htw-berlin ) sowie dem gleichen Port (z.B. 80 oder 4200 ) verwendet werden. Es m\u00fcssen alle drei Eigenschaften \u00fcbereinstimmen. Mit dem Aufkommen von Single Page Applications und dem darin ben\u00f6tigten AJAX kam jedoch der Bedarf auf, die SOP aufzuweichen. Es sollte m\u00f6glich sein, dass z.B. JavaScript sowohl client-seitig das DOM \u00e4ndert als auch einen Request an den Server (das Backend) sendet. Der Kompromiss, der daf\u00fcr gefunden wurde, nennt sich Cross-Origin Resource Sharing (CORS) . Damit ist es m\u00f6glich, f\u00fcr einige oder alle Anfragen zu definieren, dass sie im Sinne der SOP trotzdem erlaub sein sollen. Um CORS f\u00fcr Ihr Backend zu aktivieren, wechseln Sie im Terminal in Ihren backend -Ordner und geben dort npm install cors ein. \u00d6ffnen Sie dann die server.js und f\u00fcgen Sie die hervorgehobenen Zeilen ein: server.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 const express = require ( \"express\" ); const cors = require ( 'cors' ); const bodyParser = require ( \"body-parser\" ); const app = express (); // parse requests of content-type: application/json app . use ( bodyParser . json ()); // enable cors for all requests app . use ( cors ()); // parse requests of content-type: application/x-www-form-urlencoded app . use ( bodyParser . urlencoded ({ extended : true })); // simple route app . get ( \"/\" , ( req , res ) => { res . json ({ message : \"Hello FIW!\" }); }); require ( \"./app/routes/members.routes.js\" )( app ); // set port, listen for requests app . listen ( 3000 , () => { console . log ( \"Server is running on port 3000.\" ); }); Wenn Sie z.B. nur die get -Anfrage teilen wollen, dann w\u00e4hlen Sie nicht app.use(cors()); , sondern app . get ( \"/\" , cors (), ( req , res ) => { res . json ({ message : \"Hello FIW!\" }); }); Mehr zum CORS-Paket von node.js bzw. express finden Sie hier .","title":"Cross-Origin Resource Sharing (CORS)"},{"location":"backendanbindung/","text":"Anbindung an das Backend \u00b6 Wir haben jetzt ein Backend, das als REST-Server funngiert. \u00dcber die Endpunkte der REST-API k\u00f6nnen wir auf die einzelnen Funktionen des Backends zugreifen, um die Daten in der MySQL-Datenbank zu manipulieren (erzeugen, lesen, \u00e4ndern und l\u00f6schen - CRUD). Unser Frontend stellt zur Zeit nur einen Daten-Service zur Verf\u00fcgung, der die Daten client-seitig verwaltet. Dies wollen wir jetzt \u00e4ndern. Das Frontend soll mit dem Backend kommunizieren, um die Daten zu nutzen, die das Backend zur Verf\u00fcgung stellt. Wir werden uns ein neues Frontend erstellen und dabei die einzelnen Schritte genauer untersuchen. Das hat folgende Vorteile: wir werden sicherer bei der Erstellung von Frontends mithilfe von Angular, wir m\u00fcssen nicht auf bestehende Frontends aufsetzen, die evtl. bei einigen nicht richtig funktionieren, wir haben die M\u00f6glichkeit, tiefer in die Prinzipien von Angular einzutauchen und wesentliche Prinzipien ausf\u00fchrlicher zu diskutieren. Ich werde das Frontend, das ich hier erstelle, frontend3 nennen. Der Name bleibt nat\u00fcrlich Ihnen \u00fcberlassen. Wir erstellen uns also neben unserem alten Frontend, neben dem Backend usw. in unserem Repository mithilfe von ng new frontend3 ein neues Angular-Projekt und w\u00e4hlen nicht die strikte Typ\u00fcberpr\u00fcfung, aber Routing und CSS. Komponenten \u00b6 Eine Angular-Anwendung besteht haupts\u00e4chlich aus Komponenten. Wann immer Sie eine neue \"Unterseite\" erstellen m\u00f6chten oder sogar nur ein Men\u00fc, eine einzelne Tabelle o.\u00e4., erstellen Sie sich eine neue Komponente. Jede Komponente besteht aus: einem HTML- Template , in dem mittels HTML bestimmt wird, was im Browser dargestellt werden soll ( *.component.html ), einer TypeScript-Klasse, in der das Verhalten auf der Seite definiert werden kann ( *.component.ts ), einem CSS-Selektor, mit dem bestimmt werden kann, wie die die Komponente in die Webseite eingebunden werden kann (z.B. <app-root></app-root> ), einer CSS-Datei, in der eigene Styles f\u00fcr die Komponente definiert werden k\u00f6nnen ( *.component.css ) und einer Datei, in der Tests speizifiziert werden k\u00f6nnen ( *.component.spec.ts ) Die Erstellung von Komponenten erfolgt am einfachsten \u00fcber das Terminal: ng generate component nameDerKomponente ng g c nameDerKomponente Wir erstellen uns 4 Komponenten in unserer Anwendung: ng g c members/create ng g c members/read ng g c members/update ng g c members/delete Diese 4 Komponenten CreateComponent , ReadComponent , UpdateComponent und DeleteComponent entstehen im Ordner members , der durch die erste Anweisung im src/app -Ordner erstellt wird. Man k\u00f6nnte die Komponenten nun mithilfe ihrer Selektoren (z.B. <app-create></app-create> ) in die Seite einbinden. Wir w\u00e4hlen jedoch gleich das Routing , um die jeweiligen Komponenten anzusprechen. Routing \u00b6 In der app-routing.module.ts k\u00f6nnen wir Routen definieren, so dass wir unsere Komponenten \u00fcber die URLs direkt erreichen k\u00f6nnen, z.B. localhost:4200/read , um z.B. alle Datens\u00e4tze auszulesen oder localhost:4200/read/11 , um den Datensatz mit der id=11 auszulesen. Werden f\u00fcr die Komponenten Routen definiert, so wird je nach Route die jeweilige Komponente in den Selktor <router-outlet></router-outlet> eingesetzt. Wir definieren unserer Routen wie folgt: src/app/app-routing.module.ts import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { CreateComponent } from './members/create/create.component' ; import { UpdateComponent } from './members/update/update.component' ; import { ReadComponent } from './members/read/read.component' ; import { DeleteComponent } from './members/delete/delete.component' ; const routes : Routes = [ { path : 'create' , component : CreateComponent }, { path : 'update' , component : UpdateComponent }, { path : 'update/:id' , component : UpdateComponent }, { path : 'read' , component : ReadComponent }, { path : 'read/:id' , component : ReadComponent }, { path : 'delete' , component : DeleteComponent }, { path : 'delete/:id' , component : DeleteComponent }, ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } Die Routen werden im routes -Array festgelegt. Bei Angabe der Komponenten, die \u00fcber die jeweilige Route erreichbar sein soll, wird diese durch eine import -Anweisung importiert. Das Importieren sollten Sie durch Ihre IDE erledigen lassen. Wichtig ist, dass die entsprechenden Links zu den Routen (und damit Komponenten) nicht \u00fcber das Attribut href im HTML definiert werden, sondern \u00fcber [routerLink] . Die Verwendung von href f\u00fchrt zu einem neuen Request auf dem Webserver. Die app.component.html sollte z.B. so aussehen: src/app/app.component.html < h1 > This is app </ h1 > < ul > < li >< a [ routerLink ]=\"['/ create ']\" > Create </ a ></ li > < li >< a [ routerLink ]=\"['/ read ']\" > Read </ a ></ li > < li >< a [ routerLink ]=\"['/ update ']\" > Update </ a ></ li > < li >< a [ routerLink ]=\"['/ delete ']\" > Delete </ a ></ li > </ ul > < router-outlet ></ router-outlet > In der app.component.html haben wir uns somit eine Liste erstellt und die einzelnen List-items sind Hyperlinks auf unsere Komponenten. Diese erreichen wir \u00fcber die zuvor festgelegten Routen. Klicken wir nun auf einen Link, so wird die jeweilige Komponente in den <router-outlet></router-outlet> -Selektor unterhalb der Liste eingebunden. Nun erscheint die Liste von Links und wenn auf einen der Links geklickt wird, dann wird die entsprechende Komponente in den <router-outlet></router-outlet> -Selektor eingebunden. Da jedes der *.component.html ein <p> component works!</p> enth\u00e4lt, erscheint dieses dann unterhalb der Liste, so wie hier das Beispiel f\u00fcr die UpdateComponent : Um Parameter aus den Routen auszulesen, z.B. die id aus localhost:4200/update/11 , binden wir f\u00fcr genau dieses Beispiel ( UpdateComponent ) in die update.component.ts die Klasse ActivatedRoute ein und greifen dann dar\u00fcber auf snapshot.paramMap.get('id')) zu. Die Datei sieht wie folgt aus: src/app/members/update.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import { Component , OnInit } from '@angular/core' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-update' , templateUrl : './update.component.html' , styleUrls : [ './update.component.css' ] }) export class UpdateComponent implements OnInit { selectedId : number ; constructor ( private route : ActivatedRoute ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); } } In Zeile 12 binden wir ActivatedRoute per dependency injection (siehe z.B. hier ) in den Konstruktor ein. Die Eigenschaft route ist damit in der Klasse UpdateComponent verf\u00fcgbar. Durch dieses Einbinden wird die Klasse ActiveRoute auch importiert (in Zeile 2 ). In Zeile 10 wird eine Eigenschaft selectedId deklariert, die den Typ number hat. Dieser Eigenschaft wird in Zeile 15 ein Wert zugewiesen, der aus der URL ausgelesen wird. Da wir unsere Rout ein app-routing.module.ts mittels { path: 'update/:id', component: UpdateComponent }, parametrisiert hatten, kann nun \u00fcber die ActivatedRoute -Klasse (hier bei handelt es sich genauer um einen Service - siehe z.B. hier ) der Wert von id ausgelesen werden. Dieser ist ein string , den wir mittels Number nach number konvertieren. Bei der ngOnInit() -Funktion handelt es sich um einen sogenannten lifecycle-hook . Jede Komponente durchl\u00e4uft einen Lifecycle . Wir k\u00f6nnen einerseits auf Ereignisse durch die Nutzerin reagieren und andererseits auf Ereignisse, die durch den Lifecycle einer Komponente ausgel\u00f6st werden. Bei ngOnInit() reagieren wir darauf, dass die Komponente initialisiert wird. Diese Funktion wird genau ein Mal aufgerufen (bei der Initialisierung der Komponente) - im Gegensatz z.B. zu ngOnChanges() . Diese Funktion wird bei jeder \u00c4nderung der Komponente aufgerufen, z.B. direkt vor ngOnInit() . Sie z.B. hier . Interpolation \u00b6 Mithilfe von Interpolation k\u00f6nnen wir (berechnete) Werte in unser HTML einf\u00fcgen. Die Syntax von Interpolation sieht in Angular so aus: {{ wert }} Der Wert wird also in doppelten geschweiften Klammern angegeben. Wir betrachten f\u00fcr unsere obige UpdateComponent ein einfaches Beispiel. In update.component.ts haben wir die Eigenschaft selectedId erstellt und dieser mithilfe der parametrisierten Route einen Wert zugewiesen. Diesen Wert k\u00f6nnen wir nun in update.component.html durch Interpolation einbinden: src/app/members/update.component.html 1 2 < p > update works! </ p > < p > id={{ selectedId }} </ p > Wenn wir also die update -Komponente \u00fcber z.B. die URL localhost:4200/update/11 aufrufen, erscheint unterhalb des Absatzes update works! ein Absatz mit id=11 . Service f\u00fcr HTTP \u00b6 Ehe wir weitere Sprachkonzepte in Angular betrachten, erzeugen wir uns einen Service , um mit dem Backend per HTTP zu kommunizieren. Ein Service in Angular ist eine (TypeScript-)Klasse, die einem konkreten Zweck dient. Ein Service sollte m\u00f6glichst genau eine Sache erledigen. Ein Service kann typischerweise von allen/vielen Komponenten verwendet werden. Wir erstellen unseren Service deswegen in einem Ordner shared . Wir nennen unseren Service backend : ng g service shared/backend Durch die Anweisung wird der shared -Ordner erstellt und darin eine backend.service.ts . Ein Service besteht nur aus einer *.service.ts -Datei (und einer spec.ts f\u00fcr Tests). Es gibt daf\u00fcr keine .html und keine .css -Datei, da ein Service nur ein Verhalten beschreibt und keine Sicht. Als erstes f\u00fcgen wir unserer app.module.ts das Modul HttpClientModule hinzu, um es zu importieren. Achten Sie darauf, dass das HttpClientModule in der Liste der Importe nach dem BrowserModule steht: src/app/app.module.ts (Ausschnitt) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /* gekuerzt */ import { HttpClientModule } from '@angular/common/http' ; @ NgModule ({ declarations : [ /* gekuerzt */ ], imports : [ BrowserModule , AppRoutingModule , HttpClientModule , ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Nun implementieren wir unseren BackendService . Wir f\u00fcgen zun\u00e4chst den HttpClient -Service per * dependency injection* hinzu: src/app/shared/backend.service.ts 1 2 3 4 5 6 7 8 9 10 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; @ Injectable ({ providedIn : 'root' }) export class ConnService { constructor ( private http : HttpClient ) { } } Mit dem HttpClient -Service sind wir in der Lage, Anfragen ( requests ) an das Backend zu senden und die Antworten ( responses ) zu empfangen und auszuwerten. Wir erinnern uns zun\u00e4chst nochmal an die Endpunkte unserer REST-API : Methode URL Bedeutung GET /members hole alle Datens\u00e4tze GET /members/11 hole den Datensatz mit der id=11 POST /members f\u00fcge einen neuen Datensatz hinzu PUT /members/11 \u00e4ndere den Datensatz mit der id=11 DELETE /members/11 l\u00f6sche den Datensatz mit der id=11 DELETE /members l\u00f6sche alle Datens\u00e4tze Wir beginnen damit, den GET -request f\u00fcr alle members auszuf\u00fchren. Dazu erstellen wir uns zun\u00e4chst im Client ein Interface f\u00fcr das Datenmodell: Datenmodell \u00b6 Wir hatten uns fr\u00fcher bereits ein Datenmodell im Client erstellt. Wir wiederholen das hier nochmal schnell. Um das Mapping des Datenmodells von Backend und Frontend zun\u00e4chst einfach zu halten, \u00fcbernehmen wir das Datenmodell des Backends. Das Datenmodell in Angular ist ein Interface . Wir erstellen es ebenfalls im shared -Ordner: ng generate interface shared/data Anstelle von ng generate interface h\u00e4tten wir auch ng g i schreiben k\u00f6nnen. Unser Datenmodell sieht wie folgt aus: src/app/data.ts export interface Data { id : number ; firstname : string ; lastname : string ; email : string ; } Mit einem Interface legen wir in TypeScript einen neuen Typ an, hier den Typ Data . Interfaces dienen somit der Typsicherheit. Wir werden diesen Typ Data im folgenden verwenden, um die Datens\u00e4tze unserer Mockup-Data zu typisieren. Interfaces k\u00f6nnen in TypeScript Eigenschaften und Funktionen enthalten. F\u00fcr die Beschreibung unserer Daten ben\u00f6tigen wir nur Eigenschaften. Ein Objekt kann jetzt vom Typ Data sein. Ein Interface hat aber keinen Konstruktor. get() -Funktion von HttpClient \u00b6 Wir erstellen nun die erste \"Verkn\u00fcpfung\" mit dem Backend und implementieren ein GET -Request an das Backend, um alle members abzufragen. Dazu verwenden wir die get() -Funktion des HttpClient -Services. Die einfachste Form der Anwendung der get() -Funktion besteht darin, dieser Funktion die entsprechende URL des Backends zu \u00fcbergeben. In unserem Fall also http . get ( 'http://localhost:3000/members' ); Diese Funktion gibt ein sogenanntes Observable zur\u00fcck. Observables implementieren das Observer Pattern - ein Design Pattern zur Kommunikation zwischen einem sogenannte subject , das einen oder mehrere observers beobachtet und das immer dann informiert wird, sobald sich der Zustand eines observers ge\u00e4ndert hat. Eine typische Implementierung des Observer Patterns findet durch Ereignis-Listener statt. Jemand (das subject ) meldet sich an einem observer an, z.B. einem Button (genauer gesagt, an das Click-Ereignis des Buttons) und wird informiert, sobald der Button gecklickt wurde. Die Grundidee bei Observables in TypeScript ist die, dass es eine Funktion gibt, die Werte ermittelt (z.B. http.get() ), aber diese Funktion nur ausgef\u00fchrt wird, wenn sie jemand subscribe d. subscribe() ist also wie eine Anmeldung an den zu beobachtenden Wert. Wir schauen uns dieses Prinzip mal mit der get() -Funktion des HttpClient s an: src/app/shared/backend.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; import { Observable } from 'rxjs' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class BackendService { baseUrl = 'http://localhost:3000/members' ; constructor ( private http : HttpClient ) { } getAll () : Observable < Data [] > { return this . http . get < Data [] > ( this . baseUrl ); } } Zun\u00e4chst einmal sehen wir in Zeile 15 den Aufruf der get() -Funktion von HttpClient . Der get() -Funktion wird als Parameter die URL des Backends \u00fcbergeben. Diese ist in der Eigenschaft baseUrl in Zeile 10 definiert. Die R\u00fcckgabe der get() -Funktion ist, wie gesagt, ein Observable . Wir erzeugen den Aufruf der get() -Funktion in einer von uns erstellten Funktion getAll() deren R\u00fcckgabetyp dieses Obervable ist (Zeile 14 ). Dieses Observable ist sogar typisiert, n\u00e4mlich mit unserem Datenmodell-Typ Data . Vielmehr bekommen wir ein Array von Data -Objekten zur\u00fcck, deshalb Observable<Data[]> als R\u00fcckgabetyp der getAll() -Funktion. Da wir diesen R\u00fcckgabetyp so konkret angeben (und nicht einfach nur Observable oder Observable<any> , erfordert TypeScript auch, dass wir die get() -Funktion typisieren - deshalb get<Data[]>() . Wir m\u00fcssen sowohl Observable (aus rxjs ) als auch Data (aus unserer data.ts ) importieren (Zeilen 3 und 4 ). Nun m\u00fcssen wir uns noch an dieses Observable mittels subscribe() anmelden. Das machen wir in unserer ReadComponent . subscribe() \u00b6 In unserer ReadComponent wollen wir die getAll() -Funktion unseres Backend-Services nutzen, um uns alle members -Datens\u00e4tze vom Backend anbzufragen und anzeigen zu lassen. Wir \u00f6ffnen dazu die read.component.ts : src/app/members/read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ] }) export class ReadComponent implements OnInit { members : Data []; constructor ( private cs : BackendService ) { } ngOnInit () : void { this . readAll (); } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response ); } } Zun\u00e4chst binden wir den BackendService mittels dependency injection in unsere Komponente ein (Zeile 13 ). In einer eigenen Funktion readAll() rufen wir nun die getAll() -Funktion des BackendService auf (Zeile 20 ). Wie in dem Abschnitt zuvor erl\u00e4utert, wird diese Funktion nur durch ein subscribe() ausgef\u00fchrt. Die subscribe() -Funktion \"holt\" das Observer -Objekt, welches drei sogenannte callback -Funktionen definiert: next , error und complete . Callback-Funktionen sind hier erl\u00e4utert. Wir haben also drei Parameter in der subscribe() -Funktion, von denen jedoch nur einer ( next ) erforderlich ist. error und complete sind optional. Wir verwenden hier auch nur next . Unter next erhalten wir die response zur\u00fcck, also das angefragte Objekt. Wir verwenden daf\u00fcr eine Arrow-Funktion (siehe Arrow-Funktionen ). Wie wir diese Funktion nennen, bleibt uns \u00fcberlassen. Hier hei\u00dft sie response . Wir haben diese Funktion auch mit Data[] typisiert, da sie uns ein Data -Array zur\u00fcckgibt. Der Inhalt dieser Funktion ist die Zuweisung der response auf unsere Eigenschaft members vom Typ Data[] (definiert in Zeile 11 ) und der R\u00fcckgabe der response (in Arrow-Funktionen kann aber auf das return verzichtet werden - siehe hier ). Hier vielleicht einmal zum Verst\u00e4ndnis auch die M\u00f6glichkeit der Fehlerausgabe auf der Konsole: this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); Damit wir testen k\u00f6nnen, ob unsere Backend-Anbindung funktioniert, f\u00fcgen wir noch eine Konsolen-Ausgabe der response ein. Die Funktionsk\u00f6rper der readAll() -Funktion sieht dann so aus: this . cs . getAll (). subscribe ( ( response : Data []) => { console . log ( response ); return this . members = response ; }, error => console . log ( error ) ); Backend starten \u00b6 Um die Anbindung an das Backend zu testen, d\u00fcrfen wir nicht vergessen, es zu starten! Wechseln Sie im Terminal in Ihren Backend-Ordner und rufen dort node server.js auf. Es erscheint im Terminal Server is running on port 3000 . Successfully connected to the database. Frontend starten \u00b6 Wir m\u00fcssen unser Frontend compilieren ng serve und wenn wir dann im Browser http://localhost:4200/read eingeben, also die Route zu unserer ReadComponent , dann sollten wir in der Konsole in den Entwicklertools die Ausgabe der Response sehen (die id s und auch die Anzahl der Eintr\u00e4ge k\u00f6nnen bei Ihnen anders sein): Achtung! Man sieht nichts auf der Webseite, sondern wir geben die Datens\u00e4tze derzeit nur in der Konsole der Entwicklertools aus! Success Wir haben das Backend an das Frontend angebunden. Wir haben die erste Anfrage an das Backend im Frontend umgesetzt, n\u00e4mlich GET /members , indem wir im Frontend die get() -Funktion des HttpClient implementiert und diese in der ReadComponent mittels subscribe() ausgef\u00fchrt haben. Wir werden nun zun\u00e4chst die Daten noch im HTML-Template darstellen und dann weitere Endpunkte unserer REST-API anbinden. read.component.html \u00b6 Die Werte der Response wollen wir nun in unserem HTML-Template der ReadComponent darstellen. Nach Aufruf der ReadComponent \u00fcber die /read -Route befinden sich die Werte in der Eigenschaft members vom Typ Data[] . Dieses Array lesen wir nun aus. F\u00fcr das Auslesen von Arrays bieten sich in Angular Struktur-Direktiven an, hier insbesondere die Wiederholungsdirektive *ngFor : src/app/members/read.component.html 1 2 3 4 5 < p > read works! </ p > < ul * ngFor = \"let member of members\" > < li > {{member.firstname}} {{member.lastname}} </ li > </ ul > In Zeile 3 verwenden wir diese Direktive. Wir greifen auf members zu und laufen vollst\u00e4ndig durch dieses Array. Dazu definieren wir uns eine Variable member (die k\u00f6nnen Sie nennen, wie Sie m\u00f6chten). member zeigt dann jeweils auf einen Datensatz. Jeder Datensatz ist ein Objekt mit den Eigenschaften id , firstname , lastname und email . Mittels Interpolation lesen wir die Werte von member.firstname und member.lastname aus und stellen sie in einer Liste dar. Bootstrap einbinden \u00b6 Wir k\u00f6nnen dieses Mal ja Bootstrap in unser Angular-Frontend einbinden. Dazu gehen wir wie folgt vor. Wir wechseln im Terminal in unseren Frontend-Ordner und geben dort npm install bootstrap jquery popper.js --save ein. W\u00fcrden wir nur npm install bootstrap eingeben, w\u00fcrden wir aufgefordert, jquery (siehe jQuery ) und popper.js (siehe Popper ) nachzuinstallieren. In dem node_modules -Ordner in unserem Projekt entstehen die Ordner bootstrap , jquery und popper.js - k\u00f6nnen Sie sich in Ihrer IDE ja mal anschauen. Damit ist Bootstrap aber noch nicht ganz eingebunden. Wir m\u00fcssen es noch in unsere angular.json eintragen: angular.json (Ausschnitt) 25 26 27 28 29 30 31 32 33 ], \"styles\" : [ \"src/styles.css\" , \"./node_modules/bootstrap/dist/css/bootstrap.min.css\" ] , \"scripts\" : [ \"./node_modules/jquery/dist/jquery.min.js\" , \"./node_modules/bootstrap/dist/js/bootstrap.min.js\" ] Beachten Sie, dass Sie die Eintragungen gleich zwei Mal in der angular.json vornehmen. Einmal unter architect --> build --> options und auch noch unter architect --> test --> options . Testen Sie, ob Bootstrap eingebunden wurde, indem Sie f\u00fcr die Liste und die List-Items die Bootstrap-Klassen verwenden: src/app/members/read.component.html 1 2 3 4 5 < p > read works! </ p > < ul class = \"list-group\" * ngFor = \"let member of members\" > < li class = \"list-group-item\" > {{member.firstname}} {{member.lastname}} </ li > </ ul > Wir wollen noch eine weitere Struktur-Direktive betrachten, n\u00e4mlich *ngIf . Bevor wir dies tun, installieren wir uns zun\u00e4chst auch noch die Bootstrap-Icons. Bootstrap Icons \u00b6 Um die Bootstrap-Icons zu installieren, geben wir im Terminal in unserem Projektordner npm i ngx-bootstrap-icons --save ein. IN unserem node_modules -Ordner entsteht dadurch ein ngx-bootstrap-icons -Ordner. Diesen importieren wir folgt in die app.modules.ts : app.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { ReadComponent } from './members/read/read.component' ; import { CreateComponent } from './members/create/create.component' ; import { UpdateComponent } from './members/update/update.component' ; import { DeleteComponent } from './members/delete/delete.component' ; import { HttpClientModule } from '@angular/common/http' ; import { NgxBootstrapIconsModule } from 'ngx-bootstrap-icons' ; import { PencilSquare } from 'ngx-bootstrap-icons' ; const icons = { PencilSquare , }; @ NgModule ({ declarations : [ AppComponent , ReadComponent , CreateComponent , UpdateComponent , DeleteComponent ], imports : [ BrowserModule , AppRoutingModule , HttpClientModule , NgxBootstrapIconsModule . pick ( icons ) ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } In Zeile 12 h\u00e4tten wir auch alle verf\u00fcgbaren Icons importieren k\u00f6nnen, dann mithilfe der Anweisung import { allIcons } from 'ngx-bootstrap-icons'; . Dann h\u00e4tten wir uns auch die Zeilen 14-16 sparen k\u00f6nnen, in denen wir explizit angeben, welche(s) Icon, wir verwenden k\u00f6nnen. H\u00e4tten wir alle Icons importiert, w\u00fcrde in Zeile 30 stehen NgxBootstrapIconsModule.pick(allIcons) . N\u00e4here Informationen dazu finden Sie hier . Aus der Liste aller verf\u00fcgbaren Icons haben wir (zun\u00e4chst) nur das Icon pencil-square ausgew\u00e4hlt. Dieses Icon werden wir im folgenden verwenden. Die Verwendung des Icons innerhalb eines HTML-Templates sieht so aus: < i-bs name = \"pencil-square\" class = \"text-primary\" width = \"1em\" height = \"1em\" > </ i-bs > In name geben Sie den Namen des Icons an, mit dem class -Attribut k\u00f6nnen Sie die Farbe setzen (siehe dazu Bootstrap-Colors ) und mit den width - und height -Attributen setzen Sie die gr\u00f6\u00dfe des Icons (hier die doppelte Schriftgr\u00f6\u00dfe). Alle Bootstrap-Icons und deren jeweilige Verwendung finden Sie hier . Tabelle statt Liste \u00b6 Wir ersetzen die Liste in der read.component.html durch eine Tabelle: src/app/members/read.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 < p > read works! </ p > < table class = \"table table-striped table-hover\" > < caption > List of Members </ caption > < thead > < tr > < th > Nr. </ th > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail </ th > < th > Edit </ th > </ tr > </ thead > < tbody > < tr * ngFor = \"let member of members; let i=index; trackBy: trackByData\" > < td > {{ i+1 }} </ td > < td > {{member.firstname}} </ td > < td > {{member.lastname}} </ td > < td > {{member.email}} </ td > < td >< a [ routerLink ]=\"['/ read /', member . id ]\" > < i-bs name = \"pencil-square\" class = \"text-secondary\" width = \"1em\" height = \"1em\" > </ i-bs ></ a ></ td > </ tr > </ tbody > </ table > Beachten Sie, dass wir der *ngFor -Direktive noch einen index hinzugef\u00fcgt haben (Zeile 15 ). Damit wird jedem einzelnen Wert aus members (jedem Schleifendurchlauf) ein Index zugeordnet, beginnend bei 0 . In der ersten Spalte der Tablle (Zeile 16 ) geben wir diesen jeweiligen Wert aus (erh\u00f6ht um 1 , um bei 1 anstelle von 0 zu beginnen). \u00dcber den index f\u00fcr die *ngFor -Direktive finden Sie hier weitere Informationen. Beachten Sie au\u00dferdem, dass wir den Wert der *ngFor -Direktive um trackBy: trackByData erweitert haben. Dazu haben wir die Funktion in app.component.ts hinzugef\u00fcgt: src/app/members/read.component.ts (Auszug) 25 26 27 28 29 } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { Dies erfolgt nur zur Performanzsteigerung. Haben wir lange Listen oder lange Tabellen, so wie hier, k\u00f6nnen geringf\u00fcgige Ver\u00e4nderungen an Eintr\u00e4gen in diesen Listen oder Tabellen zu einer kompletten Neugestaltung des DOMs kommen - die gesamte Tabelle w\u00fcrde neu erstellt und dem DOM hinzugef\u00fcgt werden. Um dies zu vermeiden, geben wir an, welche Eintr\u00e4ge bereits enthalten - welche also bereits getracked werden. Wir geben dazu die Eigenschaft an, an der das Tracking identifiziert werden soll. Wir nutzen hier die id -Eigenschaft eines jeden members . Weitere Informationen zu trackby finden Sie hier . Wie Sie sehen, verwenden wir in der letzten Spalte der Tabelle das Bootstrap-Icon pencil-square (Zeilen 21 - 26 ). Dieses Icon ist hier Inhalt eines <a> -Elementes, in dem ein routerLink angegeben wird. Dieser routerLink setzt sich aus der Route /read/ und der member.id zusammen. Der Datensatz mit der id=54 erzeugt dann z.B. die Route /read/54 . Beachten Sie, dass wir in der app-routing.module.ts auch die parametrisierte Route read/:id definiert hatten und damit die ReadComponent aufrufen. Parametrisierte Route in read.component.ts \u00b6 Wir wollen nun daf\u00fcr sorgen, dass wir auch in der ReadComponent den id -Parameter aus der URL auslesen. Das haben wir f\u00fcr die UpdateComponent bereits gemacht und wiederholen hier exakt die Schritte. Wir \u00f6ffnen dazu die read.component.ts : src/app/members/read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ] }) export class ReadComponent implements OnInit { members : Data []; selectedId : number ; constructor ( private cs : BackendService , private route : ActivatedRoute ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } } Das hei\u00dft, wie binden per * dependency injection* den ActivatedRouted -Service ein (Zeile 15 ) und lesen in Zeile 18 den Wert des Parameters id aus der URL aus. Den Wert speichern wir in selctedId . Diese Eigenschaft haben wir in Zeile 13 der Klasse hinzugef\u00fcgt. Nun \u00fcberlegen wir uns noch Folgendes: wenn wir die Route mit einer id aufrufen, also z.B. /read/ 11 , dann wollen wir den einzelnen Datensatz mit der id=11 lesen. Nur, wenn wir die Route ohne id aufrufen, also nur /read , wollen wir alle Datensa\u00e4tze lesen. Wird in der Route keine id angegeben, dann ist der Wert von selectedId=0 . Wir wollen nur f\u00fcr diesen Fall die Funktion readAll() aufrufen, da wir nur f\u00fcr diesen Fall vom Backend alle Datens\u00e4tze zur Verf\u00fcgung gestellt bekommen m\u00f6chten. In den Zielen 19-24 haben wir deshalb eine Selektion eingef\u00fcgt, je nachdem, ob wir in der Route eine id angegeben haben (dann erfolgt eine Ausgabe auf der Konsole) oder nicht (dann rufen wir readAll() auf). Was wir bis jetzt noch nicht haben, was wir aber in K\u00fcrze hinzuf\u00fcgen werden, ist der Request an das Backend nach einem einzelnen Datensatz. Zun\u00e4chst wollen wir aber auch in unserem HTML-Template die Unterscheidung treffen, ob wir eine Route mit id aufgerufen haben oder nicht. *ngIf in read.component.html \u00b6 Wir mplementieren diese Fallunterscheidung in unserem HTML-Template. Was wir wissen ist, dass selectedId einen Wert gr\u00f6\u00dfer als 0 hat , wenn wir eine Route /read/xx aufgerufen haben und selectedId hat den Wert 0 , wenn wir nur die Route /read aufgerufen haben. Diese Unterscheidung f\u00fcgen wir in read.component.html ein: src/app/members/read.component.html 1 2 3 4 5 6 7 8 9 10 11 < p > read works! </ p > < div * ngIf = \"selectedId == 0\" class = \"container\" > < table class = \"table table-striped table-hover\" > <!-- hier den Inhalt der Tabelle - siehe oben --> </ table > </ div > < div * ngIf = \"selectedId > 0\" class = \"container\" > < h1 > {{ selectedId }} </ h1 > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > Wir f\u00fcgen zwei <div> -Elemente hinzu. Das eine <div> -Element umschlie\u00dft die Tablle. Das andere <div> -Element enth\u00e4lt eine \u00dcberschrift, deren Inhalt der Wert von selectedId ist, sowie einen routerLink , der uns zur\u00fcck zu /read f\u00fchrt (dann also ohne eine id ). Das erste <div> -Element wird nur dann angezeigt, wenn der Wert von selectedId gleich 0 ist. Das ergibt sich aus der Struktur-Direktive *ngIf=\"selectedId == 0\" . Das zweite <div> -Element wird nur dann angezeigt, wenn der Wert von selectedId gr\u00f6\u00dfer als 0 ist. Das ergibt sich aus der Struktur-Direktive *ngIf=\"selectedId > 0\" . Wenn wir nun im Browser http://localhost:4200/read eingeben, erscheint folgende Ansicht: Wenn wir dann auf einen der Icons in der rechten Spalte klicken, z.B. auf den Eintrag mit der id=55 , dann wird im Browser die URL http://localhost:4200/read/55 aufgerufen und es erscheint diese Ansicht: Mit der *ngIf -Direktive k\u00f6nnen wir also HTML-Elemente unter bestimmten Bedingungen hinzuf\u00fcgen bzw. verschwinden lassen. Eine ausf\u00fchrliche Beschreibung von *ngIf finden Sie z.B. hier . R - read one (z.B. 'GET /members/11') \u00b6 Wir haben den Zugriff auf das Backend f\u00fcr den Endpunkt /members unter Verwendung der GET -Methode implementiert. Jetzt wollen wir einen einzelnen Datensatz anfordern. Das Backend stellt diesen unter GET /members/:id zur Verf\u00fcgung (siehe R - read one ). Wir erg\u00e4nzen also zun\u00e4chst unseren BackendService um eine getDataById(dataId: number) -Funktion, der wir die id eines Datensatzes \u00fcbergeben. Auch diese Funktion gibt wieder ein Observable zur\u00fcck. Im Gegensatz zur getAll() -Funktion wird dieses Mal das Observable aber mit Data typisiert, da wir nur einen Datensatz zur\u00fcckbekommen. An die baseUrl h\u00e4ngen wir die id , nach der wir suchen, um im Backend eine GET baseUrl/id -Anfrage zu stellen. Die Funktion in backend.service.ts sieht so aus: backend.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; import { Observable } from 'rxjs' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class BackendService { baseUrl = 'http://localhost:3000/members' ; constructor ( private http : HttpClient ) { } getAll () : Observable < Data [] > { return this . http . get < Data [] > ( this . baseUrl ); } getDataById ( dataId : number ) : Observable < Data > { return this . http . get < Data > ( this . baseUrl + '/' + dataId ); } } Diese Funktion k\u00f6nnen wir nun in unserer read.component.ts verwenden. Dort hatten wir ja bereits in der ngOnInit() -Funktion die Fallunterscheidung, ob die Route mit einem id -Parameter aufgerufen wird (dann hat selectedId einen Wert gr\u00f6\u00dfer als 0 ) oder ohne id -Parameter (also nur /read - dann rufen wir die readAll() -Funktion auf und geben die Tabelle aus). Wir erg\u00e4nzen die read.component.ts zun\u00e4chst um eine readOne(id: number) -Funktion, die die getDataById(id) des BackendService subscribed und rufen diese dann f\u00fcr den Fall auf, dass die /read -Route parametrisiert ist: read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ] }) export class ReadComponent implements OnInit { members : Data []; member : Data ; selectedId : number ; constructor ( private cs : BackendService , private route : ActivatedRoute ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); // nur fuer debug this . readOne ( this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } readOne ( id : number ) : void { this . cs . getDataById ( id ). subscribe ( ( response : Data ) => this . member = response , error => console . log ( error ) ); } } In Zeile 25 wird die readOne() -Funktion aufgerufen f\u00fcr den Fall, dass selectedId ungleich 0 ist (also nicht die Tabelle aller Datens\u00e4tze angezeigt werden soll). Dieser Funktion wird der Wert von selectedId \u00fcbergeben (den wir aus der URL ausgelesen haben, also z.B. http://localhost:4200/read/11 ). In den Zeilen 38-43 sehen wir die Definition der readOne() -Funktion. Es wird die getDataById() -Funktion des BackendService subscribe() und die response (vom Typ Data ) in die neu hinzugef\u00fcgte (Zeile 13 ) Eigenschaft member gespeichert. Im n\u00e4chsten Schritt lassen wir die Werte von member in unserem HTML-Template mittels Interpolation ausgeben: read.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 < p > read works! </ p > < div * ngIf = \"selectedId == 0\" class = \"container\" > < table class = \"table table-striped table-hover\" > <!-- hier kommt der Inhalt der Tabelle rein (gekuerzt) --> </ table > </ div > < div * ngIf = \"selectedId > 0\" class = \"container\" > < h1 > {{ selectedId }} </ h1 > < p > {{ member.id }} </ p > < p > {{ member.firstname }} </ p > < p > {{ member.lastname }} </ p > < p > {{ member.email }} </ p > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > In den Zeilen 10-13 lassen wir alle Werte von member auf der Seite in jeweils <p> -Elementen anzeigen. Wir probieren aus und rufen im Browser http://localhost:4200/read auf. Es erscheint die Tabelle aller Datens\u00e4tze. Wir klicken auf eines der Icons in der Edit -Spalte der Tabelle. Die URL im Browser ist nun parametrisiert, z.B. http://localhost:4200/read/56 und es erscheint: Das sieht gut aus und alles scheint zu funktionieren! Wenn wir uns aber die Konsole in den Entwicklertools dabei anschauen, dann stellen wir fest, dass ein Fehler erscheint: Das Problem ist, dass versucht wird, die Komponente darzustellen (zu rendern ), noch bevor (\"parallel\" dazu) die readOne() -Funktion fertig ausgef\u00fchrt ist und die response in member gespeichert hat. Das Rendern der Webseite erfolgt nebenl\u00e4ufig zur asynchronen Ausf\u00fchrung der subscribe() -Funktion in readOne() . Das ist einerseits ein sehr n\u00fctzliches Feature, denn die Darstellung der Webseite wird nicht dadurch aufgehalten, dass eine Funktion noch ausgef\u00fchrt wird. Der asynchrone Ansatz ist ausgesprochen nutzerfreundlich! Sobald der Wert existiert, wird er auch dargestellt - deshalb erscheint unsere Webseite auch fehlerfrei. Safe navigation operator \u00b6 Um zu vermeiden, dass versucht wird, eine Wert \u00fcber Interpolation darzustellen, der noch gar nicht existiert ( undefined ist), kann der sogenannte safe navigation operator verwendet werden. Das Prinzip dieses Operators entspricht einer *ngIf -Direktive. Erst wenn der Wert ungleich undefined ist, wird er dargestellt. Die Syntax des safe navigation operators ist ein ? : objekt?.eigenschaft Solange objekt noch undefined ist, wird nicht auf die (noch nicht existierende) eigenschaft zugegriffen. Wir f\u00fcgen den safe navigation operator in die read.component.html ein: read.component.html (Auszug mit safe navigation oprator) 31 32 33 34 35 36 37 38 < div * ngIf = \"selectedId > 0\" class = \"container\" > < h1 > {{ selectedId }} </ h1 > < p > {{ member?.id }} </ p > < p > {{ member?.firstname }} </ p > < p > {{ member?.lastname }} </ p > < p > {{ member?.email }} </ p > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > Jetzt haben wir auch in der Konsole keinen Fehler mehr, da der Zugriff auf member.id gar nicht versucht wird, solange member === undefined . Error - Datensatz existiert nicht \u00b6 In der readAll() -Funktion haben wir uns um einen Fehlerfall nicht weiter gek\u00fcmmert. F\u00fcr den Fall eines Fehlers geben wir den Fehler einfach auf der Konsole aus. Die derzeitige Implementierung von readOne() ist ebenso. Allerdings kann es bei readOne() ja ohne Probleme vorkommen, dass wir keinen Datensatz zur\u00fcckbekommen, sondern einen Fehler, n\u00e4mlich dann, wenn der Datensatz mit der angegebenen id gar nicht existiert. Angenommen, wir rufen im Browser http://localhost:4200/read/12345 auf, dann gibt es in der Datenbank keinen Datensatz mit der id=12345 . Einen solchen \"Fehler\" sollten wir nun behandeln. Wir wiederholen nochmal die drei Parameter der subscribe() -Funktion: next gibt die Daten zur\u00fcck, wenn es m\u00f6glich ist ( response ) error gibt einen Fehler zur\u00fcck, falls er auftritt completed bei erfolgreicher Response, nutzen wir nicht Sowohl bei der readAll() - als auch bei der readOne() -Methode haben wir uns die response in einer eigenen Eigenschaft gespeichert ( members bzw. member ). Das wollen wir nun auch f\u00fcr einen Fehler machen. Wir f\u00fcgen eine Eigenschaft error in unsere Klasse ein. Diese ist vom Typ HttpErrorResponse . Ein HttpErrorResponse -Objekt hat zwei wesentliche Eigenschaften: message und status . Wir erweitern zun\u00e4chst die read.component.ts und die Eigenschaft error und belegen diese im Fehlerfall mit dem HttpErrorResponse -Objekt: read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute } from '@angular/router' ; import { HttpErrorResponse } from '@angular/common/http' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ], }) export class ReadComponent implements OnInit { members : Data []; member : Data ; selectedId : number ; error : HttpErrorResponse ; constructor ( private cs : BackendService , private route : ActivatedRoute ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); // nur fuer debug this . readOne ( this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } readOne ( id : number ) : void { this . cs . getDataById ( id ). subscribe ( ( response : Data ) => this . member = response , error => this . error = error , ); } } Wir haben nur zwei Zeilen ge\u00e4ndert. In Zeile 16 ist die Eigenschaft error hinzugef\u00fcgt worden und in Zeile 43 erfolgt die Ausgabe des Fehlers nicht mehr auf der Konsole, sondern der Fehler (das HttpErrorResponse -Objekt) wird in this.error gespeichert. Wir passen nun auch noch die read.component.html an, um den Fehlerfall auszugeben. Dazu nutzen wir die *ngIf -Direktive: read.component.html (Auszug mit Fehlerbahndlung) 31 32 33 34 35 36 37 38 39 40 41 42 43 44 < div * ngIf = \"selectedId > 0\" class = \"container\" > < h1 > {{ selectedId }} </ h1 > < div * ngIf = \"error\" > < p > {{ error?.message }} </ p > < p > {{ error?.status }} </ p > </ div > < div * ngIf = \"member\" > < p > {{ member?.id }} </ p > < p > {{ member?.firstname }} </ p > < p > {{ member?.lastname }} </ p > < p > {{ member?.email }} </ p > </ div > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > F\u00fcr den Fall, dass ein Fehler aufgetreten ist (Zeile 33 ), werden die error.message und der error.status ausgegeben. F\u00fcr den Fall, dass es einen member gibt (also kein Fehler aufgetreten ist), werden die Eigenschaften von member ausgegeben. Wir testen die Ansicht durch Aufruf einer URL im Browser, die als id einen Wert verwendet, der nicht in der Datenbank enthalten ist. Bei mir z.B. http://localhost:4200/read/11 . Das Ergebnis sieht dann so aus: Success Wir haben jetzt auch die GET /members/id -Anfrage an das Backend umgesetzt, d.h. wir k\u00f6nnen uns jetzt einen einzelnen Datensatz vom Backend zur\u00fcckgeben lassen und diesen verarbeiten. Wir haben au\u00dferdem den safe navigation operator kennengelernt, der es erlaubt, erst dann auf Eigenschaften eines Objektes zuzugreifen, wenn das Objekt vollst\u00e4ndig geladen ist. Au\u00dferdem haben wir den Fehler behandelt, der auftreten kann, falls die angefragte id in der Datenbank gar nicht existiert und somit kein Datensatz zur\u00fcckgeliefert wird. Nun k\u00fcmmern wir uns um den Fall, dass vom Client Daten an das Backend gesendet werden, z.B. um ein Update eines Datensatzes durchzuf\u00fchren ( PUT /members/id ). Formular f\u00fcr einen Datensatz \u00b6 Bevor wir uns um das Update eines Datensatzes k\u00fcmmern, machen wir unser Frontend noch ein bisschen schicker. Die Anzeige aller Datens\u00e4tze in einer Tabelle ist bereits okay (man k\u00f6nnte hier noch Paginierung und Sortierung hinzuf\u00fcgen). Wenn wir in der Tablle auf ein Edit -Icon klicken, dann mit dem Ziel, diesen Datensatz zu \u00e4ndern. Wir werden deshalb die /read/id -Ansicht so \u00e4ndern, dass der Datensatz in ein Formular eingef\u00fcgt wird. Formulare werden verwendet, um Nutzereingaben zu erm\u00f6glichen und die eingegebenen Daten zu verwalten, sie z.B. in einer Datenbank zu speichern. In Angular gibt es zwei verschiedene Ans\u00e4tze, Forumlare zu erstellen: reaktive Formulare werden in der TypeScript-Klasse konzipiert und basieren auf einem unver\u00e4nderlichen Datenmodell. Sie sind leichter zu skalieren als Template-basierte Formulare und besser wiederzuverwenden. Sie sind prinzipiell den Template-basierten Formularen vorzuziehen, au\u00dfer dass Formular ist sehr einfach und besteht z.B. nur aus einem einzigen Eingabefeld. Template-basierte Formulare basieren auf Direktiven im HTML. Sie sind sehr einfach zu erstellen (direkt im HTML), k\u00f6nnen aber weniger einfach evaluiert und getestet werden und sind f\u00fcr strukturierte (verschachtelte) Datenmodelle ungeeignet. F\u00fcr weitere Informationen zu Formularen in Angular siehe hier . Die beiden wesentlichen TypeScript-Klassen bei Formularen sind FormControl f\u00fcr ein einzelnes Steuerelement (z.B. ein input oder ein radio Button) und FormGroup f\u00fcr eine zusammenh\u00e4ngende Menge von Steuerlementen (einem Formular). Damit unsere ReadComponent nicht zu \u00fcberladen wird, erstellen wir f\u00fcr das Formular eine eigene Komponente. Diese Komponente wird eine Kindkomponente der ReadComponent . Wir erstellen die neue FormComponent deshalb in den Ordner der ReadComponent : ng g c members/read/form In der form.component.ts erstellen wir zun\u00e4chst mithilfe des FormBuilder s das Formular: src/app/members/read/form.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 import { Component , Input , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { } } Wir nennen das Formular form . Es ist vom Typ FormGroup (Zeile 10 ). Mithilfe der group() -Funktion des FormBuilder erstellen wir uns die vier FormControl -Elemente idControl , firstNameControl , lastNameControl und emailControl (Zeilen 13-21 ). Sie haben zun\u00e4chst keinen Wert (kein value , sind also zun\u00e4chst leer) und die Eingabe in die jeweiligen Felder soll \u00fcberpr\u00fcft werden ( Validators.required ). Diese FormGroup wird in unsere Eigenschaft form gespeichert. form kann man als Name unseres Formulars auffassen. Das HTML-Template des Formulars k\u00f6nnte wie folgt aussehen (Verwendung von Boostrap-Klassen): src/app/members/read/form.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 < form [ formGroup ]=\" form \" > < div class = \"form-group row\" > < label for = \"staticId\" class = \"col-sm-2 col-form-label\" > id </ label > < div class = \"col-sm-10\" > < input type = \"number\" class = \"form-control\" formControlName = \"idControl\" id = \"staticId\" readonly > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputFirstName\" class = \"col-sm-2 col-form-label\" > First Name </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"firstNameControl\" id = \"inputFirstName\" > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputLastName\" class = \"col-sm-2 col-form-label\" > Last Name </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"lastNameControl\" id = \"inputLastName\" > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputEmail\" class = \"col-sm-2 col-form-label\" > E-Mail </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"emailControl\" id = \"inputEmail\" > </ div > </ div > < div class = \"form-group row\" > < div class = \"col-sm-6\" > < button type = \"submit\" class = \"btn btn-primary btn-block\" [ disabled ]=\"! form . valid \" > Update </ button > </ div > < div class = \"col-sm-6\" > < button type = \"cancel\" class = \"btn btn-secondary btn-block\" > Cancel </ button > </ div > </ div > </ form > In Zeile 3 erfolgt durch [formGroup]=\"form\" ein sogenantes property binding , d.h. eine Eigenschaft (ein Attribut) des <form> -Elementes wird an einen Wert aus der zugeh\u00f6rigen TypeScript-Klasse gebunden. Uns gen\u00fcgt es, das gesamte Forumlar form an die gesamte FormGroup zu binden. Falls Sie einzelne Werte aus den Formularen einzeln auswerten m\u00f6chten, k\u00f6nnen Sie die einzelnen FormControl -Elemente auch in den einzelnen <input> -Elementen mittels z.B. [formControl]=\"firstNameControl\" binden. Siehe dazu z.B. hier . Einbinden der FormComponent in die ReadComponent \u00b6 Wir binden die FormComponent \u00fcber den Komponentenselktor der FormComponent in die ReadComponent ein. Dies erfolgt f\u00fcr den Fall, dass die selectedId der ReadComponent gr\u00f6\u00dfer als 0 ist (wir also nicht alle Datens\u00e4tze in der Tabelle ausgeben, sondern nur genau einen Datensatz) und darin f\u00fcr den Fall, dass wir keinen error haben (also keinen entsprechenden Datensatz gefunden): src/app/members/read.component.html (Auszug) 37 38 39 40 41 42 43 44 < div * ngIf = \"member\" > < p > {{ member?.id }} </ p > < p > {{ member?.firstname }} </ p > < p > {{ member?.lastname }} </ p > < p > {{ member?.email }} </ p > < app-form ></ app-form > </ div > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > Wir k\u00f6nnten die Liste der <p> -Elemente an dieser Stelle auch schon vollst\u00e4ndig durch das Formular ersetzen. An die Stelle des Komponentenselektors <app-form></form>app-form> wird das Formular eingef\u00fcgt. Es wird jetzt auch bereits angezeigt. \u00d6ffnen Sie dazu im Browser unter der URL http://localhost:4200/read und klicken Sie auf einen Edit -Icon in der rechten Spalte. Datenfluss von Eltern- nach Kindkomponente \u00b6 In der Elternkomponente ReadComponent sind die Daten des Datensatzes, der im Formular angezeigt werden soll, unter der Eigenschaft member verf\u00fcgbar. Die Frage ist nun, wie diese Daten von der Eltern- auf die Kondkomponente \u00fcbertragen werden k\u00f6nnen. Dazu werden zwei Konzepte verwendet: In der Kindkomponente ( der *.ts der Kindkomponente) wird mithilfe des @Input() - decorators eine Eigenschaft der Kindkomponente festgelegt, in die die Daten der Elternkomponente aufgenommen werden sollen. Wir werden dazu die Anweisung @Input() data: Data; unserer Kindkomponente (der FormComponent ) hinzuf\u00fcgen. In der Elternkomponente (der *.html der Elternkomponente) werden mithilfe von property binding dem Komponentenselktor der Kindkomponente die Daten \u00fcbergeben. Wir werden deshalb den Aufruf des Komponentenselektors in der readComponent erweitern um <app-form [data]=\"member\"></app-form> , d.h. die Eigenschaft data der Kindkomponente bekommt den Wert der Eigenschaft member der Elternkomponente \u00fcbergeben. Die generelle Syntax der property binding an den Kindselektoren sieht so aus: <app-child> [childProperty]=\"parentProperty\" </app-child> wobei in der child.component.ts definiert sein muss: @Input() childProperty: Typ; Wir erweitern also unsere form.component.ts (unsere Kindkomponente) um: src/app/members/read/form.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Component , Input , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Data } from '../../../shared/data' ; import { Location } from '@angular/common' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { @ Input () data : Data ; form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { /* und hier der Rest - gekuerzt */ und die read.component.html um src/app/members/read.component.html (nur der Komponentenselektor) 42 < app-form [ data ]=\" member \" ></ app-form > Weitere Informationen zum Datenfluss von der Eltern- auf die Kindkomponente finden Sie hier . Nun k\u00f6nnen k\u00f6nnen wir die Werte in unser Formular einf\u00fcgen. Um die Werte in das Formular einzutragen, bietet die Klasse FormGroup zwei Funktionen an: setValue() - setzt f\u00fcr alle FormControl -Elemente innerhalb der FormGroup einen Wert ( value ) patchValue() - kann allen oder bestimmten (einzelnen) FormControl -Elementen einen Wert ( value ) zuweisen. Wir verwenden patchValue() , Sie k\u00f6nnen aber auch setValue() ausprobieren: src/app/members/read/form.component.ts (Auszug) 26 27 28 29 30 31 32 33 ngOnInit () : void { this . form . patchValue ({ idControl : this . data ? . id , firstNameControl : this . data ? . firstname , lastNameControl : this . data ? . lastname , emailControl : this . data ? . email }); } Wenn Sie jetzt den Browser \u00f6ffnen, sollten die entsprechenden Werte in das Formular eingetragen sein. Ereignisse zum Formular hinzuf\u00fcgen \u00b6 Wir f\u00fcgen dem Formular noch zwei Ereignisse hinzu. Das eine Ereignis ( submit ) wird ausgel\u00f6st, wenn das Formular versendet wird, also auf den submit -Button gedr\u00fcckt wird. Das andere Ereignis h\u00e4ngen wir an den cancel -Button. Wir f\u00fcgen die Ereignisse in der form.component.html hinzu: src/app/members/read/form.component.html (Auszug) 1 2 3 4 5 6 7 8 9 < form [ formGroup ]=\" form \" ( ngSubmit )=\" onSubmit ()\" > <!-- gekuerzt - siehe oben --> < div class = \"col-sm-6\" > < button type = \"cancel\" class = \"btn btn-secondary btn-block\" ( click )=\" cancel ()\" > Cancel </ button > </ div > </ div > </ form > Um sich an das submit -Ereignis anzumelden, wird f\u00fcr das <form> -Element (ngSubmit) hinzugef\u00fcgt und als dessen Wert die Funktion, die aufgerufen werden soll, beim Absenden des Formulars - hier die Funktion onSubmit() (die wir gleich noch in form.component.ts einf\u00fcgen werden). F\u00fcr den Cancel -Button melden wir uns an das click -Ereignis mithilfe von (click) und der Angabe der Funktion, die ausgef\u00fchrt werden soll (hier cancel() ) an. Jetzt m\u00fcssen noch die beiden Ereignisbehandlungsfunktionen in die form.component.ts eingef\u00fcgt werden. In der Funktion onSubmit() geben wir zun\u00e4chst nur alle Werte auf die Konsole aus, die in den <input> -Elementen beim Absenden des Formulars standen. Wir werden diese Funktion in den folgenden Abschnitten ausbauen. In der Funktion cancel() wollen wir zur\u00fcck zur Tabelle wechseln (also alle Datens\u00e4tze anzeigen) und das Formular nicht absenden. Dazu verwenden wir die Klasse Location und deren Funktion back() . Die Funktion back() wirkt genauso als w\u00fcrden wir im Browser in der Browserhistorie zur\u00fcckbl\u00e4ttern. Weitere Information zur Klasse Location finden Sie hier . src/app/members/read/form.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 import { Component , Input , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Data } from '../../../shared/data' ; import { Location } from '@angular/common' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { @ Input () data : Data ; form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { this . form . patchValue ({ idControl : this . data ? . id , firstNameControl : this . data ? . firstname , lastNameControl : this . data ? . lastname , emailControl : this . data ? . email }); } onSubmit () : void { // TODO: Use EventEmitter with form value console . warn ( this . form . value ); } cancel () : void { this . location . back (); } } Wenn Sie nun auf den Button Update klicken, dann erscheinen alle Werte aus dem Formular als ein JSON auf der Konsole. Beachten Sie, dass alle Felder ausgef\u00fcllt sein m\u00fcssen. Sobald ein input -Feld leer ist, ist der Button Update deaktiviert. Das id -Feld ist readonly und kann nicht ver\u00e4ndert werden. Wenn Sie auf den Cancel -Button klicken, gelangen Sie zur\u00fcck zur Tabelle. Success Wir haben uns ein reaktives Formular in einer Kindkomponente erstellt und haben Daten von der Eletern- auf die Kindkomponente flie\u00dfen lassen. Au\u00dferdem haben wir dem Formular zwei Ereignisse hinzugef\u00fcgt. Jetzt w\u00e4re es Zeit, die Anwendung ein wenig aufzur\u00e4umen und die Darstellung zu verbessern. Beispielsweise k\u00f6nnten Sie jetzt eine Navigations-Komponente hinzuf\u00fcgen (wie in \u00dcbung 6) und alle unn\u00f6tigen Ausgaben aus den HTML-Templates herausnehmen. Die Anwendung k\u00f6nnte jetzt z.B. so aussehen (je nachdem, ob und wie Sie sie noch gestaltet haben): Den vollst\u00e4ndigen Code f\u00fcr diesen Abschnitt (bis hier her) finden Sie hier . U - update \u00b6 Wenn wir das Formular f\u00fcr einen einzelnen Datensatz angezeigt bekommen (z.B. http://localhost:4200/read/54 ): , dann mit dem Ziel, Daten in diesem Datensatz zu \u00e4ndern und die \u00c4nderungen zu speichern. Das hei\u00dft, wir wollen ein update durchf\u00fchren. Siehe im Backend dazu U - update . Zuvor schauen wir uns aber noch das allgemeine Prinzip daf\u00fcr an, Daten von der Kindkomponente an die Elternkoponente zur\u00fcckzugeben, denn wir haben die Daten des Formulars ja in der FormComponent , die innerhalb der ReadComponent eingebunden wurde. Der Datenfluss von Eltern- auf Kindkomponente wurde bereits hier erl\u00e4utert. Nun sollen die Daten andersherum flie\u00dfen, also von der Kind- zur Elternkoponente. Datenfluss von Kind- nach Elternkomponente \u00b6 Die form.component.ts (also die TypeScript-Klasse der Kindkomponente) sieht bis jetzt so aus: src/app/members/read/form.component.ts import { Component , Input , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Data } from '../../../shared/data' ; import { Location } from '@angular/common' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { @ Input () data : Data ; form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { this . form . patchValue ({ idControl : this . data ? . id , firstNameControl : this . data ? . firstname , lastNameControl : this . data ? . lastname , emailControl : this . data ? . email }); } onSubmit () : void { // TODO: Use EventEmitter with form value console . warn ( this . form . value ); } cancel () : void { this . location . back (); } } Die onSubmit() -Funktion wird aufgerufen, wenn wir den Update -Button in unserem Formular klicken. Wir erweitern diese Klasse nun derart, dass die Daten aus dem Formular ( this.form.value ) an die Elternkomponente ( ReadComponent ) geleitet werden, damit sie von dort aus an das Backend f\u00fcr das update \u00fcbertragen werden k\u00f6nnen. Dazu erweitern wir zun\u00e4chst form.component.ts : src/app/members/read/form.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 import { Component , Input , OnInit , Output , EventEmitter } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Data } from '../../../shared/data' ; import { Location } from '@angular/common' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { @ Input () data : Data ; @ Output () updateEvent = new EventEmitter < Data > (); form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { this . form . patchValue ({ idControl : this . data ? . id , firstNameControl : this . data ? . firstname , lastNameControl : this . data ? . lastname , emailControl : this . data ? . email }); } onSubmit () : void { const values = this . form . value ; this . data . id = values . idControl ; this . data . firstname = values . firstNameControl ; this . data . lastname = values . lastNameControl ; this . data . email = values . emailControl ; this . updateEvent . emit ( this . data ); } cancel () : void { this . location . back (); } } In Zeile 1 importieren wir nun auch noch Output und EventEmitter . Au\u00dferdem f\u00fcgen wir in Zeile 13 eine weitere Eigenschaft updateEvent vom Typ EventEmitter hinzu. Diese dekorieren wir mit @Output und geben damit an, dass der Wert dieser Eigenschaft von der Kind- an die Elternkomponente \u00fcbertragen wird. In Zeile 42 verwenden wir den EventEmitter updateEvent und rufen daf\u00fcr die emit() -Funktion auf. Damit wird das Ereignis updateEvent ausgel\u00f6st. Wir \u00fcbergeben diesem Ereignis data vom Typ Data . Die einzelnen Werte von data werden in den Zeilen 38-41 aus den Werten aus dem Formular ( values = form.value ) gesetzt. Weitere Informationen zu EventEmitter finden Sie hier . In der Elternkomponente, der ReadComponent f\u00fcgen wir zwei Sachen hinzu: in der read.component.ts wird die Ereignisbehandlung des updateEvents hinzugef\u00fcgt und in der read.component.html f\u00fcgen wir ein property bindung zum Komponentenselektor der Kindkomponente hinzu src/app/members/read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute , Router } from '@angular/router' ; import { HttpErrorResponse } from '@angular/common/http' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ], }) export class ReadComponent implements OnInit { members : Data []; member : Data ; selectedId : number ; error : HttpErrorResponse ; constructor ( private cs : BackendService , private route : ActivatedRoute , private router : Router ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); // nur fuer debug this . readOne ( this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } readOne ( id : number ) : void { this . cs . getDataById ( id ). subscribe ( ( response : Data ) => this . member = response , error => this . error = error , ); } update ( data : Data ) : void { this . member = data ; this . cs . update ( this . member . id , this . member ); this . router . navigateByUrl ( '/read' ); } } src/app/members/read.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 < div * ngIf = \"selectedId == 0\" class = \"container\" > < h2 > All members </ h2 > < table class = \"table table-striped table-hover\" > < caption > List of Members </ caption > < thead > < tr > < th > Nr. </ th > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail </ th > < th > Edit </ th > </ tr > </ thead > < tbody > < tr * ngFor = \"let member of members; let i=index; trackBy: trackByData\" > < td > {{ i+1 }} </ td > < td > {{member.firstname}} </ td > < td > {{member.lastname}} </ td > < td > {{member.email}} </ td > < td >< a [ routerLink ]=\"['/ read /', member . id ]\" >< i-bs name = \"pencil-square\" class = \"text-secondary\" width = \"1rem\" height = \"1rem\" > </ i-bs ></ a ></ td > </ tr > </ tbody > </ table > </ div > < div * ngIf = \"selectedId > 0\" class = \"container\" > < div * ngIf = \"error\" > < h1 > {{ selectedId }} </ h1 > < p > {{ error?.message }} </ p > < p > {{ error?.status }} </ p > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > < div * ngIf = \"member\" > < app-form [ data ]=\" member \" ( updateEvent )=\" update ($ event )\" ></ app-form > </ div > </ div > In der read.component.ts wurde in den Zeilen 47-51 also einfach eine update -Funktion hinzugef\u00fcgt, welche somit eine weitere Eigenschaft der TypeScript-Klasse der ReadComponent ist. In dieser Funktion wird zun\u00e4chst die update -Funktion des BackendService aufgerufen (erstellen wir gleich) und danach die Route /read - also das Anzeigen aller Datens\u00e4tze in der Tabelle. In der read.component.html wurde der Komponentenselektor <app-form></app-form> um ein weiteres Attribut erweitert. Nachdem wir dort bereits mithilfe der property binding [data]=\"member\" den Datenfluss von der Eltern- auf die Kindkomponente spezifiziert hatten, kommt nun ein Ereignis-Attribut hinzu. Wir binden das updateEvent der Kindklasse an das update -Event der Elternklasse. Die generelle Syntax sieht so aus: Die generelle Syntax der property binding an den Kindselektoren sieht so aus: <app-child> (childEvent)=\"parentMethod($event)\" </app-child> wobei in der child.component.ts definiert sein muss: @Output() childEvent: EventEmitter; sowie die parentMethod() in der parent.component.ts . Mithilfe der Banana-Syntax [()] k\u00f6nnen @Input und @Output \u00fcbrigens kombiniert werden. Siehe dazu two way binding . In der (Eltern-)Komponente read.component.ts kommen jetzt bei Klicken des Buttons Update die Werte aus dem Formular an. Diese werden nun verwendet, um die update -Funktion im Backend aufzurufen und den Datensatz zu aktualisieren. Dazu erweitern wir den BackendService um eine update -Funktion: src/app/shared/backend.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; import { Observable } from 'rxjs' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class BackendService { baseUrl = 'http://localhost:3000/members' ; constructor ( private http : HttpClient ) { } getAll () : Observable < Data [] > { return this . http . get < Data [] > ( this . baseUrl ); } getDataById ( dataId : number ) : Observable < Data > { return this . http . get < Data > ( this . baseUrl + '/' + dataId ); } update ( dataId : number , data : Data ) : void { this . http . put < Data > ( this . baseUrl + '/' + dataId , data ) . subscribe ( response => { console . log ( response ); console . log ( response . id ); }, error => { console . log ( error ); } ); } } Die put -Funktion des HttpClient (siehe z.B. hier ) erzeugt ein Observable , das mithilfe der subscribe() -Funktion ausgef\u00fchrt werden kann. Subscribe() hat zwei Parameter next und error und f\u00fcr beide kann eine Callback -Funktion definert werden. Die hier definierten Funktionen geben nur entweder die response oder den error auf die Konsole aus. Damit kann nun auch ein Datensatz ge\u00e4ndert werden ( update ) - siehe U - update im Backend. Beachten Sie, dass wir hier weder eine Meldung des erfolgreichen Updates implementiert haben, noch eine eventuelle Fehlermeldung. F\u00fcr beides w\u00e4re die UpdateComponent geeignet. Wir leiten aber direkt nach dem Update an die Tabelle aller Datens\u00e4tze weiter. D - delete one \u00b6 Um einen Datensatz zu l\u00f6schen, bauen wir in unseren BackendService die Funktion deleteOne(dataId: number) ein, in der wir die delete() -Funktion des Backends aufrufen: src/app/shared/backend.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; import { Observable } from 'rxjs' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class BackendService { baseUrl = 'http://localhost:3000/members' ; constructor ( private http : HttpClient ) { } getAll () : Observable < Data [] > { return this . http . get < Data [] > ( this . baseUrl ); } getDataById ( dataId : number ) : Observable < Data > { return this . http . get < Data > ( this . baseUrl + '/' + dataId ); } update ( dataId : number , data : Data ) : void { this . http . put < Data > ( this . baseUrl + '/' + dataId , data ) . subscribe ( response => { console . log ( response ); console . log ( response . id ); }, error => { console . log ( error ); } ); } deleteOne ( dataId : number ) : void { this . http . delete < Data > ( this . baseUrl + '/' + dataId ) . subscribe ( response => { console . log ( response ); console . log ( response . id ); }, error => { console . log ( error ); } ); } } Diese Funktion muss nun an geeigneter Stelle aufgerufen werden. Es bleibt Ihnen \u00fcberlassen, wo und wie Sie diese Funktion aufrufen, um einen Datensatz zu l\u00f6schen. Sie k\u00f6nnten z.B. die DeleteComponent verwenden, die Sie \u00fcber die Route /delte/:id erreichen und dort den Datensatz mit der entsprechenden id l\u00f6schen. Das w\u00e4re dann das gleiche Verfahren, wie wir das f\u00fcr das Aktualisiern/\u00c4ndern eines Datensatzes gemacht haben. Wir machen das hier etwas anders, aber der Beginn ist sicherlich der gleiche. Wir f\u00fcgen in der \u00dcbersicht aller Datens\u00e4tze, also in der Tabelle unter der Route /read eine weitere Spalte mit einem entsprechenden Icon hinzuf\u00fcgen. Wir w\u00e4hlen aus den Bootstrap-Icons das Trash -Icon aus und f\u00fcgen es der app.module.ts hinzu: Ausschnitt aus src/app/app.module.ts 25 26 27 28 29 /* siehe https://avmaisak.github.io/ngx-bootstrap-icons/ */ const icons = { PencilSquare , Trash , }; Unter Verwendung des Icons f\u00fcgen wir in der Tablle der ReadComponent eine weitere Spalte hinzu: Ausschnitt aus src/app/members/read/read.component.html 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 < table class = \"table table-striped table-hover\" > < caption > List of Members </ caption > < thead > < tr > < th > Nr. </ th > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail </ th > < th > Edit </ th > < th > Delete </ th > </ tr > </ thead > < tbody > < tr * ngFor = \"let member of members; let i=index; trackBy: trackByData\" > < td > {{ i+1 }} </ td > < td > {{member.firstname}} </ td > < td > {{member.lastname}} </ td > < td > {{member.email}} </ td > < td >< a [ routerLink ]=\"['/ read /', member . id ]\" >< i-bs name = \"pencil-square\" class = \"text-secondary\" width = \"1em\" height = \"1em\" > </ i-bs ></ a ></ td > < td >< i-bs name = \"trash\" class = \"text-secondary\" width = \"1em\" height = \"1em\" ( click )=\" open ( content , member . id )\" > </ i-bs ></ td > </ tr > </ tbody > </ table > Wie gesagt, Sie k\u00f6nnten hier auch wie f\u00fcr beim Update verfahren und anstelle des click -Ereignisses einen <a [routerLink]=\"['/delete/', member.id]\"> einf\u00fcgen. Dann machen Sie Ihre DeleteComponent zu einer Kindkomponente der ReadComponent und gehen genau so vor, wie bei der UpdateComponent . Wir behandeln hier stattdessen das click -Ereignis, um einen modalen Dialog zu \u00f6ffnen. Dazu geben wir in unserem Projektordner zun\u00e4chst ng add @ng-bootstrap/ng-bootstrap ein. Gute modale Dialoge gibt es auch von Material , wir w\u00e4hlen hier Bootstrap. Wir binden das neue Bootstrap-Modul in die app.module.ts , falls das nicht automatisch durch die add -Anweisung erfolgt ist: src/app/app.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { ReadComponent } from './members/read/read.component' ; import { CreateComponent } from './members/create/create.component' ; import { UpdateComponent } from './members/update/update.component' ; import { DeleteComponent } from './members/delete/delete.component' ; import { HttpClientModule } from '@angular/common/http' ; import { NgxBootstrapIconsModule , PencilSquare , Trash } from 'ngx-bootstrap-icons' ; import { FormComponent } from './members/read/form/form.component' ; import { ReactiveFormsModule } from '@angular/forms' ; import { BrowserAnimationsModule } from '@angular/platform-browser/animations' ; import { NavComponent } from './nav/nav.component' ; import { LayoutModule } from '@angular/cdk/layout' ; import { MatToolbarModule } from '@angular/material/toolbar' ; import { MatButtonModule } from '@angular/material/button' ; import { MatSidenavModule } from '@angular/material/sidenav' ; import { MatIconModule } from '@angular/material/icon' ; import { MatListModule } from '@angular/material/list' ; import { CommonModule } from '@angular/common' ; import { NgbModule } from '@ng-bootstrap/ng-bootstrap' ; /* siehe https://avmaisak.github.io/ngx-bootstrap-icons/ */ const icons = { PencilSquare , Trash , }; @ NgModule ({ declarations : [ AppComponent , ReadComponent , CreateComponent , UpdateComponent , DeleteComponent , FormComponent , NavComponent ], imports : [ BrowserModule , AppRoutingModule , HttpClientModule , NgxBootstrapIconsModule . pick ( icons ), ReactiveFormsModule , BrowserAnimationsModule , LayoutModule , MatToolbarModule , MatButtonModule , MatSidenavModule , MatIconModule , MatListModule , CommonModule , NgbModule ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Sowohl in der read.component.ts als auch in der read.component.html kommt jetzt eine ganze Menge hinzu. Hier w\u00e4re es eigentlich f\u00fcr die \u00dcbersichtlichkeit besser, eine eigene Komponente f\u00fcr den modalen Dialog zu erstellen. Dieser w\u00e4re eine Kindkomponente der ReadComponent . Die Daten von member w\u00fcrden wir an diese Kindkomponente \"flie\u00dfen\" lassen und wir w\u00fcrden das Ereignis, das best\u00e4tigt, dass der Datensatz gel\u00f6scht werden soll, an die Elternkomponente \u00fcber den EventEmitter zur\u00fccksenden. Das k\u00f6nnen Sie ja nochmal durchspielen. Wir packen hier alles (wie gesagt, f\u00e4lschlicherweise) in die ReadComponent : src/app/members/read/read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute , Router } from '@angular/router' ; import { HttpErrorResponse } from '@angular/common/http' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Observable } from 'rxjs' ; import { NgbModal , NgbModalConfig } from '@ng-bootstrap/ng-bootstrap' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ], }) export class ReadComponent implements OnInit { members : Data []; member : Data ; selectedId : number ; path : Observable < string > ; error : HttpErrorResponse ; closeResult = '' ; form : FormGroup ; constructor ( private cs : BackendService , private route : ActivatedRoute , private router : Router , config : NgbModalConfig , private modalService : NgbModal , private fb : FormBuilder , ) { // Konfiguration des modalen Dialogs config . backdrop = 'static' ; // schliesst nicht, wenn man in das Fenster dahinter klickt config . keyboard = false ; // Modaler Dialog kann nicht durch ESC beendet werden // Formular fuer delete this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); // nur fuer debug this . readOne ( this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } readOne ( id : number ) : void { this . cs . getDataById ( id ). subscribe ( ( response : Data ) => this . member = response , error => this . error = error , ); } update ( data : Data ) : void { this . member = data ; this . cs . update ( this . member . id , this . member ); this . router . navigateByUrl ( '/read' ); } deleteOne ( id : number ) : void { this . cs . deleteOne ( id ); window . location . reload (); } open ( content , id : number ) : void { this . readOne ( id ); this . modalService . open ( content , { ariaLabelledBy : 'modal-basic-title' }). result . then (( result ) => { this . closeResult = `Closed with: ${ result } ` ; console . log ( this . closeResult ); if ( result === 'delete' ) { this . deleteOne ( this . member ? . id ); } }); } } In Zeile 8 importieren wir zun\u00e4chst die f\u00fcr den modalen Dialog ben\u00f6tigten Module (Sie k\u00f6nnen auch Zeilen 28 und 29 eingeben und den Import durch die IDE erledigen lassen) In Zeile 21 definieren wir uns eine Eigenschaft, in die ausgelesen wird, wie wir den modalen Dialog verlassen haben (durch Cancel -Button oder durch Delete -Button oder durch Klicken des Schlie\u00dfen-Kreuzes rechts oben im Dialog) In den Zeilen 28-29 binden wir die f\u00fcr den modalen Dialog notwendigen Module ein. NgModalConfig dient der Konfiguration, siehe Zeilen 33 und 34 In Zeile 33 konfigurieren wir, dass der modale Dialog nur durch ein Klick-Ereignis auf dem Dialog (Buttons oder Kreuz) verlassen werden kann, nicht jedoch, indem man einfach in das dahinterliegende Fenster klickt. In Zeile 34 konfigurieren wir, dass der modale Dialog auch nicht durch Dr\u00fccken der ESC -Taste verlassen werden kann. In den Zeilen 36-43 definieren wir das Men\u00fc, das in dem modalen Dialog erscheinen soll. Das Vorgehen kennen wir bereits aus UpdateComponent . In den Zeilen 78-81 definieren wir die Funktion, die die deleteOne() -Funktion des BackendService aufruft. Zeile 80 f\u00fchrt zu einem Reload der aktuellen Seite (die ReadComponent - die Tabelle- wird neu geladen, nachdem wir den modalen Dialog verlassen und einen Datensatz gel\u00f6scht haben). In den Zeilen 83-93 ist die open() -Funktion zum \u00d6ffnen des modalen Dialogs definiert. Dieser Funktion wird die id des Datensatzes \u00fcbergeben, den wir l\u00f6schen wollen. Mithilfe dieser id lesen wir den Datensatz in unsere member -Eigenschaft ein ( this.readOne(id) ). Danach \u00f6ffnen wir den Dialog mithilfe der open() -Funktion von NgbModal . Die Zeilen 86 und 87 sind nur zum Debuggen. Sie k\u00f6nnen gel\u00f6scht werden - und dann auch Zeile 21 , wenn Sie m\u00f6chten. In result steht nach dem Schlie\u00dfen des Dialogs, mit welchem Button wir den Dialog beendet haben. Wenn es der Delete -Button war, dann rufen wir die deleteOne() -Funktion auf, die dann den Datensatz tats\u00e4chlich l\u00f6scht. In der read.component.html f\u00fcgen wir das Template des modalen Dialogs hinzu: src/app/members/read/read.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 < div * ngIf = \"selectedId == 0\" class = \"container\" > < h2 > All members </ h2 > < table class = \"table table-striped table-hover\" > < caption > List of Members </ caption > < thead > < tr > < th > Nr. </ th > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail </ th > < th > Edit </ th > < th > Delete </ th > </ tr > </ thead > < tbody > < tr * ngFor = \"let member of members; let i=index; trackBy: trackByData\" > < td > {{ i+1 }} </ td > < td > {{member.firstname}} </ td > < td > {{member.lastname}} </ td > < td > {{member.email}} </ td > < td >< a [ routerLink ]=\"['/ read /', member . id ]\" >< i-bs name = \"pencil-square\" class = \"text-secondary\" width = \"1em\" height = \"1em\" > </ i-bs ></ a ></ td > < td >< i-bs name = \"trash\" class = \"text-secondary\" width = \"1em\" height = \"1em\" ( click )=\" open ( content , member . id )\" > </ i-bs ></ td > </ tr > </ tbody > </ table > </ div > < div * ngIf = \"selectedId > 0\" class = \"container\" > < div * ngIf = \"error\" > < h1 > {{ selectedId }} </ h1 > < p > {{ error?.message }} </ p > < p > {{ error?.status }} </ p > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > < div * ngIf = \"member\" > < app-form [ data ]=\" member \" ( updateEvent )=\" update ($ event )\" ></ app-form > </ div > </ div > <!-- modaler Dialog fuer das Loeschen --> < ng-template # content let-modal > < div class = \"modal-header\" > < h4 class = \"modal-title\" id = \"modal-basic-title\" > Confirm delete </ h4 > < button type = \"button\" class = \"close\" aria-label = \"Close\" ( click )=\" modal . dismiss (' cancel ')\" > < span aria-hidden = \"true\" > &times; </ span > </ button > </ div > < div class = \"modal-body\" > < h4 style = \"color: red\" > Do you really want to delete this data set? </ h4 > < form [ formGroup ]=\" form \" > < div class = \"form-group\" > < label for = \"inpId\" > id </ label > < div class = \"input-group\" > < input id = \"inpId\" class = \"form-control\" formControlName = \"idControl\" value = \"{{ member?.id }}\" readonly > </ div > </ div > < div class = \"form-group\" > < label for = \"inpFN\" > firstname </ label > < div class = \"input-group\" > < input id = \"inpFN\" class = \"form-control\" formControlName = \"firstNameControl\" value = \"{{ member?.firstname }}\" readonly > </ div > </ div > < div class = \"form-group\" > < label for = \"inpLN\" > lastname </ label > < div class = \"input-group\" > < input id = \"inpLN\" class = \"form-control\" formControlName = \"lastNameControl\" value = \"{{ member?.lastname }}\" readonly > </ div > </ div > < div class = \"form-group\" > < label for = \"inpEmail\" > email </ label > < div class = \"input-group\" > < input id = \"inpEmail\" class = \"form-control\" formControlName = \"emailControl\" value = \"{{ member?.email }}\" readonly > </ div > </ div > </ form > </ div > < div class = \"modal-footer\" > < button type = \"button\" class = \"btn btn-secondary\" ( click )=\" modal . close (' cancel ')\" > Cancel </ button > < button type = \"button\" class = \"btn btn-primary\" ( click )=\" modal . close (' delete ')\" > Delete </ button > </ div > </ ng-template > Zu modalen Dialogen unter Verwendung von Bootstrap gibt es hier ausf\u00fchrliche Beispiele. Wir haben hier in den modalen Dialog noch ein Formular integriert. Weitere Informationen \u00fcber solche Bootstrap-Widgets dazu finden Sie auch hier und hier . Der modale Dialog erscheint, sobald Sie in der Tabelle in der rechten Spalte auf ein Trash -icon klicken. Es sollte dann so aussehen: Wenn Sie auf den Delete -Button klicken, wird der Datensatz tats\u00e4chlich gel\u00f6scht, wenn Sie Cancel klicken oder auf das Kreuz rechts oben, bleibt der Datensatz in der Datenbank. Nach dem L\u00f6schen des Datensatzes erfolgt ein Reload der Tabelle. Refinement \u00b6 Wie gesagt, es w\u00e4re besser gewesen, f\u00fcr den modalen Dialog eine eigene Komponente als Kindkomponente der ReadComponent zu erstellen. Die member -Daten w\u00fcrden von der Eltern- an die Kindkomponente weitergeleitet werden und das Klicken des Delete -Buttons als Ereignis von der Kind- an die Elternkomponente . Da wir die DeleteComponent nicht nutzen, kann sie gel\u00f6scht werden, dann auch aus der app.module.ts und auch die Routen dorthin (aus der app-routing.module.ts ). Jetzt bleiben noch das Anlegen eines Datensatzes und, wenn Sie das \u00fcberhaupt wollen, das L\u00f6schen aller Datens\u00e4tze. C - create \u00b6 F\u00fcr das Anlegen eines Datensatzes k\u00f6nnten wir einfach in unsere CreateComponent ein Formular erstellen, so wie beim Update oder dem L\u00f6schen eines Datensatzes. In der backend.service.ts f\u00fcgen wir die create() -Funktion hinzu: Ausschnitt aus src/app/shared/backend.service.ts 50 51 52 53 54 55 56 57 58 59 60 create ( data : Data ) : void { this . http . post < Data > ( this . baseUrl , data ) . subscribe ( response => { console . log ( response ); }, error => { console . log ( error ); } ); } Es wird die Methode post zum Senden des Datensatzes an das Backend gew\u00e4hlt. Die data enthalten firstname , lastname und email , aber keine id , da diese automatisch beim Einf\u00fcgen des Datensatzes in die Datenbank erzeugt wird. Wir k\u00f6nnen trotzdem den Typ Data w\u00e4hlen und lassen id einfach weg. Das Backend liest eh nur die drei genannten Eigenschaften aus. Die beiden Dateien der CreateComponent sehen dann so aus: src/app/members/create/create.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 import { Component , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { ActivatedRoute , Router } from '@angular/router' ; import { Data } from '../../shared/data' ; import { BackendService } from '../../shared/backend.service' ; @ Component ({ selector : 'app-create' , templateUrl : './create.component.html' , styleUrls : [ './create.component.css' ] }) export class CreateComponent implements OnInit { form : FormGroup ; data : Data ; constructor ( private cs : BackendService , private fb : FormBuilder , private route : ActivatedRoute , private router : Router ) { this . form = this . fb . group ( { firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); this . data = { id : 0 , firstname : '' , lastname : '' , email : '' }; } ngOnInit () : void { } onSubmit () : void { console . warn ( this . form . value ); const values = this . form . value ; this . data . firstname = values . firstNameControl ; this . data . lastname = values . lastNameControl ; this . data . email = values . emailControl ; console . log ( this . data ); this . cs . create ( this . data ); this . router . navigate ([ '/read' ]); } cancel () : void { this . router . navigate ([ '/read' ]); } } src/app/members/create/create.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 < div class = \"container\" > < form [ formGroup ]=\" form \" ( ngSubmit )=\" onSubmit ()\" > < div class = \"form-group row\" > < label for = \"inputFirstName\" class = \"col-sm-2 col-form-label\" > First Name </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"firstNameControl\" id = \"inputFirstName\" > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputLastName\" class = \"col-sm-2 col-form-label\" > Last Name </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"lastNameControl\" id = \"inputLastName\" > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputEmail\" class = \"col-sm-2 col-form-label\" > E-Mail </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"emailControl\" id = \"inputEmail\" > </ div > </ div > < div class = \"form-group row\" > < div class = \"col-sm-6\" > < button type = \"submit\" class = \"btn btn-primary btn-block\" [ disabled ]=\"! form . valid \" > Create </ button > </ div > < div class = \"col-sm-6\" > < button type = \"cancel\" class = \"btn btn-secondary btn-block\" ( click )=\" cancel ()\" > Cancel </ button > </ div > </ div > </ form > </ div > Sie enthalten nichts, was wir nicht schon kennen w\u00fcrden. Wenn wir jetzt in unserer Navigation auf Create klicken, also die Route /create ausw\u00e4hlen, dann \u00f6ffnet sich das Formular und wenn wir es bef\u00fcllen und mit dem Create -Button absenden, dann \u00f6ffnet sich die Tabelle mit allen Datens\u00e4tzen und hinten in der Tabelle wurde der Datensatz angeh\u00e4ngt. Success Wir haben nun die vier CRUD-Funktionen im Frontend implementiert und daf\u00fcr das Frontend an das Backend vollst\u00e4ndig angebunden. Auf die letzte durch das Backend zur Verf\u00fcgung gestellte Funktion deleteAll() verzichten wir. Der Entwicklungsstack MySQl <-> Backend <-> Frontend ist damit fertig und abgeschlossen. Wir haben nun alle Voraussetzungen besprochen, um die Semesteraufgabe zu erledigen. Im Januar werden wir uns noch mit JSON Web Tokens (JWT) befassen, um das Rechtemanagment in einer Anwnedung zu implementieren. Eventuell werden wir dann auch noch Drittanbieter-APIs (wie z.B. Google-Maps-API oder Twitter-API) verwenden - mal sehen. Ansonsten w\u00fcnsche ich allen ein frohes und gesundes Weihnachtsfest und einen guten Rutsch ins neue Jahr! Bleiben Sie gesund und viel Spa\u00df und Erfolg mit der Semesteraufgabe und dem restlichen Studium!","title":"Frontend-Backend-Anbindung"},{"location":"backendanbindung/#anbindung-an-das-backend","text":"Wir haben jetzt ein Backend, das als REST-Server funngiert. \u00dcber die Endpunkte der REST-API k\u00f6nnen wir auf die einzelnen Funktionen des Backends zugreifen, um die Daten in der MySQL-Datenbank zu manipulieren (erzeugen, lesen, \u00e4ndern und l\u00f6schen - CRUD). Unser Frontend stellt zur Zeit nur einen Daten-Service zur Verf\u00fcgung, der die Daten client-seitig verwaltet. Dies wollen wir jetzt \u00e4ndern. Das Frontend soll mit dem Backend kommunizieren, um die Daten zu nutzen, die das Backend zur Verf\u00fcgung stellt. Wir werden uns ein neues Frontend erstellen und dabei die einzelnen Schritte genauer untersuchen. Das hat folgende Vorteile: wir werden sicherer bei der Erstellung von Frontends mithilfe von Angular, wir m\u00fcssen nicht auf bestehende Frontends aufsetzen, die evtl. bei einigen nicht richtig funktionieren, wir haben die M\u00f6glichkeit, tiefer in die Prinzipien von Angular einzutauchen und wesentliche Prinzipien ausf\u00fchrlicher zu diskutieren. Ich werde das Frontend, das ich hier erstelle, frontend3 nennen. Der Name bleibt nat\u00fcrlich Ihnen \u00fcberlassen. Wir erstellen uns also neben unserem alten Frontend, neben dem Backend usw. in unserem Repository mithilfe von ng new frontend3 ein neues Angular-Projekt und w\u00e4hlen nicht die strikte Typ\u00fcberpr\u00fcfung, aber Routing und CSS.","title":"Anbindung an das Backend"},{"location":"backendanbindung/#komponenten","text":"Eine Angular-Anwendung besteht haupts\u00e4chlich aus Komponenten. Wann immer Sie eine neue \"Unterseite\" erstellen m\u00f6chten oder sogar nur ein Men\u00fc, eine einzelne Tabelle o.\u00e4., erstellen Sie sich eine neue Komponente. Jede Komponente besteht aus: einem HTML- Template , in dem mittels HTML bestimmt wird, was im Browser dargestellt werden soll ( *.component.html ), einer TypeScript-Klasse, in der das Verhalten auf der Seite definiert werden kann ( *.component.ts ), einem CSS-Selektor, mit dem bestimmt werden kann, wie die die Komponente in die Webseite eingebunden werden kann (z.B. <app-root></app-root> ), einer CSS-Datei, in der eigene Styles f\u00fcr die Komponente definiert werden k\u00f6nnen ( *.component.css ) und einer Datei, in der Tests speizifiziert werden k\u00f6nnen ( *.component.spec.ts ) Die Erstellung von Komponenten erfolgt am einfachsten \u00fcber das Terminal: ng generate component nameDerKomponente ng g c nameDerKomponente Wir erstellen uns 4 Komponenten in unserer Anwendung: ng g c members/create ng g c members/read ng g c members/update ng g c members/delete Diese 4 Komponenten CreateComponent , ReadComponent , UpdateComponent und DeleteComponent entstehen im Ordner members , der durch die erste Anweisung im src/app -Ordner erstellt wird. Man k\u00f6nnte die Komponenten nun mithilfe ihrer Selektoren (z.B. <app-create></app-create> ) in die Seite einbinden. Wir w\u00e4hlen jedoch gleich das Routing , um die jeweiligen Komponenten anzusprechen.","title":"Komponenten"},{"location":"backendanbindung/#routing","text":"In der app-routing.module.ts k\u00f6nnen wir Routen definieren, so dass wir unsere Komponenten \u00fcber die URLs direkt erreichen k\u00f6nnen, z.B. localhost:4200/read , um z.B. alle Datens\u00e4tze auszulesen oder localhost:4200/read/11 , um den Datensatz mit der id=11 auszulesen. Werden f\u00fcr die Komponenten Routen definiert, so wird je nach Route die jeweilige Komponente in den Selktor <router-outlet></router-outlet> eingesetzt. Wir definieren unserer Routen wie folgt: src/app/app-routing.module.ts import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { CreateComponent } from './members/create/create.component' ; import { UpdateComponent } from './members/update/update.component' ; import { ReadComponent } from './members/read/read.component' ; import { DeleteComponent } from './members/delete/delete.component' ; const routes : Routes = [ { path : 'create' , component : CreateComponent }, { path : 'update' , component : UpdateComponent }, { path : 'update/:id' , component : UpdateComponent }, { path : 'read' , component : ReadComponent }, { path : 'read/:id' , component : ReadComponent }, { path : 'delete' , component : DeleteComponent }, { path : 'delete/:id' , component : DeleteComponent }, ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } Die Routen werden im routes -Array festgelegt. Bei Angabe der Komponenten, die \u00fcber die jeweilige Route erreichbar sein soll, wird diese durch eine import -Anweisung importiert. Das Importieren sollten Sie durch Ihre IDE erledigen lassen. Wichtig ist, dass die entsprechenden Links zu den Routen (und damit Komponenten) nicht \u00fcber das Attribut href im HTML definiert werden, sondern \u00fcber [routerLink] . Die Verwendung von href f\u00fchrt zu einem neuen Request auf dem Webserver. Die app.component.html sollte z.B. so aussehen: src/app/app.component.html < h1 > This is app </ h1 > < ul > < li >< a [ routerLink ]=\"['/ create ']\" > Create </ a ></ li > < li >< a [ routerLink ]=\"['/ read ']\" > Read </ a ></ li > < li >< a [ routerLink ]=\"['/ update ']\" > Update </ a ></ li > < li >< a [ routerLink ]=\"['/ delete ']\" > Delete </ a ></ li > </ ul > < router-outlet ></ router-outlet > In der app.component.html haben wir uns somit eine Liste erstellt und die einzelnen List-items sind Hyperlinks auf unsere Komponenten. Diese erreichen wir \u00fcber die zuvor festgelegten Routen. Klicken wir nun auf einen Link, so wird die jeweilige Komponente in den <router-outlet></router-outlet> -Selektor unterhalb der Liste eingebunden. Nun erscheint die Liste von Links und wenn auf einen der Links geklickt wird, dann wird die entsprechende Komponente in den <router-outlet></router-outlet> -Selektor eingebunden. Da jedes der *.component.html ein <p> component works!</p> enth\u00e4lt, erscheint dieses dann unterhalb der Liste, so wie hier das Beispiel f\u00fcr die UpdateComponent : Um Parameter aus den Routen auszulesen, z.B. die id aus localhost:4200/update/11 , binden wir f\u00fcr genau dieses Beispiel ( UpdateComponent ) in die update.component.ts die Klasse ActivatedRoute ein und greifen dann dar\u00fcber auf snapshot.paramMap.get('id')) zu. Die Datei sieht wie folgt aus: src/app/members/update.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import { Component , OnInit } from '@angular/core' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-update' , templateUrl : './update.component.html' , styleUrls : [ './update.component.css' ] }) export class UpdateComponent implements OnInit { selectedId : number ; constructor ( private route : ActivatedRoute ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); } } In Zeile 12 binden wir ActivatedRoute per dependency injection (siehe z.B. hier ) in den Konstruktor ein. Die Eigenschaft route ist damit in der Klasse UpdateComponent verf\u00fcgbar. Durch dieses Einbinden wird die Klasse ActiveRoute auch importiert (in Zeile 2 ). In Zeile 10 wird eine Eigenschaft selectedId deklariert, die den Typ number hat. Dieser Eigenschaft wird in Zeile 15 ein Wert zugewiesen, der aus der URL ausgelesen wird. Da wir unsere Rout ein app-routing.module.ts mittels { path: 'update/:id', component: UpdateComponent }, parametrisiert hatten, kann nun \u00fcber die ActivatedRoute -Klasse (hier bei handelt es sich genauer um einen Service - siehe z.B. hier ) der Wert von id ausgelesen werden. Dieser ist ein string , den wir mittels Number nach number konvertieren. Bei der ngOnInit() -Funktion handelt es sich um einen sogenannten lifecycle-hook . Jede Komponente durchl\u00e4uft einen Lifecycle . Wir k\u00f6nnen einerseits auf Ereignisse durch die Nutzerin reagieren und andererseits auf Ereignisse, die durch den Lifecycle einer Komponente ausgel\u00f6st werden. Bei ngOnInit() reagieren wir darauf, dass die Komponente initialisiert wird. Diese Funktion wird genau ein Mal aufgerufen (bei der Initialisierung der Komponente) - im Gegensatz z.B. zu ngOnChanges() . Diese Funktion wird bei jeder \u00c4nderung der Komponente aufgerufen, z.B. direkt vor ngOnInit() . Sie z.B. hier .","title":"Routing"},{"location":"backendanbindung/#interpolation","text":"Mithilfe von Interpolation k\u00f6nnen wir (berechnete) Werte in unser HTML einf\u00fcgen. Die Syntax von Interpolation sieht in Angular so aus: {{ wert }} Der Wert wird also in doppelten geschweiften Klammern angegeben. Wir betrachten f\u00fcr unsere obige UpdateComponent ein einfaches Beispiel. In update.component.ts haben wir die Eigenschaft selectedId erstellt und dieser mithilfe der parametrisierten Route einen Wert zugewiesen. Diesen Wert k\u00f6nnen wir nun in update.component.html durch Interpolation einbinden: src/app/members/update.component.html 1 2 < p > update works! </ p > < p > id={{ selectedId }} </ p > Wenn wir also die update -Komponente \u00fcber z.B. die URL localhost:4200/update/11 aufrufen, erscheint unterhalb des Absatzes update works! ein Absatz mit id=11 .","title":"Interpolation"},{"location":"backendanbindung/#service-fur-http","text":"Ehe wir weitere Sprachkonzepte in Angular betrachten, erzeugen wir uns einen Service , um mit dem Backend per HTTP zu kommunizieren. Ein Service in Angular ist eine (TypeScript-)Klasse, die einem konkreten Zweck dient. Ein Service sollte m\u00f6glichst genau eine Sache erledigen. Ein Service kann typischerweise von allen/vielen Komponenten verwendet werden. Wir erstellen unseren Service deswegen in einem Ordner shared . Wir nennen unseren Service backend : ng g service shared/backend Durch die Anweisung wird der shared -Ordner erstellt und darin eine backend.service.ts . Ein Service besteht nur aus einer *.service.ts -Datei (und einer spec.ts f\u00fcr Tests). Es gibt daf\u00fcr keine .html und keine .css -Datei, da ein Service nur ein Verhalten beschreibt und keine Sicht. Als erstes f\u00fcgen wir unserer app.module.ts das Modul HttpClientModule hinzu, um es zu importieren. Achten Sie darauf, dass das HttpClientModule in der Liste der Importe nach dem BrowserModule steht: src/app/app.module.ts (Ausschnitt) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /* gekuerzt */ import { HttpClientModule } from '@angular/common/http' ; @ NgModule ({ declarations : [ /* gekuerzt */ ], imports : [ BrowserModule , AppRoutingModule , HttpClientModule , ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Nun implementieren wir unseren BackendService . Wir f\u00fcgen zun\u00e4chst den HttpClient -Service per * dependency injection* hinzu: src/app/shared/backend.service.ts 1 2 3 4 5 6 7 8 9 10 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; @ Injectable ({ providedIn : 'root' }) export class ConnService { constructor ( private http : HttpClient ) { } } Mit dem HttpClient -Service sind wir in der Lage, Anfragen ( requests ) an das Backend zu senden und die Antworten ( responses ) zu empfangen und auszuwerten. Wir erinnern uns zun\u00e4chst nochmal an die Endpunkte unserer REST-API : Methode URL Bedeutung GET /members hole alle Datens\u00e4tze GET /members/11 hole den Datensatz mit der id=11 POST /members f\u00fcge einen neuen Datensatz hinzu PUT /members/11 \u00e4ndere den Datensatz mit der id=11 DELETE /members/11 l\u00f6sche den Datensatz mit der id=11 DELETE /members l\u00f6sche alle Datens\u00e4tze Wir beginnen damit, den GET -request f\u00fcr alle members auszuf\u00fchren. Dazu erstellen wir uns zun\u00e4chst im Client ein Interface f\u00fcr das Datenmodell:","title":"Service f\u00fcr HTTP"},{"location":"backendanbindung/#datenmodell","text":"Wir hatten uns fr\u00fcher bereits ein Datenmodell im Client erstellt. Wir wiederholen das hier nochmal schnell. Um das Mapping des Datenmodells von Backend und Frontend zun\u00e4chst einfach zu halten, \u00fcbernehmen wir das Datenmodell des Backends. Das Datenmodell in Angular ist ein Interface . Wir erstellen es ebenfalls im shared -Ordner: ng generate interface shared/data Anstelle von ng generate interface h\u00e4tten wir auch ng g i schreiben k\u00f6nnen. Unser Datenmodell sieht wie folgt aus: src/app/data.ts export interface Data { id : number ; firstname : string ; lastname : string ; email : string ; } Mit einem Interface legen wir in TypeScript einen neuen Typ an, hier den Typ Data . Interfaces dienen somit der Typsicherheit. Wir werden diesen Typ Data im folgenden verwenden, um die Datens\u00e4tze unserer Mockup-Data zu typisieren. Interfaces k\u00f6nnen in TypeScript Eigenschaften und Funktionen enthalten. F\u00fcr die Beschreibung unserer Daten ben\u00f6tigen wir nur Eigenschaften. Ein Objekt kann jetzt vom Typ Data sein. Ein Interface hat aber keinen Konstruktor.","title":"Datenmodell"},{"location":"backendanbindung/#get-funktion-von-httpclient","text":"Wir erstellen nun die erste \"Verkn\u00fcpfung\" mit dem Backend und implementieren ein GET -Request an das Backend, um alle members abzufragen. Dazu verwenden wir die get() -Funktion des HttpClient -Services. Die einfachste Form der Anwendung der get() -Funktion besteht darin, dieser Funktion die entsprechende URL des Backends zu \u00fcbergeben. In unserem Fall also http . get ( 'http://localhost:3000/members' ); Diese Funktion gibt ein sogenanntes Observable zur\u00fcck. Observables implementieren das Observer Pattern - ein Design Pattern zur Kommunikation zwischen einem sogenannte subject , das einen oder mehrere observers beobachtet und das immer dann informiert wird, sobald sich der Zustand eines observers ge\u00e4ndert hat. Eine typische Implementierung des Observer Patterns findet durch Ereignis-Listener statt. Jemand (das subject ) meldet sich an einem observer an, z.B. einem Button (genauer gesagt, an das Click-Ereignis des Buttons) und wird informiert, sobald der Button gecklickt wurde. Die Grundidee bei Observables in TypeScript ist die, dass es eine Funktion gibt, die Werte ermittelt (z.B. http.get() ), aber diese Funktion nur ausgef\u00fchrt wird, wenn sie jemand subscribe d. subscribe() ist also wie eine Anmeldung an den zu beobachtenden Wert. Wir schauen uns dieses Prinzip mal mit der get() -Funktion des HttpClient s an: src/app/shared/backend.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; import { Observable } from 'rxjs' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class BackendService { baseUrl = 'http://localhost:3000/members' ; constructor ( private http : HttpClient ) { } getAll () : Observable < Data [] > { return this . http . get < Data [] > ( this . baseUrl ); } } Zun\u00e4chst einmal sehen wir in Zeile 15 den Aufruf der get() -Funktion von HttpClient . Der get() -Funktion wird als Parameter die URL des Backends \u00fcbergeben. Diese ist in der Eigenschaft baseUrl in Zeile 10 definiert. Die R\u00fcckgabe der get() -Funktion ist, wie gesagt, ein Observable . Wir erzeugen den Aufruf der get() -Funktion in einer von uns erstellten Funktion getAll() deren R\u00fcckgabetyp dieses Obervable ist (Zeile 14 ). Dieses Observable ist sogar typisiert, n\u00e4mlich mit unserem Datenmodell-Typ Data . Vielmehr bekommen wir ein Array von Data -Objekten zur\u00fcck, deshalb Observable<Data[]> als R\u00fcckgabetyp der getAll() -Funktion. Da wir diesen R\u00fcckgabetyp so konkret angeben (und nicht einfach nur Observable oder Observable<any> , erfordert TypeScript auch, dass wir die get() -Funktion typisieren - deshalb get<Data[]>() . Wir m\u00fcssen sowohl Observable (aus rxjs ) als auch Data (aus unserer data.ts ) importieren (Zeilen 3 und 4 ). Nun m\u00fcssen wir uns noch an dieses Observable mittels subscribe() anmelden. Das machen wir in unserer ReadComponent .","title":"get()-Funktion von HttpClient"},{"location":"backendanbindung/#subscribe","text":"In unserer ReadComponent wollen wir die getAll() -Funktion unseres Backend-Services nutzen, um uns alle members -Datens\u00e4tze vom Backend anbzufragen und anzeigen zu lassen. Wir \u00f6ffnen dazu die read.component.ts : src/app/members/read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ] }) export class ReadComponent implements OnInit { members : Data []; constructor ( private cs : BackendService ) { } ngOnInit () : void { this . readAll (); } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response ); } } Zun\u00e4chst binden wir den BackendService mittels dependency injection in unsere Komponente ein (Zeile 13 ). In einer eigenen Funktion readAll() rufen wir nun die getAll() -Funktion des BackendService auf (Zeile 20 ). Wie in dem Abschnitt zuvor erl\u00e4utert, wird diese Funktion nur durch ein subscribe() ausgef\u00fchrt. Die subscribe() -Funktion \"holt\" das Observer -Objekt, welches drei sogenannte callback -Funktionen definiert: next , error und complete . Callback-Funktionen sind hier erl\u00e4utert. Wir haben also drei Parameter in der subscribe() -Funktion, von denen jedoch nur einer ( next ) erforderlich ist. error und complete sind optional. Wir verwenden hier auch nur next . Unter next erhalten wir die response zur\u00fcck, also das angefragte Objekt. Wir verwenden daf\u00fcr eine Arrow-Funktion (siehe Arrow-Funktionen ). Wie wir diese Funktion nennen, bleibt uns \u00fcberlassen. Hier hei\u00dft sie response . Wir haben diese Funktion auch mit Data[] typisiert, da sie uns ein Data -Array zur\u00fcckgibt. Der Inhalt dieser Funktion ist die Zuweisung der response auf unsere Eigenschaft members vom Typ Data[] (definiert in Zeile 11 ) und der R\u00fcckgabe der response (in Arrow-Funktionen kann aber auf das return verzichtet werden - siehe hier ). Hier vielleicht einmal zum Verst\u00e4ndnis auch die M\u00f6glichkeit der Fehlerausgabe auf der Konsole: this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); Damit wir testen k\u00f6nnen, ob unsere Backend-Anbindung funktioniert, f\u00fcgen wir noch eine Konsolen-Ausgabe der response ein. Die Funktionsk\u00f6rper der readAll() -Funktion sieht dann so aus: this . cs . getAll (). subscribe ( ( response : Data []) => { console . log ( response ); return this . members = response ; }, error => console . log ( error ) );","title":"subscribe()"},{"location":"backendanbindung/#backend-starten","text":"Um die Anbindung an das Backend zu testen, d\u00fcrfen wir nicht vergessen, es zu starten! Wechseln Sie im Terminal in Ihren Backend-Ordner und rufen dort node server.js auf. Es erscheint im Terminal Server is running on port 3000 . Successfully connected to the database.","title":"Backend starten"},{"location":"backendanbindung/#frontend-starten","text":"Wir m\u00fcssen unser Frontend compilieren ng serve und wenn wir dann im Browser http://localhost:4200/read eingeben, also die Route zu unserer ReadComponent , dann sollten wir in der Konsole in den Entwicklertools die Ausgabe der Response sehen (die id s und auch die Anzahl der Eintr\u00e4ge k\u00f6nnen bei Ihnen anders sein): Achtung! Man sieht nichts auf der Webseite, sondern wir geben die Datens\u00e4tze derzeit nur in der Konsole der Entwicklertools aus! Success Wir haben das Backend an das Frontend angebunden. Wir haben die erste Anfrage an das Backend im Frontend umgesetzt, n\u00e4mlich GET /members , indem wir im Frontend die get() -Funktion des HttpClient implementiert und diese in der ReadComponent mittels subscribe() ausgef\u00fchrt haben. Wir werden nun zun\u00e4chst die Daten noch im HTML-Template darstellen und dann weitere Endpunkte unserer REST-API anbinden.","title":"Frontend starten"},{"location":"backendanbindung/#readcomponenthtml","text":"Die Werte der Response wollen wir nun in unserem HTML-Template der ReadComponent darstellen. Nach Aufruf der ReadComponent \u00fcber die /read -Route befinden sich die Werte in der Eigenschaft members vom Typ Data[] . Dieses Array lesen wir nun aus. F\u00fcr das Auslesen von Arrays bieten sich in Angular Struktur-Direktiven an, hier insbesondere die Wiederholungsdirektive *ngFor : src/app/members/read.component.html 1 2 3 4 5 < p > read works! </ p > < ul * ngFor = \"let member of members\" > < li > {{member.firstname}} {{member.lastname}} </ li > </ ul > In Zeile 3 verwenden wir diese Direktive. Wir greifen auf members zu und laufen vollst\u00e4ndig durch dieses Array. Dazu definieren wir uns eine Variable member (die k\u00f6nnen Sie nennen, wie Sie m\u00f6chten). member zeigt dann jeweils auf einen Datensatz. Jeder Datensatz ist ein Objekt mit den Eigenschaften id , firstname , lastname und email . Mittels Interpolation lesen wir die Werte von member.firstname und member.lastname aus und stellen sie in einer Liste dar.","title":"read.component.html"},{"location":"backendanbindung/#bootstrap-einbinden","text":"Wir k\u00f6nnen dieses Mal ja Bootstrap in unser Angular-Frontend einbinden. Dazu gehen wir wie folgt vor. Wir wechseln im Terminal in unseren Frontend-Ordner und geben dort npm install bootstrap jquery popper.js --save ein. W\u00fcrden wir nur npm install bootstrap eingeben, w\u00fcrden wir aufgefordert, jquery (siehe jQuery ) und popper.js (siehe Popper ) nachzuinstallieren. In dem node_modules -Ordner in unserem Projekt entstehen die Ordner bootstrap , jquery und popper.js - k\u00f6nnen Sie sich in Ihrer IDE ja mal anschauen. Damit ist Bootstrap aber noch nicht ganz eingebunden. Wir m\u00fcssen es noch in unsere angular.json eintragen: angular.json (Ausschnitt) 25 26 27 28 29 30 31 32 33 ], \"styles\" : [ \"src/styles.css\" , \"./node_modules/bootstrap/dist/css/bootstrap.min.css\" ] , \"scripts\" : [ \"./node_modules/jquery/dist/jquery.min.js\" , \"./node_modules/bootstrap/dist/js/bootstrap.min.js\" ] Beachten Sie, dass Sie die Eintragungen gleich zwei Mal in der angular.json vornehmen. Einmal unter architect --> build --> options und auch noch unter architect --> test --> options . Testen Sie, ob Bootstrap eingebunden wurde, indem Sie f\u00fcr die Liste und die List-Items die Bootstrap-Klassen verwenden: src/app/members/read.component.html 1 2 3 4 5 < p > read works! </ p > < ul class = \"list-group\" * ngFor = \"let member of members\" > < li class = \"list-group-item\" > {{member.firstname}} {{member.lastname}} </ li > </ ul > Wir wollen noch eine weitere Struktur-Direktive betrachten, n\u00e4mlich *ngIf . Bevor wir dies tun, installieren wir uns zun\u00e4chst auch noch die Bootstrap-Icons.","title":"Bootstrap einbinden"},{"location":"backendanbindung/#bootstrap-icons","text":"Um die Bootstrap-Icons zu installieren, geben wir im Terminal in unserem Projektordner npm i ngx-bootstrap-icons --save ein. IN unserem node_modules -Ordner entsteht dadurch ein ngx-bootstrap-icons -Ordner. Diesen importieren wir folgt in die app.modules.ts : app.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { ReadComponent } from './members/read/read.component' ; import { CreateComponent } from './members/create/create.component' ; import { UpdateComponent } from './members/update/update.component' ; import { DeleteComponent } from './members/delete/delete.component' ; import { HttpClientModule } from '@angular/common/http' ; import { NgxBootstrapIconsModule } from 'ngx-bootstrap-icons' ; import { PencilSquare } from 'ngx-bootstrap-icons' ; const icons = { PencilSquare , }; @ NgModule ({ declarations : [ AppComponent , ReadComponent , CreateComponent , UpdateComponent , DeleteComponent ], imports : [ BrowserModule , AppRoutingModule , HttpClientModule , NgxBootstrapIconsModule . pick ( icons ) ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } In Zeile 12 h\u00e4tten wir auch alle verf\u00fcgbaren Icons importieren k\u00f6nnen, dann mithilfe der Anweisung import { allIcons } from 'ngx-bootstrap-icons'; . Dann h\u00e4tten wir uns auch die Zeilen 14-16 sparen k\u00f6nnen, in denen wir explizit angeben, welche(s) Icon, wir verwenden k\u00f6nnen. H\u00e4tten wir alle Icons importiert, w\u00fcrde in Zeile 30 stehen NgxBootstrapIconsModule.pick(allIcons) . N\u00e4here Informationen dazu finden Sie hier . Aus der Liste aller verf\u00fcgbaren Icons haben wir (zun\u00e4chst) nur das Icon pencil-square ausgew\u00e4hlt. Dieses Icon werden wir im folgenden verwenden. Die Verwendung des Icons innerhalb eines HTML-Templates sieht so aus: < i-bs name = \"pencil-square\" class = \"text-primary\" width = \"1em\" height = \"1em\" > </ i-bs > In name geben Sie den Namen des Icons an, mit dem class -Attribut k\u00f6nnen Sie die Farbe setzen (siehe dazu Bootstrap-Colors ) und mit den width - und height -Attributen setzen Sie die gr\u00f6\u00dfe des Icons (hier die doppelte Schriftgr\u00f6\u00dfe). Alle Bootstrap-Icons und deren jeweilige Verwendung finden Sie hier .","title":"Bootstrap Icons"},{"location":"backendanbindung/#tabelle-statt-liste","text":"Wir ersetzen die Liste in der read.component.html durch eine Tabelle: src/app/members/read.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 < p > read works! </ p > < table class = \"table table-striped table-hover\" > < caption > List of Members </ caption > < thead > < tr > < th > Nr. </ th > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail </ th > < th > Edit </ th > </ tr > </ thead > < tbody > < tr * ngFor = \"let member of members; let i=index; trackBy: trackByData\" > < td > {{ i+1 }} </ td > < td > {{member.firstname}} </ td > < td > {{member.lastname}} </ td > < td > {{member.email}} </ td > < td >< a [ routerLink ]=\"['/ read /', member . id ]\" > < i-bs name = \"pencil-square\" class = \"text-secondary\" width = \"1em\" height = \"1em\" > </ i-bs ></ a ></ td > </ tr > </ tbody > </ table > Beachten Sie, dass wir der *ngFor -Direktive noch einen index hinzugef\u00fcgt haben (Zeile 15 ). Damit wird jedem einzelnen Wert aus members (jedem Schleifendurchlauf) ein Index zugeordnet, beginnend bei 0 . In der ersten Spalte der Tablle (Zeile 16 ) geben wir diesen jeweiligen Wert aus (erh\u00f6ht um 1 , um bei 1 anstelle von 0 zu beginnen). \u00dcber den index f\u00fcr die *ngFor -Direktive finden Sie hier weitere Informationen. Beachten Sie au\u00dferdem, dass wir den Wert der *ngFor -Direktive um trackBy: trackByData erweitert haben. Dazu haben wir die Funktion in app.component.ts hinzugef\u00fcgt: src/app/members/read.component.ts (Auszug) 25 26 27 28 29 } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { Dies erfolgt nur zur Performanzsteigerung. Haben wir lange Listen oder lange Tabellen, so wie hier, k\u00f6nnen geringf\u00fcgige Ver\u00e4nderungen an Eintr\u00e4gen in diesen Listen oder Tabellen zu einer kompletten Neugestaltung des DOMs kommen - die gesamte Tabelle w\u00fcrde neu erstellt und dem DOM hinzugef\u00fcgt werden. Um dies zu vermeiden, geben wir an, welche Eintr\u00e4ge bereits enthalten - welche also bereits getracked werden. Wir geben dazu die Eigenschaft an, an der das Tracking identifiziert werden soll. Wir nutzen hier die id -Eigenschaft eines jeden members . Weitere Informationen zu trackby finden Sie hier . Wie Sie sehen, verwenden wir in der letzten Spalte der Tabelle das Bootstrap-Icon pencil-square (Zeilen 21 - 26 ). Dieses Icon ist hier Inhalt eines <a> -Elementes, in dem ein routerLink angegeben wird. Dieser routerLink setzt sich aus der Route /read/ und der member.id zusammen. Der Datensatz mit der id=54 erzeugt dann z.B. die Route /read/54 . Beachten Sie, dass wir in der app-routing.module.ts auch die parametrisierte Route read/:id definiert hatten und damit die ReadComponent aufrufen.","title":"Tabelle statt Liste"},{"location":"backendanbindung/#parametrisierte-route-in-readcomponentts","text":"Wir wollen nun daf\u00fcr sorgen, dass wir auch in der ReadComponent den id -Parameter aus der URL auslesen. Das haben wir f\u00fcr die UpdateComponent bereits gemacht und wiederholen hier exakt die Schritte. Wir \u00f6ffnen dazu die read.component.ts : src/app/members/read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ] }) export class ReadComponent implements OnInit { members : Data []; selectedId : number ; constructor ( private cs : BackendService , private route : ActivatedRoute ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } } Das hei\u00dft, wie binden per * dependency injection* den ActivatedRouted -Service ein (Zeile 15 ) und lesen in Zeile 18 den Wert des Parameters id aus der URL aus. Den Wert speichern wir in selctedId . Diese Eigenschaft haben wir in Zeile 13 der Klasse hinzugef\u00fcgt. Nun \u00fcberlegen wir uns noch Folgendes: wenn wir die Route mit einer id aufrufen, also z.B. /read/ 11 , dann wollen wir den einzelnen Datensatz mit der id=11 lesen. Nur, wenn wir die Route ohne id aufrufen, also nur /read , wollen wir alle Datensa\u00e4tze lesen. Wird in der Route keine id angegeben, dann ist der Wert von selectedId=0 . Wir wollen nur f\u00fcr diesen Fall die Funktion readAll() aufrufen, da wir nur f\u00fcr diesen Fall vom Backend alle Datens\u00e4tze zur Verf\u00fcgung gestellt bekommen m\u00f6chten. In den Zielen 19-24 haben wir deshalb eine Selektion eingef\u00fcgt, je nachdem, ob wir in der Route eine id angegeben haben (dann erfolgt eine Ausgabe auf der Konsole) oder nicht (dann rufen wir readAll() auf). Was wir bis jetzt noch nicht haben, was wir aber in K\u00fcrze hinzuf\u00fcgen werden, ist der Request an das Backend nach einem einzelnen Datensatz. Zun\u00e4chst wollen wir aber auch in unserem HTML-Template die Unterscheidung treffen, ob wir eine Route mit id aufgerufen haben oder nicht.","title":"Parametrisierte Route in read.component.ts"},{"location":"backendanbindung/#ngif-in-readcomponenthtml","text":"Wir mplementieren diese Fallunterscheidung in unserem HTML-Template. Was wir wissen ist, dass selectedId einen Wert gr\u00f6\u00dfer als 0 hat , wenn wir eine Route /read/xx aufgerufen haben und selectedId hat den Wert 0 , wenn wir nur die Route /read aufgerufen haben. Diese Unterscheidung f\u00fcgen wir in read.component.html ein: src/app/members/read.component.html 1 2 3 4 5 6 7 8 9 10 11 < p > read works! </ p > < div * ngIf = \"selectedId == 0\" class = \"container\" > < table class = \"table table-striped table-hover\" > <!-- hier den Inhalt der Tabelle - siehe oben --> </ table > </ div > < div * ngIf = \"selectedId > 0\" class = \"container\" > < h1 > {{ selectedId }} </ h1 > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > Wir f\u00fcgen zwei <div> -Elemente hinzu. Das eine <div> -Element umschlie\u00dft die Tablle. Das andere <div> -Element enth\u00e4lt eine \u00dcberschrift, deren Inhalt der Wert von selectedId ist, sowie einen routerLink , der uns zur\u00fcck zu /read f\u00fchrt (dann also ohne eine id ). Das erste <div> -Element wird nur dann angezeigt, wenn der Wert von selectedId gleich 0 ist. Das ergibt sich aus der Struktur-Direktive *ngIf=\"selectedId == 0\" . Das zweite <div> -Element wird nur dann angezeigt, wenn der Wert von selectedId gr\u00f6\u00dfer als 0 ist. Das ergibt sich aus der Struktur-Direktive *ngIf=\"selectedId > 0\" . Wenn wir nun im Browser http://localhost:4200/read eingeben, erscheint folgende Ansicht: Wenn wir dann auf einen der Icons in der rechten Spalte klicken, z.B. auf den Eintrag mit der id=55 , dann wird im Browser die URL http://localhost:4200/read/55 aufgerufen und es erscheint diese Ansicht: Mit der *ngIf -Direktive k\u00f6nnen wir also HTML-Elemente unter bestimmten Bedingungen hinzuf\u00fcgen bzw. verschwinden lassen. Eine ausf\u00fchrliche Beschreibung von *ngIf finden Sie z.B. hier .","title":"*ngIf in read.component.html"},{"location":"backendanbindung/#r-read-one-zb-get-members11","text":"Wir haben den Zugriff auf das Backend f\u00fcr den Endpunkt /members unter Verwendung der GET -Methode implementiert. Jetzt wollen wir einen einzelnen Datensatz anfordern. Das Backend stellt diesen unter GET /members/:id zur Verf\u00fcgung (siehe R - read one ). Wir erg\u00e4nzen also zun\u00e4chst unseren BackendService um eine getDataById(dataId: number) -Funktion, der wir die id eines Datensatzes \u00fcbergeben. Auch diese Funktion gibt wieder ein Observable zur\u00fcck. Im Gegensatz zur getAll() -Funktion wird dieses Mal das Observable aber mit Data typisiert, da wir nur einen Datensatz zur\u00fcckbekommen. An die baseUrl h\u00e4ngen wir die id , nach der wir suchen, um im Backend eine GET baseUrl/id -Anfrage zu stellen. Die Funktion in backend.service.ts sieht so aus: backend.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; import { Observable } from 'rxjs' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class BackendService { baseUrl = 'http://localhost:3000/members' ; constructor ( private http : HttpClient ) { } getAll () : Observable < Data [] > { return this . http . get < Data [] > ( this . baseUrl ); } getDataById ( dataId : number ) : Observable < Data > { return this . http . get < Data > ( this . baseUrl + '/' + dataId ); } } Diese Funktion k\u00f6nnen wir nun in unserer read.component.ts verwenden. Dort hatten wir ja bereits in der ngOnInit() -Funktion die Fallunterscheidung, ob die Route mit einem id -Parameter aufgerufen wird (dann hat selectedId einen Wert gr\u00f6\u00dfer als 0 ) oder ohne id -Parameter (also nur /read - dann rufen wir die readAll() -Funktion auf und geben die Tabelle aus). Wir erg\u00e4nzen die read.component.ts zun\u00e4chst um eine readOne(id: number) -Funktion, die die getDataById(id) des BackendService subscribed und rufen diese dann f\u00fcr den Fall auf, dass die /read -Route parametrisiert ist: read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute } from '@angular/router' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ] }) export class ReadComponent implements OnInit { members : Data []; member : Data ; selectedId : number ; constructor ( private cs : BackendService , private route : ActivatedRoute ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); // nur fuer debug this . readOne ( this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } readOne ( id : number ) : void { this . cs . getDataById ( id ). subscribe ( ( response : Data ) => this . member = response , error => console . log ( error ) ); } } In Zeile 25 wird die readOne() -Funktion aufgerufen f\u00fcr den Fall, dass selectedId ungleich 0 ist (also nicht die Tabelle aller Datens\u00e4tze angezeigt werden soll). Dieser Funktion wird der Wert von selectedId \u00fcbergeben (den wir aus der URL ausgelesen haben, also z.B. http://localhost:4200/read/11 ). In den Zeilen 38-43 sehen wir die Definition der readOne() -Funktion. Es wird die getDataById() -Funktion des BackendService subscribe() und die response (vom Typ Data ) in die neu hinzugef\u00fcgte (Zeile 13 ) Eigenschaft member gespeichert. Im n\u00e4chsten Schritt lassen wir die Werte von member in unserem HTML-Template mittels Interpolation ausgeben: read.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 < p > read works! </ p > < div * ngIf = \"selectedId == 0\" class = \"container\" > < table class = \"table table-striped table-hover\" > <!-- hier kommt der Inhalt der Tabelle rein (gekuerzt) --> </ table > </ div > < div * ngIf = \"selectedId > 0\" class = \"container\" > < h1 > {{ selectedId }} </ h1 > < p > {{ member.id }} </ p > < p > {{ member.firstname }} </ p > < p > {{ member.lastname }} </ p > < p > {{ member.email }} </ p > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > In den Zeilen 10-13 lassen wir alle Werte von member auf der Seite in jeweils <p> -Elementen anzeigen. Wir probieren aus und rufen im Browser http://localhost:4200/read auf. Es erscheint die Tabelle aller Datens\u00e4tze. Wir klicken auf eines der Icons in der Edit -Spalte der Tabelle. Die URL im Browser ist nun parametrisiert, z.B. http://localhost:4200/read/56 und es erscheint: Das sieht gut aus und alles scheint zu funktionieren! Wenn wir uns aber die Konsole in den Entwicklertools dabei anschauen, dann stellen wir fest, dass ein Fehler erscheint: Das Problem ist, dass versucht wird, die Komponente darzustellen (zu rendern ), noch bevor (\"parallel\" dazu) die readOne() -Funktion fertig ausgef\u00fchrt ist und die response in member gespeichert hat. Das Rendern der Webseite erfolgt nebenl\u00e4ufig zur asynchronen Ausf\u00fchrung der subscribe() -Funktion in readOne() . Das ist einerseits ein sehr n\u00fctzliches Feature, denn die Darstellung der Webseite wird nicht dadurch aufgehalten, dass eine Funktion noch ausgef\u00fchrt wird. Der asynchrone Ansatz ist ausgesprochen nutzerfreundlich! Sobald der Wert existiert, wird er auch dargestellt - deshalb erscheint unsere Webseite auch fehlerfrei.","title":"R - read one (z.B. 'GET /members/11')"},{"location":"backendanbindung/#safe-navigation-operator","text":"Um zu vermeiden, dass versucht wird, eine Wert \u00fcber Interpolation darzustellen, der noch gar nicht existiert ( undefined ist), kann der sogenannte safe navigation operator verwendet werden. Das Prinzip dieses Operators entspricht einer *ngIf -Direktive. Erst wenn der Wert ungleich undefined ist, wird er dargestellt. Die Syntax des safe navigation operators ist ein ? : objekt?.eigenschaft Solange objekt noch undefined ist, wird nicht auf die (noch nicht existierende) eigenschaft zugegriffen. Wir f\u00fcgen den safe navigation operator in die read.component.html ein: read.component.html (Auszug mit safe navigation oprator) 31 32 33 34 35 36 37 38 < div * ngIf = \"selectedId > 0\" class = \"container\" > < h1 > {{ selectedId }} </ h1 > < p > {{ member?.id }} </ p > < p > {{ member?.firstname }} </ p > < p > {{ member?.lastname }} </ p > < p > {{ member?.email }} </ p > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > Jetzt haben wir auch in der Konsole keinen Fehler mehr, da der Zugriff auf member.id gar nicht versucht wird, solange member === undefined .","title":"Safe navigation operator"},{"location":"backendanbindung/#error-datensatz-existiert-nicht","text":"In der readAll() -Funktion haben wir uns um einen Fehlerfall nicht weiter gek\u00fcmmert. F\u00fcr den Fall eines Fehlers geben wir den Fehler einfach auf der Konsole aus. Die derzeitige Implementierung von readOne() ist ebenso. Allerdings kann es bei readOne() ja ohne Probleme vorkommen, dass wir keinen Datensatz zur\u00fcckbekommen, sondern einen Fehler, n\u00e4mlich dann, wenn der Datensatz mit der angegebenen id gar nicht existiert. Angenommen, wir rufen im Browser http://localhost:4200/read/12345 auf, dann gibt es in der Datenbank keinen Datensatz mit der id=12345 . Einen solchen \"Fehler\" sollten wir nun behandeln. Wir wiederholen nochmal die drei Parameter der subscribe() -Funktion: next gibt die Daten zur\u00fcck, wenn es m\u00f6glich ist ( response ) error gibt einen Fehler zur\u00fcck, falls er auftritt completed bei erfolgreicher Response, nutzen wir nicht Sowohl bei der readAll() - als auch bei der readOne() -Methode haben wir uns die response in einer eigenen Eigenschaft gespeichert ( members bzw. member ). Das wollen wir nun auch f\u00fcr einen Fehler machen. Wir f\u00fcgen eine Eigenschaft error in unsere Klasse ein. Diese ist vom Typ HttpErrorResponse . Ein HttpErrorResponse -Objekt hat zwei wesentliche Eigenschaften: message und status . Wir erweitern zun\u00e4chst die read.component.ts und die Eigenschaft error und belegen diese im Fehlerfall mit dem HttpErrorResponse -Objekt: read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute } from '@angular/router' ; import { HttpErrorResponse } from '@angular/common/http' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ], }) export class ReadComponent implements OnInit { members : Data []; member : Data ; selectedId : number ; error : HttpErrorResponse ; constructor ( private cs : BackendService , private route : ActivatedRoute ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); // nur fuer debug this . readOne ( this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } readOne ( id : number ) : void { this . cs . getDataById ( id ). subscribe ( ( response : Data ) => this . member = response , error => this . error = error , ); } } Wir haben nur zwei Zeilen ge\u00e4ndert. In Zeile 16 ist die Eigenschaft error hinzugef\u00fcgt worden und in Zeile 43 erfolgt die Ausgabe des Fehlers nicht mehr auf der Konsole, sondern der Fehler (das HttpErrorResponse -Objekt) wird in this.error gespeichert. Wir passen nun auch noch die read.component.html an, um den Fehlerfall auszugeben. Dazu nutzen wir die *ngIf -Direktive: read.component.html (Auszug mit Fehlerbahndlung) 31 32 33 34 35 36 37 38 39 40 41 42 43 44 < div * ngIf = \"selectedId > 0\" class = \"container\" > < h1 > {{ selectedId }} </ h1 > < div * ngIf = \"error\" > < p > {{ error?.message }} </ p > < p > {{ error?.status }} </ p > </ div > < div * ngIf = \"member\" > < p > {{ member?.id }} </ p > < p > {{ member?.firstname }} </ p > < p > {{ member?.lastname }} </ p > < p > {{ member?.email }} </ p > </ div > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > F\u00fcr den Fall, dass ein Fehler aufgetreten ist (Zeile 33 ), werden die error.message und der error.status ausgegeben. F\u00fcr den Fall, dass es einen member gibt (also kein Fehler aufgetreten ist), werden die Eigenschaften von member ausgegeben. Wir testen die Ansicht durch Aufruf einer URL im Browser, die als id einen Wert verwendet, der nicht in der Datenbank enthalten ist. Bei mir z.B. http://localhost:4200/read/11 . Das Ergebnis sieht dann so aus: Success Wir haben jetzt auch die GET /members/id -Anfrage an das Backend umgesetzt, d.h. wir k\u00f6nnen uns jetzt einen einzelnen Datensatz vom Backend zur\u00fcckgeben lassen und diesen verarbeiten. Wir haben au\u00dferdem den safe navigation operator kennengelernt, der es erlaubt, erst dann auf Eigenschaften eines Objektes zuzugreifen, wenn das Objekt vollst\u00e4ndig geladen ist. Au\u00dferdem haben wir den Fehler behandelt, der auftreten kann, falls die angefragte id in der Datenbank gar nicht existiert und somit kein Datensatz zur\u00fcckgeliefert wird. Nun k\u00fcmmern wir uns um den Fall, dass vom Client Daten an das Backend gesendet werden, z.B. um ein Update eines Datensatzes durchzuf\u00fchren ( PUT /members/id ).","title":"Error - Datensatz existiert nicht"},{"location":"backendanbindung/#formular-fur-einen-datensatz","text":"Bevor wir uns um das Update eines Datensatzes k\u00fcmmern, machen wir unser Frontend noch ein bisschen schicker. Die Anzeige aller Datens\u00e4tze in einer Tabelle ist bereits okay (man k\u00f6nnte hier noch Paginierung und Sortierung hinzuf\u00fcgen). Wenn wir in der Tablle auf ein Edit -Icon klicken, dann mit dem Ziel, diesen Datensatz zu \u00e4ndern. Wir werden deshalb die /read/id -Ansicht so \u00e4ndern, dass der Datensatz in ein Formular eingef\u00fcgt wird. Formulare werden verwendet, um Nutzereingaben zu erm\u00f6glichen und die eingegebenen Daten zu verwalten, sie z.B. in einer Datenbank zu speichern. In Angular gibt es zwei verschiedene Ans\u00e4tze, Forumlare zu erstellen: reaktive Formulare werden in der TypeScript-Klasse konzipiert und basieren auf einem unver\u00e4nderlichen Datenmodell. Sie sind leichter zu skalieren als Template-basierte Formulare und besser wiederzuverwenden. Sie sind prinzipiell den Template-basierten Formularen vorzuziehen, au\u00dfer dass Formular ist sehr einfach und besteht z.B. nur aus einem einzigen Eingabefeld. Template-basierte Formulare basieren auf Direktiven im HTML. Sie sind sehr einfach zu erstellen (direkt im HTML), k\u00f6nnen aber weniger einfach evaluiert und getestet werden und sind f\u00fcr strukturierte (verschachtelte) Datenmodelle ungeeignet. F\u00fcr weitere Informationen zu Formularen in Angular siehe hier . Die beiden wesentlichen TypeScript-Klassen bei Formularen sind FormControl f\u00fcr ein einzelnes Steuerelement (z.B. ein input oder ein radio Button) und FormGroup f\u00fcr eine zusammenh\u00e4ngende Menge von Steuerlementen (einem Formular). Damit unsere ReadComponent nicht zu \u00fcberladen wird, erstellen wir f\u00fcr das Formular eine eigene Komponente. Diese Komponente wird eine Kindkomponente der ReadComponent . Wir erstellen die neue FormComponent deshalb in den Ordner der ReadComponent : ng g c members/read/form In der form.component.ts erstellen wir zun\u00e4chst mithilfe des FormBuilder s das Formular: src/app/members/read/form.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 import { Component , Input , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { } } Wir nennen das Formular form . Es ist vom Typ FormGroup (Zeile 10 ). Mithilfe der group() -Funktion des FormBuilder erstellen wir uns die vier FormControl -Elemente idControl , firstNameControl , lastNameControl und emailControl (Zeilen 13-21 ). Sie haben zun\u00e4chst keinen Wert (kein value , sind also zun\u00e4chst leer) und die Eingabe in die jeweiligen Felder soll \u00fcberpr\u00fcft werden ( Validators.required ). Diese FormGroup wird in unsere Eigenschaft form gespeichert. form kann man als Name unseres Formulars auffassen. Das HTML-Template des Formulars k\u00f6nnte wie folgt aussehen (Verwendung von Boostrap-Klassen): src/app/members/read/form.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 < form [ formGroup ]=\" form \" > < div class = \"form-group row\" > < label for = \"staticId\" class = \"col-sm-2 col-form-label\" > id </ label > < div class = \"col-sm-10\" > < input type = \"number\" class = \"form-control\" formControlName = \"idControl\" id = \"staticId\" readonly > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputFirstName\" class = \"col-sm-2 col-form-label\" > First Name </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"firstNameControl\" id = \"inputFirstName\" > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputLastName\" class = \"col-sm-2 col-form-label\" > Last Name </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"lastNameControl\" id = \"inputLastName\" > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputEmail\" class = \"col-sm-2 col-form-label\" > E-Mail </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"emailControl\" id = \"inputEmail\" > </ div > </ div > < div class = \"form-group row\" > < div class = \"col-sm-6\" > < button type = \"submit\" class = \"btn btn-primary btn-block\" [ disabled ]=\"! form . valid \" > Update </ button > </ div > < div class = \"col-sm-6\" > < button type = \"cancel\" class = \"btn btn-secondary btn-block\" > Cancel </ button > </ div > </ div > </ form > In Zeile 3 erfolgt durch [formGroup]=\"form\" ein sogenantes property binding , d.h. eine Eigenschaft (ein Attribut) des <form> -Elementes wird an einen Wert aus der zugeh\u00f6rigen TypeScript-Klasse gebunden. Uns gen\u00fcgt es, das gesamte Forumlar form an die gesamte FormGroup zu binden. Falls Sie einzelne Werte aus den Formularen einzeln auswerten m\u00f6chten, k\u00f6nnen Sie die einzelnen FormControl -Elemente auch in den einzelnen <input> -Elementen mittels z.B. [formControl]=\"firstNameControl\" binden. Siehe dazu z.B. hier .","title":"Formular f\u00fcr einen Datensatz"},{"location":"backendanbindung/#einbinden-der-formcomponent-in-die-readcomponent","text":"Wir binden die FormComponent \u00fcber den Komponentenselktor der FormComponent in die ReadComponent ein. Dies erfolgt f\u00fcr den Fall, dass die selectedId der ReadComponent gr\u00f6\u00dfer als 0 ist (wir also nicht alle Datens\u00e4tze in der Tabelle ausgeben, sondern nur genau einen Datensatz) und darin f\u00fcr den Fall, dass wir keinen error haben (also keinen entsprechenden Datensatz gefunden): src/app/members/read.component.html (Auszug) 37 38 39 40 41 42 43 44 < div * ngIf = \"member\" > < p > {{ member?.id }} </ p > < p > {{ member?.firstname }} </ p > < p > {{ member?.lastname }} </ p > < p > {{ member?.email }} </ p > < app-form ></ app-form > </ div > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > Wir k\u00f6nnten die Liste der <p> -Elemente an dieser Stelle auch schon vollst\u00e4ndig durch das Formular ersetzen. An die Stelle des Komponentenselektors <app-form></form>app-form> wird das Formular eingef\u00fcgt. Es wird jetzt auch bereits angezeigt. \u00d6ffnen Sie dazu im Browser unter der URL http://localhost:4200/read und klicken Sie auf einen Edit -Icon in der rechten Spalte.","title":"Einbinden der FormComponent in die ReadComponent"},{"location":"backendanbindung/#datenfluss-von-eltern-nach-kindkomponente","text":"In der Elternkomponente ReadComponent sind die Daten des Datensatzes, der im Formular angezeigt werden soll, unter der Eigenschaft member verf\u00fcgbar. Die Frage ist nun, wie diese Daten von der Eltern- auf die Kondkomponente \u00fcbertragen werden k\u00f6nnen. Dazu werden zwei Konzepte verwendet: In der Kindkomponente ( der *.ts der Kindkomponente) wird mithilfe des @Input() - decorators eine Eigenschaft der Kindkomponente festgelegt, in die die Daten der Elternkomponente aufgenommen werden sollen. Wir werden dazu die Anweisung @Input() data: Data; unserer Kindkomponente (der FormComponent ) hinzuf\u00fcgen. In der Elternkomponente (der *.html der Elternkomponente) werden mithilfe von property binding dem Komponentenselktor der Kindkomponente die Daten \u00fcbergeben. Wir werden deshalb den Aufruf des Komponentenselektors in der readComponent erweitern um <app-form [data]=\"member\"></app-form> , d.h. die Eigenschaft data der Kindkomponente bekommt den Wert der Eigenschaft member der Elternkomponente \u00fcbergeben. Die generelle Syntax der property binding an den Kindselektoren sieht so aus: <app-child> [childProperty]=\"parentProperty\" </app-child> wobei in der child.component.ts definiert sein muss: @Input() childProperty: Typ; Wir erweitern also unsere form.component.ts (unsere Kindkomponente) um: src/app/members/read/form.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Component , Input , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Data } from '../../../shared/data' ; import { Location } from '@angular/common' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { @ Input () data : Data ; form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { /* und hier der Rest - gekuerzt */ und die read.component.html um src/app/members/read.component.html (nur der Komponentenselektor) 42 < app-form [ data ]=\" member \" ></ app-form > Weitere Informationen zum Datenfluss von der Eltern- auf die Kindkomponente finden Sie hier . Nun k\u00f6nnen k\u00f6nnen wir die Werte in unser Formular einf\u00fcgen. Um die Werte in das Formular einzutragen, bietet die Klasse FormGroup zwei Funktionen an: setValue() - setzt f\u00fcr alle FormControl -Elemente innerhalb der FormGroup einen Wert ( value ) patchValue() - kann allen oder bestimmten (einzelnen) FormControl -Elementen einen Wert ( value ) zuweisen. Wir verwenden patchValue() , Sie k\u00f6nnen aber auch setValue() ausprobieren: src/app/members/read/form.component.ts (Auszug) 26 27 28 29 30 31 32 33 ngOnInit () : void { this . form . patchValue ({ idControl : this . data ? . id , firstNameControl : this . data ? . firstname , lastNameControl : this . data ? . lastname , emailControl : this . data ? . email }); } Wenn Sie jetzt den Browser \u00f6ffnen, sollten die entsprechenden Werte in das Formular eingetragen sein.","title":"Datenfluss von Eltern- nach Kindkomponente"},{"location":"backendanbindung/#ereignisse-zum-formular-hinzufugen","text":"Wir f\u00fcgen dem Formular noch zwei Ereignisse hinzu. Das eine Ereignis ( submit ) wird ausgel\u00f6st, wenn das Formular versendet wird, also auf den submit -Button gedr\u00fcckt wird. Das andere Ereignis h\u00e4ngen wir an den cancel -Button. Wir f\u00fcgen die Ereignisse in der form.component.html hinzu: src/app/members/read/form.component.html (Auszug) 1 2 3 4 5 6 7 8 9 < form [ formGroup ]=\" form \" ( ngSubmit )=\" onSubmit ()\" > <!-- gekuerzt - siehe oben --> < div class = \"col-sm-6\" > < button type = \"cancel\" class = \"btn btn-secondary btn-block\" ( click )=\" cancel ()\" > Cancel </ button > </ div > </ div > </ form > Um sich an das submit -Ereignis anzumelden, wird f\u00fcr das <form> -Element (ngSubmit) hinzugef\u00fcgt und als dessen Wert die Funktion, die aufgerufen werden soll, beim Absenden des Formulars - hier die Funktion onSubmit() (die wir gleich noch in form.component.ts einf\u00fcgen werden). F\u00fcr den Cancel -Button melden wir uns an das click -Ereignis mithilfe von (click) und der Angabe der Funktion, die ausgef\u00fchrt werden soll (hier cancel() ) an. Jetzt m\u00fcssen noch die beiden Ereignisbehandlungsfunktionen in die form.component.ts eingef\u00fcgt werden. In der Funktion onSubmit() geben wir zun\u00e4chst nur alle Werte auf die Konsole aus, die in den <input> -Elementen beim Absenden des Formulars standen. Wir werden diese Funktion in den folgenden Abschnitten ausbauen. In der Funktion cancel() wollen wir zur\u00fcck zur Tabelle wechseln (also alle Datens\u00e4tze anzeigen) und das Formular nicht absenden. Dazu verwenden wir die Klasse Location und deren Funktion back() . Die Funktion back() wirkt genauso als w\u00fcrden wir im Browser in der Browserhistorie zur\u00fcckbl\u00e4ttern. Weitere Information zur Klasse Location finden Sie hier . src/app/members/read/form.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 import { Component , Input , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Data } from '../../../shared/data' ; import { Location } from '@angular/common' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { @ Input () data : Data ; form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { this . form . patchValue ({ idControl : this . data ? . id , firstNameControl : this . data ? . firstname , lastNameControl : this . data ? . lastname , emailControl : this . data ? . email }); } onSubmit () : void { // TODO: Use EventEmitter with form value console . warn ( this . form . value ); } cancel () : void { this . location . back (); } } Wenn Sie nun auf den Button Update klicken, dann erscheinen alle Werte aus dem Formular als ein JSON auf der Konsole. Beachten Sie, dass alle Felder ausgef\u00fcllt sein m\u00fcssen. Sobald ein input -Feld leer ist, ist der Button Update deaktiviert. Das id -Feld ist readonly und kann nicht ver\u00e4ndert werden. Wenn Sie auf den Cancel -Button klicken, gelangen Sie zur\u00fcck zur Tabelle. Success Wir haben uns ein reaktives Formular in einer Kindkomponente erstellt und haben Daten von der Eletern- auf die Kindkomponente flie\u00dfen lassen. Au\u00dferdem haben wir dem Formular zwei Ereignisse hinzugef\u00fcgt. Jetzt w\u00e4re es Zeit, die Anwendung ein wenig aufzur\u00e4umen und die Darstellung zu verbessern. Beispielsweise k\u00f6nnten Sie jetzt eine Navigations-Komponente hinzuf\u00fcgen (wie in \u00dcbung 6) und alle unn\u00f6tigen Ausgaben aus den HTML-Templates herausnehmen. Die Anwendung k\u00f6nnte jetzt z.B. so aussehen (je nachdem, ob und wie Sie sie noch gestaltet haben): Den vollst\u00e4ndigen Code f\u00fcr diesen Abschnitt (bis hier her) finden Sie hier .","title":"Ereignisse zum Formular hinzuf\u00fcgen"},{"location":"backendanbindung/#u-update","text":"Wenn wir das Formular f\u00fcr einen einzelnen Datensatz angezeigt bekommen (z.B. http://localhost:4200/read/54 ): , dann mit dem Ziel, Daten in diesem Datensatz zu \u00e4ndern und die \u00c4nderungen zu speichern. Das hei\u00dft, wir wollen ein update durchf\u00fchren. Siehe im Backend dazu U - update . Zuvor schauen wir uns aber noch das allgemeine Prinzip daf\u00fcr an, Daten von der Kindkomponente an die Elternkoponente zur\u00fcckzugeben, denn wir haben die Daten des Formulars ja in der FormComponent , die innerhalb der ReadComponent eingebunden wurde. Der Datenfluss von Eltern- auf Kindkomponente wurde bereits hier erl\u00e4utert. Nun sollen die Daten andersherum flie\u00dfen, also von der Kind- zur Elternkoponente.","title":"U - update"},{"location":"backendanbindung/#datenfluss-von-kind-nach-elternkomponente","text":"Die form.component.ts (also die TypeScript-Klasse der Kindkomponente) sieht bis jetzt so aus: src/app/members/read/form.component.ts import { Component , Input , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Data } from '../../../shared/data' ; import { Location } from '@angular/common' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { @ Input () data : Data ; form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { this . form . patchValue ({ idControl : this . data ? . id , firstNameControl : this . data ? . firstname , lastNameControl : this . data ? . lastname , emailControl : this . data ? . email }); } onSubmit () : void { // TODO: Use EventEmitter with form value console . warn ( this . form . value ); } cancel () : void { this . location . back (); } } Die onSubmit() -Funktion wird aufgerufen, wenn wir den Update -Button in unserem Formular klicken. Wir erweitern diese Klasse nun derart, dass die Daten aus dem Formular ( this.form.value ) an die Elternkomponente ( ReadComponent ) geleitet werden, damit sie von dort aus an das Backend f\u00fcr das update \u00fcbertragen werden k\u00f6nnen. Dazu erweitern wir zun\u00e4chst form.component.ts : src/app/members/read/form.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 import { Component , Input , OnInit , Output , EventEmitter } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Data } from '../../../shared/data' ; import { Location } from '@angular/common' ; @ Component ({ selector : 'app-form' , templateUrl : './form.component.html' , styleUrls : [ './form.component.css' ] }) export class FormComponent implements OnInit { @ Input () data : Data ; @ Output () updateEvent = new EventEmitter < Data > (); form : FormGroup ; constructor ( private fb : FormBuilder , private location : Location ) { this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { this . form . patchValue ({ idControl : this . data ? . id , firstNameControl : this . data ? . firstname , lastNameControl : this . data ? . lastname , emailControl : this . data ? . email }); } onSubmit () : void { const values = this . form . value ; this . data . id = values . idControl ; this . data . firstname = values . firstNameControl ; this . data . lastname = values . lastNameControl ; this . data . email = values . emailControl ; this . updateEvent . emit ( this . data ); } cancel () : void { this . location . back (); } } In Zeile 1 importieren wir nun auch noch Output und EventEmitter . Au\u00dferdem f\u00fcgen wir in Zeile 13 eine weitere Eigenschaft updateEvent vom Typ EventEmitter hinzu. Diese dekorieren wir mit @Output und geben damit an, dass der Wert dieser Eigenschaft von der Kind- an die Elternkomponente \u00fcbertragen wird. In Zeile 42 verwenden wir den EventEmitter updateEvent und rufen daf\u00fcr die emit() -Funktion auf. Damit wird das Ereignis updateEvent ausgel\u00f6st. Wir \u00fcbergeben diesem Ereignis data vom Typ Data . Die einzelnen Werte von data werden in den Zeilen 38-41 aus den Werten aus dem Formular ( values = form.value ) gesetzt. Weitere Informationen zu EventEmitter finden Sie hier . In der Elternkomponente, der ReadComponent f\u00fcgen wir zwei Sachen hinzu: in der read.component.ts wird die Ereignisbehandlung des updateEvents hinzugef\u00fcgt und in der read.component.html f\u00fcgen wir ein property bindung zum Komponentenselektor der Kindkomponente hinzu src/app/members/read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute , Router } from '@angular/router' ; import { HttpErrorResponse } from '@angular/common/http' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ], }) export class ReadComponent implements OnInit { members : Data []; member : Data ; selectedId : number ; error : HttpErrorResponse ; constructor ( private cs : BackendService , private route : ActivatedRoute , private router : Router ) { } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); // nur fuer debug this . readOne ( this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } readOne ( id : number ) : void { this . cs . getDataById ( id ). subscribe ( ( response : Data ) => this . member = response , error => this . error = error , ); } update ( data : Data ) : void { this . member = data ; this . cs . update ( this . member . id , this . member ); this . router . navigateByUrl ( '/read' ); } } src/app/members/read.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 < div * ngIf = \"selectedId == 0\" class = \"container\" > < h2 > All members </ h2 > < table class = \"table table-striped table-hover\" > < caption > List of Members </ caption > < thead > < tr > < th > Nr. </ th > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail </ th > < th > Edit </ th > </ tr > </ thead > < tbody > < tr * ngFor = \"let member of members; let i=index; trackBy: trackByData\" > < td > {{ i+1 }} </ td > < td > {{member.firstname}} </ td > < td > {{member.lastname}} </ td > < td > {{member.email}} </ td > < td >< a [ routerLink ]=\"['/ read /', member . id ]\" >< i-bs name = \"pencil-square\" class = \"text-secondary\" width = \"1rem\" height = \"1rem\" > </ i-bs ></ a ></ td > </ tr > </ tbody > </ table > </ div > < div * ngIf = \"selectedId > 0\" class = \"container\" > < div * ngIf = \"error\" > < h1 > {{ selectedId }} </ h1 > < p > {{ error?.message }} </ p > < p > {{ error?.status }} </ p > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > < div * ngIf = \"member\" > < app-form [ data ]=\" member \" ( updateEvent )=\" update ($ event )\" ></ app-form > </ div > </ div > In der read.component.ts wurde in den Zeilen 47-51 also einfach eine update -Funktion hinzugef\u00fcgt, welche somit eine weitere Eigenschaft der TypeScript-Klasse der ReadComponent ist. In dieser Funktion wird zun\u00e4chst die update -Funktion des BackendService aufgerufen (erstellen wir gleich) und danach die Route /read - also das Anzeigen aller Datens\u00e4tze in der Tabelle. In der read.component.html wurde der Komponentenselektor <app-form></app-form> um ein weiteres Attribut erweitert. Nachdem wir dort bereits mithilfe der property binding [data]=\"member\" den Datenfluss von der Eltern- auf die Kindkomponente spezifiziert hatten, kommt nun ein Ereignis-Attribut hinzu. Wir binden das updateEvent der Kindklasse an das update -Event der Elternklasse. Die generelle Syntax sieht so aus: Die generelle Syntax der property binding an den Kindselektoren sieht so aus: <app-child> (childEvent)=\"parentMethod($event)\" </app-child> wobei in der child.component.ts definiert sein muss: @Output() childEvent: EventEmitter; sowie die parentMethod() in der parent.component.ts . Mithilfe der Banana-Syntax [()] k\u00f6nnen @Input und @Output \u00fcbrigens kombiniert werden. Siehe dazu two way binding . In der (Eltern-)Komponente read.component.ts kommen jetzt bei Klicken des Buttons Update die Werte aus dem Formular an. Diese werden nun verwendet, um die update -Funktion im Backend aufzurufen und den Datensatz zu aktualisieren. Dazu erweitern wir den BackendService um eine update -Funktion: src/app/shared/backend.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; import { Observable } from 'rxjs' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class BackendService { baseUrl = 'http://localhost:3000/members' ; constructor ( private http : HttpClient ) { } getAll () : Observable < Data [] > { return this . http . get < Data [] > ( this . baseUrl ); } getDataById ( dataId : number ) : Observable < Data > { return this . http . get < Data > ( this . baseUrl + '/' + dataId ); } update ( dataId : number , data : Data ) : void { this . http . put < Data > ( this . baseUrl + '/' + dataId , data ) . subscribe ( response => { console . log ( response ); console . log ( response . id ); }, error => { console . log ( error ); } ); } } Die put -Funktion des HttpClient (siehe z.B. hier ) erzeugt ein Observable , das mithilfe der subscribe() -Funktion ausgef\u00fchrt werden kann. Subscribe() hat zwei Parameter next und error und f\u00fcr beide kann eine Callback -Funktion definert werden. Die hier definierten Funktionen geben nur entweder die response oder den error auf die Konsole aus. Damit kann nun auch ein Datensatz ge\u00e4ndert werden ( update ) - siehe U - update im Backend. Beachten Sie, dass wir hier weder eine Meldung des erfolgreichen Updates implementiert haben, noch eine eventuelle Fehlermeldung. F\u00fcr beides w\u00e4re die UpdateComponent geeignet. Wir leiten aber direkt nach dem Update an die Tabelle aller Datens\u00e4tze weiter.","title":"Datenfluss von Kind- nach Elternkomponente"},{"location":"backendanbindung/#d-delete-one","text":"Um einen Datensatz zu l\u00f6schen, bauen wir in unseren BackendService die Funktion deleteOne(dataId: number) ein, in der wir die delete() -Funktion des Backends aufrufen: src/app/shared/backend.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 import { Injectable } from '@angular/core' ; import { HttpClient } from '@angular/common/http' ; import { Observable } from 'rxjs' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class BackendService { baseUrl = 'http://localhost:3000/members' ; constructor ( private http : HttpClient ) { } getAll () : Observable < Data [] > { return this . http . get < Data [] > ( this . baseUrl ); } getDataById ( dataId : number ) : Observable < Data > { return this . http . get < Data > ( this . baseUrl + '/' + dataId ); } update ( dataId : number , data : Data ) : void { this . http . put < Data > ( this . baseUrl + '/' + dataId , data ) . subscribe ( response => { console . log ( response ); console . log ( response . id ); }, error => { console . log ( error ); } ); } deleteOne ( dataId : number ) : void { this . http . delete < Data > ( this . baseUrl + '/' + dataId ) . subscribe ( response => { console . log ( response ); console . log ( response . id ); }, error => { console . log ( error ); } ); } } Diese Funktion muss nun an geeigneter Stelle aufgerufen werden. Es bleibt Ihnen \u00fcberlassen, wo und wie Sie diese Funktion aufrufen, um einen Datensatz zu l\u00f6schen. Sie k\u00f6nnten z.B. die DeleteComponent verwenden, die Sie \u00fcber die Route /delte/:id erreichen und dort den Datensatz mit der entsprechenden id l\u00f6schen. Das w\u00e4re dann das gleiche Verfahren, wie wir das f\u00fcr das Aktualisiern/\u00c4ndern eines Datensatzes gemacht haben. Wir machen das hier etwas anders, aber der Beginn ist sicherlich der gleiche. Wir f\u00fcgen in der \u00dcbersicht aller Datens\u00e4tze, also in der Tabelle unter der Route /read eine weitere Spalte mit einem entsprechenden Icon hinzuf\u00fcgen. Wir w\u00e4hlen aus den Bootstrap-Icons das Trash -Icon aus und f\u00fcgen es der app.module.ts hinzu: Ausschnitt aus src/app/app.module.ts 25 26 27 28 29 /* siehe https://avmaisak.github.io/ngx-bootstrap-icons/ */ const icons = { PencilSquare , Trash , }; Unter Verwendung des Icons f\u00fcgen wir in der Tablle der ReadComponent eine weitere Spalte hinzu: Ausschnitt aus src/app/members/read/read.component.html 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 < table class = \"table table-striped table-hover\" > < caption > List of Members </ caption > < thead > < tr > < th > Nr. </ th > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail </ th > < th > Edit </ th > < th > Delete </ th > </ tr > </ thead > < tbody > < tr * ngFor = \"let member of members; let i=index; trackBy: trackByData\" > < td > {{ i+1 }} </ td > < td > {{member.firstname}} </ td > < td > {{member.lastname}} </ td > < td > {{member.email}} </ td > < td >< a [ routerLink ]=\"['/ read /', member . id ]\" >< i-bs name = \"pencil-square\" class = \"text-secondary\" width = \"1em\" height = \"1em\" > </ i-bs ></ a ></ td > < td >< i-bs name = \"trash\" class = \"text-secondary\" width = \"1em\" height = \"1em\" ( click )=\" open ( content , member . id )\" > </ i-bs ></ td > </ tr > </ tbody > </ table > Wie gesagt, Sie k\u00f6nnten hier auch wie f\u00fcr beim Update verfahren und anstelle des click -Ereignisses einen <a [routerLink]=\"['/delete/', member.id]\"> einf\u00fcgen. Dann machen Sie Ihre DeleteComponent zu einer Kindkomponente der ReadComponent und gehen genau so vor, wie bei der UpdateComponent . Wir behandeln hier stattdessen das click -Ereignis, um einen modalen Dialog zu \u00f6ffnen. Dazu geben wir in unserem Projektordner zun\u00e4chst ng add @ng-bootstrap/ng-bootstrap ein. Gute modale Dialoge gibt es auch von Material , wir w\u00e4hlen hier Bootstrap. Wir binden das neue Bootstrap-Modul in die app.module.ts , falls das nicht automatisch durch die add -Anweisung erfolgt ist: src/app/app.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { ReadComponent } from './members/read/read.component' ; import { CreateComponent } from './members/create/create.component' ; import { UpdateComponent } from './members/update/update.component' ; import { DeleteComponent } from './members/delete/delete.component' ; import { HttpClientModule } from '@angular/common/http' ; import { NgxBootstrapIconsModule , PencilSquare , Trash } from 'ngx-bootstrap-icons' ; import { FormComponent } from './members/read/form/form.component' ; import { ReactiveFormsModule } from '@angular/forms' ; import { BrowserAnimationsModule } from '@angular/platform-browser/animations' ; import { NavComponent } from './nav/nav.component' ; import { LayoutModule } from '@angular/cdk/layout' ; import { MatToolbarModule } from '@angular/material/toolbar' ; import { MatButtonModule } from '@angular/material/button' ; import { MatSidenavModule } from '@angular/material/sidenav' ; import { MatIconModule } from '@angular/material/icon' ; import { MatListModule } from '@angular/material/list' ; import { CommonModule } from '@angular/common' ; import { NgbModule } from '@ng-bootstrap/ng-bootstrap' ; /* siehe https://avmaisak.github.io/ngx-bootstrap-icons/ */ const icons = { PencilSquare , Trash , }; @ NgModule ({ declarations : [ AppComponent , ReadComponent , CreateComponent , UpdateComponent , DeleteComponent , FormComponent , NavComponent ], imports : [ BrowserModule , AppRoutingModule , HttpClientModule , NgxBootstrapIconsModule . pick ( icons ), ReactiveFormsModule , BrowserAnimationsModule , LayoutModule , MatToolbarModule , MatButtonModule , MatSidenavModule , MatIconModule , MatListModule , CommonModule , NgbModule ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Sowohl in der read.component.ts als auch in der read.component.html kommt jetzt eine ganze Menge hinzu. Hier w\u00e4re es eigentlich f\u00fcr die \u00dcbersichtlichkeit besser, eine eigene Komponente f\u00fcr den modalen Dialog zu erstellen. Dieser w\u00e4re eine Kindkomponente der ReadComponent . Die Daten von member w\u00fcrden wir an diese Kindkomponente \"flie\u00dfen\" lassen und wir w\u00fcrden das Ereignis, das best\u00e4tigt, dass der Datensatz gel\u00f6scht werden soll, an die Elternkomponente \u00fcber den EventEmitter zur\u00fccksenden. Das k\u00f6nnen Sie ja nochmal durchspielen. Wir packen hier alles (wie gesagt, f\u00e4lschlicherweise) in die ReadComponent : src/app/members/read/read.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 import { Component , OnInit } from '@angular/core' ; import { BackendService } from '../../shared/backend.service' ; import { Data } from '../../shared/data' ; import { ActivatedRoute , Router } from '@angular/router' ; import { HttpErrorResponse } from '@angular/common/http' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Observable } from 'rxjs' ; import { NgbModal , NgbModalConfig } from '@ng-bootstrap/ng-bootstrap' ; @ Component ({ selector : 'app-read' , templateUrl : './read.component.html' , styleUrls : [ './read.component.css' ], }) export class ReadComponent implements OnInit { members : Data []; member : Data ; selectedId : number ; path : Observable < string > ; error : HttpErrorResponse ; closeResult = '' ; form : FormGroup ; constructor ( private cs : BackendService , private route : ActivatedRoute , private router : Router , config : NgbModalConfig , private modalService : NgbModal , private fb : FormBuilder , ) { // Konfiguration des modalen Dialogs config . backdrop = 'static' ; // schliesst nicht, wenn man in das Fenster dahinter klickt config . keyboard = false ; // Modaler Dialog kann nicht durch ESC beendet werden // Formular fuer delete this . form = this . fb . group ( { idControl : [ '' , Validators . required ], firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); } ngOnInit () : void { this . selectedId = Number ( this . route . snapshot . paramMap . get ( 'id' )); if ( this . selectedId === 0 ) { this . readAll (); } else { console . log ( 'id = ' + this . selectedId ); // nur fuer debug this . readOne ( this . selectedId ); } } trackByData ( index : number , data : Data ) : number { return data . id ; } readAll () : void { this . cs . getAll (). subscribe ( ( response : Data []) => this . members = response , error => console . log ( error ) ); } readOne ( id : number ) : void { this . cs . getDataById ( id ). subscribe ( ( response : Data ) => this . member = response , error => this . error = error , ); } update ( data : Data ) : void { this . member = data ; this . cs . update ( this . member . id , this . member ); this . router . navigateByUrl ( '/read' ); } deleteOne ( id : number ) : void { this . cs . deleteOne ( id ); window . location . reload (); } open ( content , id : number ) : void { this . readOne ( id ); this . modalService . open ( content , { ariaLabelledBy : 'modal-basic-title' }). result . then (( result ) => { this . closeResult = `Closed with: ${ result } ` ; console . log ( this . closeResult ); if ( result === 'delete' ) { this . deleteOne ( this . member ? . id ); } }); } } In Zeile 8 importieren wir zun\u00e4chst die f\u00fcr den modalen Dialog ben\u00f6tigten Module (Sie k\u00f6nnen auch Zeilen 28 und 29 eingeben und den Import durch die IDE erledigen lassen) In Zeile 21 definieren wir uns eine Eigenschaft, in die ausgelesen wird, wie wir den modalen Dialog verlassen haben (durch Cancel -Button oder durch Delete -Button oder durch Klicken des Schlie\u00dfen-Kreuzes rechts oben im Dialog) In den Zeilen 28-29 binden wir die f\u00fcr den modalen Dialog notwendigen Module ein. NgModalConfig dient der Konfiguration, siehe Zeilen 33 und 34 In Zeile 33 konfigurieren wir, dass der modale Dialog nur durch ein Klick-Ereignis auf dem Dialog (Buttons oder Kreuz) verlassen werden kann, nicht jedoch, indem man einfach in das dahinterliegende Fenster klickt. In Zeile 34 konfigurieren wir, dass der modale Dialog auch nicht durch Dr\u00fccken der ESC -Taste verlassen werden kann. In den Zeilen 36-43 definieren wir das Men\u00fc, das in dem modalen Dialog erscheinen soll. Das Vorgehen kennen wir bereits aus UpdateComponent . In den Zeilen 78-81 definieren wir die Funktion, die die deleteOne() -Funktion des BackendService aufruft. Zeile 80 f\u00fchrt zu einem Reload der aktuellen Seite (die ReadComponent - die Tabelle- wird neu geladen, nachdem wir den modalen Dialog verlassen und einen Datensatz gel\u00f6scht haben). In den Zeilen 83-93 ist die open() -Funktion zum \u00d6ffnen des modalen Dialogs definiert. Dieser Funktion wird die id des Datensatzes \u00fcbergeben, den wir l\u00f6schen wollen. Mithilfe dieser id lesen wir den Datensatz in unsere member -Eigenschaft ein ( this.readOne(id) ). Danach \u00f6ffnen wir den Dialog mithilfe der open() -Funktion von NgbModal . Die Zeilen 86 und 87 sind nur zum Debuggen. Sie k\u00f6nnen gel\u00f6scht werden - und dann auch Zeile 21 , wenn Sie m\u00f6chten. In result steht nach dem Schlie\u00dfen des Dialogs, mit welchem Button wir den Dialog beendet haben. Wenn es der Delete -Button war, dann rufen wir die deleteOne() -Funktion auf, die dann den Datensatz tats\u00e4chlich l\u00f6scht. In der read.component.html f\u00fcgen wir das Template des modalen Dialogs hinzu: src/app/members/read/read.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 < div * ngIf = \"selectedId == 0\" class = \"container\" > < h2 > All members </ h2 > < table class = \"table table-striped table-hover\" > < caption > List of Members </ caption > < thead > < tr > < th > Nr. </ th > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail </ th > < th > Edit </ th > < th > Delete </ th > </ tr > </ thead > < tbody > < tr * ngFor = \"let member of members; let i=index; trackBy: trackByData\" > < td > {{ i+1 }} </ td > < td > {{member.firstname}} </ td > < td > {{member.lastname}} </ td > < td > {{member.email}} </ td > < td >< a [ routerLink ]=\"['/ read /', member . id ]\" >< i-bs name = \"pencil-square\" class = \"text-secondary\" width = \"1em\" height = \"1em\" > </ i-bs ></ a ></ td > < td >< i-bs name = \"trash\" class = \"text-secondary\" width = \"1em\" height = \"1em\" ( click )=\" open ( content , member . id )\" > </ i-bs ></ td > </ tr > </ tbody > </ table > </ div > < div * ngIf = \"selectedId > 0\" class = \"container\" > < div * ngIf = \"error\" > < h1 > {{ selectedId }} </ h1 > < p > {{ error?.message }} </ p > < p > {{ error?.status }} </ p > < p >< a [ routerLink ]=\"['/ read ']\" > Zur\u00fcck zur Tabelle </ a ></ p > </ div > < div * ngIf = \"member\" > < app-form [ data ]=\" member \" ( updateEvent )=\" update ($ event )\" ></ app-form > </ div > </ div > <!-- modaler Dialog fuer das Loeschen --> < ng-template # content let-modal > < div class = \"modal-header\" > < h4 class = \"modal-title\" id = \"modal-basic-title\" > Confirm delete </ h4 > < button type = \"button\" class = \"close\" aria-label = \"Close\" ( click )=\" modal . dismiss (' cancel ')\" > < span aria-hidden = \"true\" > &times; </ span > </ button > </ div > < div class = \"modal-body\" > < h4 style = \"color: red\" > Do you really want to delete this data set? </ h4 > < form [ formGroup ]=\" form \" > < div class = \"form-group\" > < label for = \"inpId\" > id </ label > < div class = \"input-group\" > < input id = \"inpId\" class = \"form-control\" formControlName = \"idControl\" value = \"{{ member?.id }}\" readonly > </ div > </ div > < div class = \"form-group\" > < label for = \"inpFN\" > firstname </ label > < div class = \"input-group\" > < input id = \"inpFN\" class = \"form-control\" formControlName = \"firstNameControl\" value = \"{{ member?.firstname }}\" readonly > </ div > </ div > < div class = \"form-group\" > < label for = \"inpLN\" > lastname </ label > < div class = \"input-group\" > < input id = \"inpLN\" class = \"form-control\" formControlName = \"lastNameControl\" value = \"{{ member?.lastname }}\" readonly > </ div > </ div > < div class = \"form-group\" > < label for = \"inpEmail\" > email </ label > < div class = \"input-group\" > < input id = \"inpEmail\" class = \"form-control\" formControlName = \"emailControl\" value = \"{{ member?.email }}\" readonly > </ div > </ div > </ form > </ div > < div class = \"modal-footer\" > < button type = \"button\" class = \"btn btn-secondary\" ( click )=\" modal . close (' cancel ')\" > Cancel </ button > < button type = \"button\" class = \"btn btn-primary\" ( click )=\" modal . close (' delete ')\" > Delete </ button > </ div > </ ng-template > Zu modalen Dialogen unter Verwendung von Bootstrap gibt es hier ausf\u00fchrliche Beispiele. Wir haben hier in den modalen Dialog noch ein Formular integriert. Weitere Informationen \u00fcber solche Bootstrap-Widgets dazu finden Sie auch hier und hier . Der modale Dialog erscheint, sobald Sie in der Tabelle in der rechten Spalte auf ein Trash -icon klicken. Es sollte dann so aussehen: Wenn Sie auf den Delete -Button klicken, wird der Datensatz tats\u00e4chlich gel\u00f6scht, wenn Sie Cancel klicken oder auf das Kreuz rechts oben, bleibt der Datensatz in der Datenbank. Nach dem L\u00f6schen des Datensatzes erfolgt ein Reload der Tabelle.","title":"D - delete one"},{"location":"backendanbindung/#refinement","text":"Wie gesagt, es w\u00e4re besser gewesen, f\u00fcr den modalen Dialog eine eigene Komponente als Kindkomponente der ReadComponent zu erstellen. Die member -Daten w\u00fcrden von der Eltern- an die Kindkomponente weitergeleitet werden und das Klicken des Delete -Buttons als Ereignis von der Kind- an die Elternkomponente . Da wir die DeleteComponent nicht nutzen, kann sie gel\u00f6scht werden, dann auch aus der app.module.ts und auch die Routen dorthin (aus der app-routing.module.ts ). Jetzt bleiben noch das Anlegen eines Datensatzes und, wenn Sie das \u00fcberhaupt wollen, das L\u00f6schen aller Datens\u00e4tze.","title":"Refinement"},{"location":"backendanbindung/#c-create","text":"F\u00fcr das Anlegen eines Datensatzes k\u00f6nnten wir einfach in unsere CreateComponent ein Formular erstellen, so wie beim Update oder dem L\u00f6schen eines Datensatzes. In der backend.service.ts f\u00fcgen wir die create() -Funktion hinzu: Ausschnitt aus src/app/shared/backend.service.ts 50 51 52 53 54 55 56 57 58 59 60 create ( data : Data ) : void { this . http . post < Data > ( this . baseUrl , data ) . subscribe ( response => { console . log ( response ); }, error => { console . log ( error ); } ); } Es wird die Methode post zum Senden des Datensatzes an das Backend gew\u00e4hlt. Die data enthalten firstname , lastname und email , aber keine id , da diese automatisch beim Einf\u00fcgen des Datensatzes in die Datenbank erzeugt wird. Wir k\u00f6nnen trotzdem den Typ Data w\u00e4hlen und lassen id einfach weg. Das Backend liest eh nur die drei genannten Eigenschaften aus. Die beiden Dateien der CreateComponent sehen dann so aus: src/app/members/create/create.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 import { Component , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { ActivatedRoute , Router } from '@angular/router' ; import { Data } from '../../shared/data' ; import { BackendService } from '../../shared/backend.service' ; @ Component ({ selector : 'app-create' , templateUrl : './create.component.html' , styleUrls : [ './create.component.css' ] }) export class CreateComponent implements OnInit { form : FormGroup ; data : Data ; constructor ( private cs : BackendService , private fb : FormBuilder , private route : ActivatedRoute , private router : Router ) { this . form = this . fb . group ( { firstNameControl : [ '' , Validators . required ], lastNameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ], } ); this . data = { id : 0 , firstname : '' , lastname : '' , email : '' }; } ngOnInit () : void { } onSubmit () : void { console . warn ( this . form . value ); const values = this . form . value ; this . data . firstname = values . firstNameControl ; this . data . lastname = values . lastNameControl ; this . data . email = values . emailControl ; console . log ( this . data ); this . cs . create ( this . data ); this . router . navigate ([ '/read' ]); } cancel () : void { this . router . navigate ([ '/read' ]); } } src/app/members/create/create.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 < div class = \"container\" > < form [ formGroup ]=\" form \" ( ngSubmit )=\" onSubmit ()\" > < div class = \"form-group row\" > < label for = \"inputFirstName\" class = \"col-sm-2 col-form-label\" > First Name </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"firstNameControl\" id = \"inputFirstName\" > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputLastName\" class = \"col-sm-2 col-form-label\" > Last Name </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"lastNameControl\" id = \"inputLastName\" > </ div > </ div > < div class = \"form-group row\" > < label for = \"inputEmail\" class = \"col-sm-2 col-form-label\" > E-Mail </ label > < div class = \"col-sm-10\" > < input type = \"text\" class = \"form-control\" formControlName = \"emailControl\" id = \"inputEmail\" > </ div > </ div > < div class = \"form-group row\" > < div class = \"col-sm-6\" > < button type = \"submit\" class = \"btn btn-primary btn-block\" [ disabled ]=\"! form . valid \" > Create </ button > </ div > < div class = \"col-sm-6\" > < button type = \"cancel\" class = \"btn btn-secondary btn-block\" ( click )=\" cancel ()\" > Cancel </ button > </ div > </ div > </ form > </ div > Sie enthalten nichts, was wir nicht schon kennen w\u00fcrden. Wenn wir jetzt in unserer Navigation auf Create klicken, also die Route /create ausw\u00e4hlen, dann \u00f6ffnet sich das Formular und wenn wir es bef\u00fcllen und mit dem Create -Button absenden, dann \u00f6ffnet sich die Tabelle mit allen Datens\u00e4tzen und hinten in der Tabelle wurde der Datensatz angeh\u00e4ngt. Success Wir haben nun die vier CRUD-Funktionen im Frontend implementiert und daf\u00fcr das Frontend an das Backend vollst\u00e4ndig angebunden. Auf die letzte durch das Backend zur Verf\u00fcgung gestellte Funktion deleteAll() verzichten wir. Der Entwicklungsstack MySQl <-> Backend <-> Frontend ist damit fertig und abgeschlossen. Wir haben nun alle Voraussetzungen besprochen, um die Semesteraufgabe zu erledigen. Im Januar werden wir uns noch mit JSON Web Tokens (JWT) befassen, um das Rechtemanagment in einer Anwnedung zu implementieren. Eventuell werden wir dann auch noch Drittanbieter-APIs (wie z.B. Google-Maps-API oder Twitter-API) verwenden - mal sehen. Ansonsten w\u00fcnsche ich allen ein frohes und gesundes Weihnachtsfest und einen guten Rutsch ins neue Jahr! Bleiben Sie gesund und viel Spa\u00df und Erfolg mit der Semesteraufgabe und dem restlichen Studium!","title":"C - create"},{"location":"books-backend/","text":"B\u00fccher-Backend \u00b6 Datenbank erstellen \u00b6 http://localhost/phpmyadmin Datei books-db.sql files/books-db.sql -- phpMyAdmin SQL Dump -- version 5.0.2 -- https://www.phpmyadmin.net/ -- -- Host: localhost -- Generation Time: Jul 15, 2020 at 02:36 PM -- Server version: 8.0.17 -- PHP Version: 7.3.11 SET SQL_MODE = \"NO_AUTO_VALUE_ON_ZERO\" ; START TRANSACTION ; SET time_zone = \"+00:00\" ; /*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */ ; /*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */ ; /*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */ ; /*!40101 SET NAMES utf8mb4 */ ; -- -- Database: `books-db` -- -- -------------------------------------------------------- -- -- Table structure for table `author` -- CREATE TABLE `author` ( `author_id` int ( 11 ) NOT NULL , `lastname` varchar ( 255 ) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL , `firstname` varchar ( 255 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Dumping data for table `author` -- INSERT INTO `author` (`author_id`, `lastname`, `firstname`) VALUES ( 1 , 'Malcher' , 'Ferdinand' ), ( 2 , 'Hoppe' , 'Johannes' ), ( 3 , 'Kopenhagen' , 'Danny' ), ( 4 , 'Zeigermann' , 'Oliver' ), ( 5 , 'Hartmann' , 'Nils' ), ( 6 , 'Bloch' , 'Joshua' ); -- -------------------------------------------------------- -- -- Table structure for table `author_book` -- CREATE TABLE `author_book` ( `id` int ( 11 ) NOT NULL , `author_id` int ( 11 ) NOT NULL , `book_id` int ( 11 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Dumping data for table `author_book` -- INSERT INTO `author_book` (`id`, `author_id`, `book_id`) VALUES ( 1 , 1 , 1 ), ( 2 , 2 , 1 ), ( 3 , 3 , 1 ), ( 4 , 4 , 2 ), ( 5 , 5 , 2 ), ( 6 , 6 , 3 ); -- -------------------------------------------------------- -- -- Table structure for table `books` -- CREATE TABLE `books` ( `book_id` int ( 11 ) NOT NULL , `isbn` varchar ( 30 ) NOT NULL , `title` varchar ( 50 ) NOT NULL , `published` date NOT NULL , `subtitle` varchar ( 255 ) NOT NULL , `rating` smallint ( 6 ) NOT NULL , `thumbnails` int ( 11 ) NOT NULL , `description` varchar ( 255 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Dumping data for table `books` -- INSERT INTO `books` (`book_id`, `isbn`, `title`, `published`, `subtitle`, `rating`, `thumbnails`, `description`) VALUES ( 1 , '9783864906466' , 'Angular' , '2019-04-30' , 'Grundlagen, fortgeschrittene Techniken und Best Practices - mit NativeScript und NgRx' , 5 , 1 , 'Die Autoren f\u00fchren Sie mit einem anspruchsvollen Beispielprojekt durch die Welt von Angular...' ), ( 2 , '9783864903274' , 'React' , '2016-06-17' , 'Die praktische Einf\u00fchrung in React, React Router und Redux' , 3 , 2 , 'React ist ein JavaScript-Framework zur Entwicklung von Benutzeroberfl\u00e4chen ...' ), ( 3 , '978-3-86490-578-0' , 'Effective Java' , '2018-09-01' , 'Best Practices f\u00fcr die Java-Plattform' , 3 , 3 , 'Seit der Vorauflage von Effective Java hat sich Java dramatisch ver\u00e4ndert...' ); -- -------------------------------------------------------- -- -- Table structure for table `thumbnail` -- CREATE TABLE `thumbnail` ( `id` int ( 11 ) NOT NULL , `url` varchar ( 255 ) NOT NULL , `title` varchar ( 255 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Dumping data for table `thumbnail` -- INSERT INTO `thumbnail` (`id`, `url`, `title`) VALUES ( 1 , 'https://ng-buch.de/cover2.jpg' , 'Buchcover' ), ( 2 , 'https://ng-buch.de/cover1.jpg' , 'Buchcover' ), ( 3 , 'https://www.dpunkt.de/common/images/cover_masterid/300/13216.jpg' , 'Buchcover' ); -- -- Indexes for dumped tables -- -- -- Indexes for table `author` -- ALTER TABLE `author` ADD PRIMARY KEY ( `author_id` ), ADD KEY `author_id` ( `author_id` ); -- -- Indexes for table `author_book` -- ALTER TABLE `author_book` ADD PRIMARY KEY ( `id` ), ADD UNIQUE KEY `id` ( `book_id` , `author_id` ), ADD KEY `author_id` ( `author_id` ); -- -- Indexes for table `books` -- ALTER TABLE `books` ADD PRIMARY KEY ( `book_id` ), ADD KEY `book_id` ( `book_id` ), ADD KEY `thumbnails` ( `thumbnails` ); -- -- Indexes for table `thumbnail` -- ALTER TABLE `thumbnail` ADD PRIMARY KEY ( `id` ); -- -- AUTO_INCREMENT for dumped tables -- -- -- AUTO_INCREMENT for table `author` -- ALTER TABLE `author` MODIFY `author_id` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 7 ; -- -- AUTO_INCREMENT for table `author_book` -- ALTER TABLE `author_book` MODIFY `id` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 7 ; -- -- AUTO_INCREMENT for table `books` -- ALTER TABLE `books` MODIFY `book_id` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 12 ; -- -- AUTO_INCREMENT for table `thumbnail` -- ALTER TABLE `thumbnail` MODIFY `id` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 4 ; -- -- Constraints for dumped tables -- -- -- Constraints for table `author_book` -- ALTER TABLE `author_book` ADD CONSTRAINT `author_book_ibfk_1` FOREIGN KEY ( `author_id` ) REFERENCES `author` ( `author_id` ), ADD CONSTRAINT `author_book_ibfk_2` FOREIGN KEY ( `book_id` ) REFERENCES `books` ( `book_id` ); -- -- Constraints for table `books` -- ALTER TABLE `books` ADD CONSTRAINT `books_ibfk_1` FOREIGN KEY ( `thumbnails` ) REFERENCES `thumbnail` ( `id` ); COMMIT ; /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */ ; /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */ ; /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */ ; Node.js-Projekt erstellen \u00b6 Ordner books-backend erstellen. In diesen Ordner wechseln. Im Ordner npm init ausf\u00fchren (es entsteht eine package.json ). mkdir books-backend cd books-backend npm init Alle Fragen mit einem Enter beantworten (oder etwas eingeben, wenn Sie m\u00f6chten). Jetzt noch die Packages express und mysql installieren. npm install express npm install mysql Im Ordner books-backend eine index.js erzeugen: books-backend/index.js const express = require ( 'express' ); const app = express (); app . listen ( 8081 , () => { console . log ( 'Server is listening to http://localhost:8081' ); }); Im Ordner books-backend einen Ordner books erzeugen. Darin eine index.js (f\u00fcr den Router), eine model.js (f\u00fcr die Datenbankanbindung) und eine controller.js (f\u00fcr die Aktionsverwaltung) erstellen. Einen Endpunkt ( localhost/books/authors ) erstellen, um alle Authoren aus der Datenbank auszulesen (mit GET ). /books/model.js const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , database : 'books-db' , }); connection . connect (); function getAllAuthors () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM author' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } module . exports = { getAllAuthors , }; /books/controller.js const model = require ( './model' ); function readAuthors ( request , response ) { model . getAllAuthors (). then ( authors => response . json ( authors ), error => response . json ( error ), ); } module . exports = { readAuthors , } /books/index.js const express = require ( 'express' ); const router = express . Router (); const { readAuthors } = require ( './controller' ); router . get ( '/authors' , readAuthors ); module . exports = router ; Zum Testen in Postman: http://localhost:8081/books/authors eingeben und GET -Methode w\u00e4hlen. Es erscheint das JSON mit allen Autoren: Response-Body [ { \"author_id\" : 1 , \"lastname\" : \"Malcher\" , \"firstname\" : \"Ferdinand\" }, { \"author_id\" : 2 , \"lastname\" : \"Hoppe\" , \"firstname\" : \"Johannes\" }, { \"author_id\" : 3 , \"lastname\" : \"Kopenhagen\" , \"firstname\" : \"Danny\" }, { \"author_id\" : 4 , \"lastname\" : \"Zeigermann\" , \"firstname\" : \"Oliver\" }, { \"author_id\" : 5 , \"lastname\" : \"Hartmann\" , \"firstname\" : \"Nils\" }, { \"author_id\" : 6 , \"lastname\" : \"Bloch\" , \"firstname\" : \"Joshua\" } ] GET - einen Autor auslesen \u00b6 Neu hinzugekommener Code highlighted: /books/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , database : 'books-db' , }); connection . connect (); function getAllAuthors () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM author' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } function getOneAuthor ( id ) { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM author WHERE author_id=?' ; connection . query ( query , [ id ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results [ 0 ]); }); }); } module . exports = { getAllAuthors , getAuthor ( id ) { return getOneAuthor ( id ) }, }; /books/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 const model = require ( './model' ); function readAuthors ( request , response ) { model . getAllAuthors (). then ( authors => response . json ( authors ), error => response . json ( error ), ); } function readAuthor ( request , response ) { model . getAuthor ( request . params . id ). then ( author => response . json ( author ), error => response . status ( 500 ). json ( error ), ); } module . exports = { readAuthors , readAuthor , } /books/index.js 1 2 3 4 5 6 7 8 const express = require ( 'express' ); const router = express . Router (); const { readAuthors , readAuthor } = require ( './controller' ); router . get ( '/authors' , readAuthors ); router . get ( '/author/:id' , readAuthor ); module . exports = router ; Zum Testen in Postman z.B. http://localhost:8081/books/author/4 (Autor mit der author_id 4) und GET aufrufen. POST - einen neuen Autoren anlegen und PUT - einen Autoren \u00e4ndern \u00b6 Ein neuer Autor bzw. die \u00c4nderungen werden als JSON dem Request-Body \u00fcbergeben. Dazu wird das Paket body-parser ben\u00f6tigt. npm install body-parser","title":"B\u00fccher-Backend"},{"location":"books-backend/#bucher-backend","text":"","title":"B\u00fccher-Backend"},{"location":"books-backend/#datenbank-erstellen","text":"http://localhost/phpmyadmin Datei books-db.sql files/books-db.sql -- phpMyAdmin SQL Dump -- version 5.0.2 -- https://www.phpmyadmin.net/ -- -- Host: localhost -- Generation Time: Jul 15, 2020 at 02:36 PM -- Server version: 8.0.17 -- PHP Version: 7.3.11 SET SQL_MODE = \"NO_AUTO_VALUE_ON_ZERO\" ; START TRANSACTION ; SET time_zone = \"+00:00\" ; /*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */ ; /*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */ ; /*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */ ; /*!40101 SET NAMES utf8mb4 */ ; -- -- Database: `books-db` -- -- -------------------------------------------------------- -- -- Table structure for table `author` -- CREATE TABLE `author` ( `author_id` int ( 11 ) NOT NULL , `lastname` varchar ( 255 ) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL , `firstname` varchar ( 255 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Dumping data for table `author` -- INSERT INTO `author` (`author_id`, `lastname`, `firstname`) VALUES ( 1 , 'Malcher' , 'Ferdinand' ), ( 2 , 'Hoppe' , 'Johannes' ), ( 3 , 'Kopenhagen' , 'Danny' ), ( 4 , 'Zeigermann' , 'Oliver' ), ( 5 , 'Hartmann' , 'Nils' ), ( 6 , 'Bloch' , 'Joshua' ); -- -------------------------------------------------------- -- -- Table structure for table `author_book` -- CREATE TABLE `author_book` ( `id` int ( 11 ) NOT NULL , `author_id` int ( 11 ) NOT NULL , `book_id` int ( 11 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Dumping data for table `author_book` -- INSERT INTO `author_book` (`id`, `author_id`, `book_id`) VALUES ( 1 , 1 , 1 ), ( 2 , 2 , 1 ), ( 3 , 3 , 1 ), ( 4 , 4 , 2 ), ( 5 , 5 , 2 ), ( 6 , 6 , 3 ); -- -------------------------------------------------------- -- -- Table structure for table `books` -- CREATE TABLE `books` ( `book_id` int ( 11 ) NOT NULL , `isbn` varchar ( 30 ) NOT NULL , `title` varchar ( 50 ) NOT NULL , `published` date NOT NULL , `subtitle` varchar ( 255 ) NOT NULL , `rating` smallint ( 6 ) NOT NULL , `thumbnails` int ( 11 ) NOT NULL , `description` varchar ( 255 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Dumping data for table `books` -- INSERT INTO `books` (`book_id`, `isbn`, `title`, `published`, `subtitle`, `rating`, `thumbnails`, `description`) VALUES ( 1 , '9783864906466' , 'Angular' , '2019-04-30' , 'Grundlagen, fortgeschrittene Techniken und Best Practices - mit NativeScript und NgRx' , 5 , 1 , 'Die Autoren f\u00fchren Sie mit einem anspruchsvollen Beispielprojekt durch die Welt von Angular...' ), ( 2 , '9783864903274' , 'React' , '2016-06-17' , 'Die praktische Einf\u00fchrung in React, React Router und Redux' , 3 , 2 , 'React ist ein JavaScript-Framework zur Entwicklung von Benutzeroberfl\u00e4chen ...' ), ( 3 , '978-3-86490-578-0' , 'Effective Java' , '2018-09-01' , 'Best Practices f\u00fcr die Java-Plattform' , 3 , 3 , 'Seit der Vorauflage von Effective Java hat sich Java dramatisch ver\u00e4ndert...' ); -- -------------------------------------------------------- -- -- Table structure for table `thumbnail` -- CREATE TABLE `thumbnail` ( `id` int ( 11 ) NOT NULL , `url` varchar ( 255 ) NOT NULL , `title` varchar ( 255 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Dumping data for table `thumbnail` -- INSERT INTO `thumbnail` (`id`, `url`, `title`) VALUES ( 1 , 'https://ng-buch.de/cover2.jpg' , 'Buchcover' ), ( 2 , 'https://ng-buch.de/cover1.jpg' , 'Buchcover' ), ( 3 , 'https://www.dpunkt.de/common/images/cover_masterid/300/13216.jpg' , 'Buchcover' ); -- -- Indexes for dumped tables -- -- -- Indexes for table `author` -- ALTER TABLE `author` ADD PRIMARY KEY ( `author_id` ), ADD KEY `author_id` ( `author_id` ); -- -- Indexes for table `author_book` -- ALTER TABLE `author_book` ADD PRIMARY KEY ( `id` ), ADD UNIQUE KEY `id` ( `book_id` , `author_id` ), ADD KEY `author_id` ( `author_id` ); -- -- Indexes for table `books` -- ALTER TABLE `books` ADD PRIMARY KEY ( `book_id` ), ADD KEY `book_id` ( `book_id` ), ADD KEY `thumbnails` ( `thumbnails` ); -- -- Indexes for table `thumbnail` -- ALTER TABLE `thumbnail` ADD PRIMARY KEY ( `id` ); -- -- AUTO_INCREMENT for dumped tables -- -- -- AUTO_INCREMENT for table `author` -- ALTER TABLE `author` MODIFY `author_id` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 7 ; -- -- AUTO_INCREMENT for table `author_book` -- ALTER TABLE `author_book` MODIFY `id` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 7 ; -- -- AUTO_INCREMENT for table `books` -- ALTER TABLE `books` MODIFY `book_id` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 12 ; -- -- AUTO_INCREMENT for table `thumbnail` -- ALTER TABLE `thumbnail` MODIFY `id` int ( 11 ) NOT NULL AUTO_INCREMENT , AUTO_INCREMENT = 4 ; -- -- Constraints for dumped tables -- -- -- Constraints for table `author_book` -- ALTER TABLE `author_book` ADD CONSTRAINT `author_book_ibfk_1` FOREIGN KEY ( `author_id` ) REFERENCES `author` ( `author_id` ), ADD CONSTRAINT `author_book_ibfk_2` FOREIGN KEY ( `book_id` ) REFERENCES `books` ( `book_id` ); -- -- Constraints for table `books` -- ALTER TABLE `books` ADD CONSTRAINT `books_ibfk_1` FOREIGN KEY ( `thumbnails` ) REFERENCES `thumbnail` ( `id` ); COMMIT ; /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */ ; /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */ ; /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */ ;","title":"Datenbank erstellen"},{"location":"books-backend/#nodejs-projekt-erstellen","text":"Ordner books-backend erstellen. In diesen Ordner wechseln. Im Ordner npm init ausf\u00fchren (es entsteht eine package.json ). mkdir books-backend cd books-backend npm init Alle Fragen mit einem Enter beantworten (oder etwas eingeben, wenn Sie m\u00f6chten). Jetzt noch die Packages express und mysql installieren. npm install express npm install mysql Im Ordner books-backend eine index.js erzeugen: books-backend/index.js const express = require ( 'express' ); const app = express (); app . listen ( 8081 , () => { console . log ( 'Server is listening to http://localhost:8081' ); }); Im Ordner books-backend einen Ordner books erzeugen. Darin eine index.js (f\u00fcr den Router), eine model.js (f\u00fcr die Datenbankanbindung) und eine controller.js (f\u00fcr die Aktionsverwaltung) erstellen. Einen Endpunkt ( localhost/books/authors ) erstellen, um alle Authoren aus der Datenbank auszulesen (mit GET ). /books/model.js const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , database : 'books-db' , }); connection . connect (); function getAllAuthors () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM author' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } module . exports = { getAllAuthors , }; /books/controller.js const model = require ( './model' ); function readAuthors ( request , response ) { model . getAllAuthors (). then ( authors => response . json ( authors ), error => response . json ( error ), ); } module . exports = { readAuthors , } /books/index.js const express = require ( 'express' ); const router = express . Router (); const { readAuthors } = require ( './controller' ); router . get ( '/authors' , readAuthors ); module . exports = router ; Zum Testen in Postman: http://localhost:8081/books/authors eingeben und GET -Methode w\u00e4hlen. Es erscheint das JSON mit allen Autoren: Response-Body [ { \"author_id\" : 1 , \"lastname\" : \"Malcher\" , \"firstname\" : \"Ferdinand\" }, { \"author_id\" : 2 , \"lastname\" : \"Hoppe\" , \"firstname\" : \"Johannes\" }, { \"author_id\" : 3 , \"lastname\" : \"Kopenhagen\" , \"firstname\" : \"Danny\" }, { \"author_id\" : 4 , \"lastname\" : \"Zeigermann\" , \"firstname\" : \"Oliver\" }, { \"author_id\" : 5 , \"lastname\" : \"Hartmann\" , \"firstname\" : \"Nils\" }, { \"author_id\" : 6 , \"lastname\" : \"Bloch\" , \"firstname\" : \"Joshua\" } ]","title":"Node.js-Projekt erstellen"},{"location":"books-backend/#get-einen-autor-auslesen","text":"Neu hinzugekommener Code highlighted: /books/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , database : 'books-db' , }); connection . connect (); function getAllAuthors () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM author' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } function getOneAuthor ( id ) { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM author WHERE author_id=?' ; connection . query ( query , [ id ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results [ 0 ]); }); }); } module . exports = { getAllAuthors , getAuthor ( id ) { return getOneAuthor ( id ) }, }; /books/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 const model = require ( './model' ); function readAuthors ( request , response ) { model . getAllAuthors (). then ( authors => response . json ( authors ), error => response . json ( error ), ); } function readAuthor ( request , response ) { model . getAuthor ( request . params . id ). then ( author => response . json ( author ), error => response . status ( 500 ). json ( error ), ); } module . exports = { readAuthors , readAuthor , } /books/index.js 1 2 3 4 5 6 7 8 const express = require ( 'express' ); const router = express . Router (); const { readAuthors , readAuthor } = require ( './controller' ); router . get ( '/authors' , readAuthors ); router . get ( '/author/:id' , readAuthor ); module . exports = router ; Zum Testen in Postman z.B. http://localhost:8081/books/author/4 (Autor mit der author_id 4) und GET aufrufen.","title":"GET - einen Autor auslesen"},{"location":"books-backend/#post-einen-neuen-autoren-anlegen-und-put-einen-autoren-andern","text":"Ein neuer Autor bzw. die \u00c4nderungen werden als JSON dem Request-Body \u00fcbergeben. Dazu wird das Paket body-parser ben\u00f6tigt. npm install body-parser","title":"POST - einen neuen Autoren anlegen und PUT - einen Autoren \u00e4ndern"},{"location":"books/","text":"B\u00fccher-App \u00b6 Das folgende Beispiel ist dem Buch Ferdinand Malcher, Johannes Hoppe, Danny Koppenhagen: \"Angular: Grundlagen, fortgeschrittene Themen und Best Practices\" dpunkt.verlag, 2. Auflage, ISBN: 978-3-86490-646-6, 2019 Link entnommen (und nur unwesentlich ge\u00e4ndert). In der App soll eine Liste von B\u00fcchern angezeigt werden, f\u00fcr jedes einzelne Buch soll eine Detailansicht existieren und B\u00fccher k\u00f6nnen hinzugef\u00fcgt werden. Projekt anlegen \u00b6 Wir gehen wie in beschrieben vor. Wir wollen unsere App book-app nennen. ng new book-app Wir werden gefragt, ob wir Routing verwenden m\u00f6chten (Antwort: y ) und welches StyleSheet-Format wir verwenden (Antwort: CSS ): ? Would you like to add Angular routing? Yes ? Which stylesheet format would you like to use? CSS Nachdem das Projekt erstellt wurde, wechseln wir im Terminal in das Verzeichnis book-app cd book-app und rufen darin npm install auf, um alle in package.json definierten Abh\u00e4ngigkeiten und Module einzubinden. Danach kann die Anwendung durch Eingabe von ng serve gestartet werden. \u00d6ffnen Sie den Browser und geben Sie als URL http://localhost:4200/ ein. Es erscheint die Angular-Projekt-Startseite (siehe auch Erstes Angular-Projekt erstellen ). \u00d6ffnen Sie nun noch in Ihrer IDE (z.B. IntelliJ IDEA ) das Projekt book-app , um Ihre Implementierungen durchzuf\u00fchren. Zun\u00e4chst k\u00fcmmern wir uns allerdings erst noch um das Aussehen des Projektes - um moderne, einheitliche Styles. CSS-Framework Semantic UI einbinden \u00b6 Es ist \u00fcblich, eines der bekannten Style-Frameworks (z.B. Bootstrap oder Material Design ) einzubinden. F\u00fcr die B\u00fccher-App soll daf\u00fcr Semantic UI verwendet werden. Geben Sie dazu im Terminal in dem book-app -Verzeichnis npm install semantic-ui-css ein. Durch diese Anweisung werden die ben\u00f6tigten Style-Dateien geladen und unter dem Ordner node_modules/semantic-ui-css gespeichert. Diese m\u00fcssen jetzt nur noch in das Projekt eingebunden werden. \u00d6ffnen Sie dazu in Ihrer IDE die Datei angular.json . Bei dieser Datei handelt es sich um eine JSON -Datei, die f\u00fcr die Konfiguration unserer Angular-Anwendung zust\u00e4ndig ist. In der angular.json -Datei \u00e4ndern wir unter \"projects\"\u2192\"book-app\"\u2192\"architect\"\u2192\"build\"\u2192\"options\"\u2192\"styles\" den Eintrag von \"styles\" : [ \"src/styles.css\" ] , auf \"styles\" : [ \"node_modules/semantic-ui-css/semantic.css\" ] , Die gleiche \u00c4nderung f\u00fchren wir in angular.json unter \"test\" (statt \"build\" ) durch, um die Styles auch beim Testen einzubeziehen. Also unter \"projects\"\u2192\"book-app\"\u2192\"architect\"\u2192\"test\"\u2192\"options\"\u2192\"styles\" ebenfalls nach \"styles\" : [ \"node_modules/semantic-ui-css/semantic.css\" ] , \u00e4ndern. Um zu testen, ob das Einbinden der Semantic-UI-Styles geklappt hat, \u00f6ffnen wir in der IDE die Datei app.component.html und l\u00f6schen darin alles bis auf <router-outlet></router-outlet> . Stattdessen geben wir davor ein (Listing zeigt auch <router-outlet></router-outlet> - also die dann vollst\u00e4ndige Datei app.component.html ): < div class = \"ui active inverted dimmer\" > < div class = \"ui text loader large\" > Lade B\u00fccher ... </ div > </ div > < router-outlet ></ router-outlet > Wir gestalten also das Template unserer App-Komponente als ein div im div . Beiden div s werden CSS-Klassen aus dem Semantic-UI-Framework zugeordnet (siehe z.B. Klasse loader ). Unsere Webseite sollte nun so aussehen: Success Der erste Teil unserer B\u00fccher-App ist erstellt! Wir haben eine Anwendung erstellt und diese aufgerufen. Wir haben ein CSS-Framework eingebunden und erste \u00c4nderungen am HTML-Code vorgenommen. Unter http://localhost:4200/ ist unsere Anwendung nun im Browser sichtbar und alle unseren zuk\u00fcnftigen \u00c4nderungen am Code werden automatisch (ohne erneuten Aufruf) der Seite dargestellt. Datenmodell und Daten \u00b6 Wir wollen Details (Daten) \u00fcber B\u00fccher speichern und verwenden dazu die JavaScript Object Notation (JSON) . Zun\u00e4chst wird Angular jedoch das dazugeh\u00f6rige Datenmodell bekannt gemacht. Dies geschieht mithilfe eines Interfaces . Wir erstellen ein solches Interface mithilfe der Angular CLI im Terminal (Sie sind im book-app -Verzeichnis): ng g interface shared/book Die obige Anweisung erstellt eine Datei book.ts im Ordner src/app/shared . Der shared - Ordner wird automatisch angelegt. In der obigen Anweisung steht g f\u00fcr generate ( h\u00e4tte man auch schreiben k\u00f6nnen ). In der IDE \u00f6ffnen wir die Datei book.ts . Sie enth\u00e4lt nur die Interface-Deklaration ohne Inhalt: export interface Book { } Wir implementieren das Interface wie folgt: export interface Book { isbn : string ; title : string ; authors : string []; published : Date ; subtitle ?: string ; rating ?: number ; thumbnails ?: Thumbnail []; description ?: string ; } export interface Thumbnail { url : string ; title ?: string ; } Das bedeutet, dass unser Datenmodell so aussieht, dass die Details \u00fcber ein Buch folgende Daten beinhalten: isbn , title , authors , published , subtitle , rating , thumbnails , description . Die Fragezeichen hinter den Bezeichnern geben an, dass die jeweilige Eigenschaft optional ist, d.h. dass ihr kein Wert zugeordnet werden muss. Die Eigenschaft thumbnail ist vom Typ Thumbnail -Array. Dieser Typ ist kein Standard-TypeScript-Typ, sondern von uns definiert. Thumbnail definieren wir ebenfalls als Interface, bestehend aus 2 Eigenschaften url und (optional) title . Die Definition dieses Interfaces erfolgt ebenfalls direkt in book.ts . Wir haben also 2 Interfaces diefiniert: Book und Thumbnail . Die Daten werden zun\u00e4chst direkt in eine neu zu erstellende Komponente zum Anzeigen der B\u00fccher-Liste eingebunden: B\u00fccherliste erstellen \u00b6 Zur Anzeige aller gespeicherten B\u00fccher erstellen wir eine neue Komponente book-list . Siehe dazu auch Angular \u2192 Eine neue Komponente erzeugen : ng generate component book-list Es ensteht ein neuer Ordner src/app/book-list , welcher die 4 Dateien: book-list.component.css book-list.component.html book-list.component.spec.ts book-list.component.ts enth\u00e4lt. In der IDE \u00f6ffnen wir zun\u00e4chst die book-list.component.html . Sie sieht so aus: < p > book-list works! </ p > Wir ersetzen den Inhalt vollst\u00e4ndig durch den folgenden HTML-Code: < div class = \"ui middle aligned selection divided list\" > < a * ngFor = \"let book of books\" class = \"item\" > < img class = \"ui tiny image\" * ngIf = \"book.thumbnails && book.thumbnails[0] && book.thumbnails[0].url\" [ src ]=\" book . thumbnails [ 0 ]. url \" /> < div class = \"content\" > < div class = \"header\" > {{ book.title }} </ div > < div * ngIf = \"book.subtitle\" class = \"description\" > {{ book.subtitle }} </ div > < div class = \"metadata\" > < span * ngFor = \"let author of book.authors; last as l\" > {{ author }} < span * ngIf = \"!l\" > , </ span > </ span > < br /> ISBN {{ book.isbn }} </ div > </ div > </ a > </ div > Obiger Code enth\u00e4lt einige Strukturdirektiven (siehe Angular \u2192 *Strukturdirektiven )). So l\u00e4uft bspw. die *ngFor -Direktive in der zweiten Zeile durch die Liste books und erzeugt f\u00fcr jedes Buch aus der Liste books einen Hyperlink <a> . Diese existiert jedoch noch gar nicht, so dass unsere App sich derzeit nicht ausf\u00fchren l\u00e4sst. Die erste *ngIf -Direktive in der vierten Zeile pr\u00fcft zun\u00e4chst, ob das Array book.thumbnails \u00fcberhaupt existiert und wenn ja, ob dieses Array einen ersten Eintrag hat book.thumbnails[0] und wenn das der Fall ist, ob dieser erste Eintrag auch eine url enth\u00e4lt (siehe Interfaces Book und Thumbnail ). Wenn diese url existiert, wird durch ein Property-Binding (siehe Angular \u2192 [Property Binding] ) dem src -Attribut von <a> der Wert zugeordnet, der unter book.thumbnails[0].url im JSON gespeichert ist. Die Liste der Autoren eines Buches wird ebenfalls mithilfe der Strukturdirektive *ngFor durchlaufen. Au\u00dferdem findet die Hilfsvariable last dieser Strukturdirektive Anwendung (siehe Angular \u2192 *Strukturdirektiven )). Alle Autoren werden durch Komma getrennt. Nur nach dem letzten Autor wird kein Komma hinzugef\u00fcgt. Dies gelingt mithilfe der Strukturdirektive *ngIf und der Abfrage, ob es sich nicht um das letzte Element handelt - dann Komma. Wir ben\u00f6tigen jetzt f\u00fcr unsere Komponente noch die Liste der B\u00fccher - ein Book -Array. Dieses legen wir in der Datei book-list.component.ts an. Wir \u00f6ffnen diese Datei - sie sieht wie folgt aus: import { Component , OnInit } from '@angular/core' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { constructor () { } ngOnInit () : void { } } Die (TypeScript-)Klasse BookListComponent enth\u00e4lt zwei Methoden: den Konstruktor constructor() { } ngOnInit(): void { } ngOnInit() ist eine Methode aus dem Interface OnInit . Dabei handelt es sich um einen sogenannten Lifecycle-Hook (siehe Angular \u2192 Lifecycle-Hooks ). Die Methode ngOnInit() wird immer dann (automatisch) ausgef\u00fchrt, wenn die Komponente geladen wird. Wir ersetzen den bisherigen Code der Datei book-list.component.ts durch: import { Component , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { books : Book []; constructor () { } ngOnInit () : void { this . books = [ { isbn : '9783864906466' , title : 'Angular' , authors : [ 'Ferdinand Malcher' , 'Johannes Hoppe' , 'Danny Kopenhagen' ], published : new Date ( 2019 , 4 , 30 ), subtitle : 'Grundlagen, fortgeschrittene Techniken und Best Practices - mit NativeScript und NgRx' , rating : 5 , thumbnails : [{ url : 'https://ng-buch.de/cover2.jpg' , title : 'Buchcover' }], description : 'Die Autoren f\u00fchren Sie mit einem anspruchsvollen Beispielprojekt durch die Welt von Angular...' , }, { isbn : '9783864903274' , title : 'React' , authors : [ 'Oliver Zeigermann' , 'Nils Hartmann' ], published : new Date ( 2016 , 6 , 17 ), subtitle : 'Die praktische Einf\u00fchrung in React, React Router und Redux' , rating : 3 , thumbnails : [{ url : 'https://ng-buch.de/cover1.jpg' , title : 'Buchcover' }], description : 'React ist ein JavaScript-Framework zur Entwicklung von Benutzeroberfl\u00e4chen ...' , }, { isbn : '978-3-86490-578-0' , title : 'Effective Java' , authors : [ 'Joshua Bloch' ], published : new Date ( 2018 , 9 , 1 ), subtitle : 'Best Practices f\u00fcr die Java-Plattform' , rating : 3 , thumbnails : [{ url : 'https://www.dpunkt.de/common/images/cover_masterid/300/13216.jpg' , title : 'Buchcover' }], description : 'Seit der Vorauflage von \\\"Effective Java\\\" hat sich Java dramatisch ver\u00e4ndert...' , } ]; } } Somit existiert die Eigenschaft books f\u00fcr die Komponente nun (siehe books: Book[] ). Auf diese Eigenschaft kann innerhalb der Klasse mit this.books zugegriffen werden. Dies passiert auch in der ngOnInit() -Methode. Dort wird das Array mit Daten bef\u00fcllt (mit zun\u00e4chst 3 B\u00fcchern). Die Syntax entspricht der JavaScript Object Notation (JSON) . Damit unsere Komponente \u00fcberhaupt sichtbar ist, binden wir sie noch in unsere Root-Komponente ein. Der Selektor unserer book-list -Komponente ist app-book-list . Wir binden diesen Selektor als HTML-Element in app.component.html ein. app.component.html (alt) < div class = \"ui active inverted dimmer\" > < div class = \"ui text loader large\" > Lade B\u00fccher ... </ div > </ div > < router-outlet ></ router-outlet > app.component.html (neu) < app-book-list ></ app-book-list > < router-outlet ></ router-outlet > Die App ist nun ausf\u00fchrbar. Im Browser erscheint folgende Darstellung: Success Der zeite Teil unserer B\u00fccher-App ist erstellt! Wir haben zwei Interfaces ( Book und Thumbnail ) und eine neue Komponente ( book-list ) erstellt. Wir haben Direktiven verwendet ( *ngFor und *ngIf ), um durch Daten zu man\u00f6vrieren und diese entsprechend darszustellen. Wir haben Daten im JSON-Format gespeichert. Datenfluss zwischen Komponenten \u00b6 In diesem Abschnitt wird der Datenfluss von Eltern- auf Kindkomponenten und von Kind- auf Elternkomponenten betrachtet. Letzteres erreicht man \u00fcber event binding (siehe Angular\u2192Event Binding ). Wir betrachten zun\u00e4chst den Datenfluss von Eltern- auf Kindkomponenten. Das grundlegende Prinzip dabei ist das property binding (siehe dazu Angular \u2192 [Property Bindings] ). Datenfluss von Eltern- auf Kindkomponenten \u00b6 Wir legen uns dazu zun\u00e4chst eine weitere Komponente in unserer B\u00fccher-App an - die Komponente book-list-item . Sie ist daf\u00fcr zust\u00e4ndig, die Informationen \u00fcber ein einzelnes Buch im Detail anzuzeigen. Wir werden zu dieser Detailansicht gelangen, indem wir ausgehend von der Liste der B\u00fccher auf ein einzelnes Buch klicken - dieses wird dann im Detail angezeigt. Wechseln Sie im Terminal in den Ordner Ihrer B\u00fccher-App book-app und geben dort zum Erzeugen der neuen Komponente ein: ng g c book-list-item Im Ordner book-app/src/app entsteht eine neue Komponente (ein neuer Ordner) book-list-item mit den Dateien book-list-item.component.ts , book-list-item.component.html , book-list-item.component.css und book-list-item.component.spec.ts . Wir kopieren zun\u00e4chst den Teil aus der book-list.component.html in die book-list-item.component.html , der die Details eines Buches anzeigt. Im folgenden Tab sind jeweils die *.component.html gemeint. book-list (alt) < div class = \"ui middle aligned selection divided list\" > < a * ngFor = \"let book of books\" class = \"item\" > < img class = \"ui tiny image\" * ngIf = \"book.thumbnails && book.thumbnails[0] && book.thumbnails[0].url\" [ src ]=\" book . thumbnails [ 0 ]. url \" /> < div class = \"content\" > < div class = \"header\" > {{ book.title }} </ div > < div * ngIf = \"book.subtitle\" class = \"description\" > {{ book.subtitle }} </ div > < div class = \"metadata\" > < span * ngFor = \"let author of book.authors; last as l\" > {{ author }} < span * ngIf = \"!l\" > , </ span > </ span > < br /> ISBN {{ book.isbn }} </ div > </ div > </ a > </ div > book-list-item < img class = \"ui tiny image\" * ngIf = \"book.thumbnails && book.thumbnails[0] && book.thumbnails[0].url\" [ src ]=\" book . thumbnails [ 0 ]. url \" /> < div class = \"content\" > < div class = \"header\" > {{ book.title }} </ div > < div * ngIf = \"book.subtitle\" class = \"description\" > {{ book.subtitle }} </ div > < div class = \"metadata\" > < span * ngFor = \"let author of book.authors; last as l\" > {{ author }} < span * ngIf = \"!l\" > , </ span > </ span > < br /> ISBN {{ book.isbn }} </ div > </ div > book-list (neu - zun\u00e4chst) < div class = \"ui middle aligned selection divided list\" > < a * ngFor = \"let book of books\" class = \"item\" > <!-- dieses Anchorelement (Hyperlink <a>) wird gleich ge\u00e4ndert aber die Direktive *ngFor bleibt --> </ a > </ div > Nachdem wir den oben gelb unterlegten Teil nach book-list-item.component.html geschoben haben, f\u00e4llt auf, dass die Variable book in der Komponente book-list-item (noch) unbekannt ist. Dies wird nun ge\u00e4ndert. Zun\u00e4chst \u00e4ndern das HTML-Element, das uns die Details eines Buches anzeigen soll von <a> nach <app-book-list-item> - das ist der Selektor unserer neuen Komponente. book-list.component.html 1 2 3 4 5 6 < div class = \"ui middle aligned selection divided list\" > < app-book-list-item class = \"item\" * ngFor = \"let b of books\" [ book ]=\" b \" > </ app-book-list-item > </ div > In Zeile 2 erkennt man die Verwendung des Selektors app-book-list-item , hier erfolgt der \"Aufruf\" unserer neuen Komponente. In Zeile 3 wird die bereits bekannte Direktive *ngFor angewendet (siehe Angular\u2192*Strukturdirektiven ), mit der wir durch unser Array von B\u00fcchern ( Book[] ) laufen. In Zeile 4 findet nun das property binding statt (siehe Angular \u2192 [Property Bindings] )). Der Eigenschaft book wird jeweils der Wert der Variable b \u00fcbergeben. Das bedeutet, dass wir in der Elternkomponente book-list die Kindkomponente book-list-item aufrufen und in der Elternkomponente einer Eigenschaft der Kindkomponente book einen Wert zuweisen. Es erfolgt also ein Datenfluss von der Elternkoponente zur Kindkomponente unter Verwendung von property binding . Es fehlt nur noch zwei Sachen: die Eigenschaft book (vom Typ Book ) muss noch als Eigenschaft (Objektvariable) der Komponente book-list-tem deklariert werden. es muss mithilfe des Decorators @Input() aggeben werden, dass die Werte (Daten) f\u00fcr diese Eigenschaft \"in die Komponente hineinflie\u00dfen\". Beides erreichen wir durch \u00c4nderungen der Datei book-list-item.component.ts wie folgt: book-list-item.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Component , Input , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-list-item' , templateUrl : './book-list-item.component.html' , styleUrls : [ './book-list-item.component.css' ] }) export class BookListItemComponent implements OnInit { @ Input () book : Book ; constructor () { } ngOnInit () : void { } } Wesentlich ist die Zeile 10. Dort sehen Sie die Deklaration der Eigenschaft book: Book und die Verwendung der Directive @Input() . Sowohl das Interface Book als auch die Directive @Input m\u00fcssen noch eingebunden werden (Zeilen 1 und 2). Lassen Sie dies am besten Ihre IDE erledigen. Gehen Sie mit der Maus \u00fcber die rot dargestellten Bezeichner ( Book und @Input() ) und w\u00e4hlen Sie jeweils den automatischen Korrekturvorschlag aus. Success Der dritte Teil unserer B\u00fccher-App ist erstellt! Leider hat sich in der Ansicht nichts ge\u00e4ndert. Zwar wissen wir jetzt, wie der Datenfluss von Eltern- auf Kindkomponenten erfolgt (n\u00e4mlich mit property binding und der Deklaration der Eigenschaft (property) mithilfe des @Input() -Decorators). Aber der Wechsel der Ansicht ist noch nicht realisiert. Dieser soll durch ein Ereignis ausgel\u00f6st werden, n\u00e4mlich wenn wir auf eines der B\u00fccher aus der Liste klicken. Die Behandlung von Ereignissen ( event binding ) ist Thema des n\u00e4chsten Abschnittes. Datenfluss von Kind- auf Elternkomponenten \u00b6 Der Datenfluss von Kind- auf Elternkomponenten kann mithilfe von event binding organisiert werden (siehe dazu Angular\u2192Eigene Ereignisse ). Wir werden eine BookDetailsComponent erzeugen. Diese zeigt die Details eines Buches. In unserer BookListComponent definieren wir ein Ereignis, das diese Detail-Ansicht aufruft und dabei das entsprechende Buch \u00fcbergibt. In der BookDetailsComponent definieren wir ein Ereignis, das die Listendarstellung aller B\u00fccher wieder aufruft. Wir erzeugen zun\u00e4chst die BookDetailsComponent : ng g c book-details Wir planen folgende Kommunikation zwischen den Komponenten (Abbildung ebenfalls aus eingangs erw\u00e4hntem Buch ): Wir erweitern zun\u00e4chst die Komponente AppComponent um zwei weitere Eigenschaften: book vom Typ Book (die Daten eines Buches sollen ja an die Komponente BookDetailsComponent mithilfe von property binding weitergegeben werden) und einen viewState , der zwischen den beiden Ansichten BookList und BookDetails umschalten soll. Dazu vereinbaren wir einen neuen Typ ViewState , der 2 verschiedene Werte annehmen kann list und details . Die neue app.component.ts sieht dann so aus: app.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 import { Component } from '@angular/core' ; import { Book } from './shared/book' ; type ViewState = 'list' | 'details' ; @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { book : Book ; viewState : ViewState = 'list' ; showList () { this . viewState = 'list' ; } showDetails ( book : Book ) { this . book = book ; this . viewState = 'details' ; } } Neben den beiden Eigenschaften book und viewState ( viewState ist vom Typ ViewState - dieser wurde in Zeile 5 erstellt) wurde auch zwei Methoden hinzugef\u00fcgt: showList() und showDetails(book: Book) . showList() wird von der Kindkomponente BookDetailsComponent als Ereignis aufgerufen ( event binding ). showDetails() wird von der Kindkomponente BookListComponent als Ereignis aufgerufen und liefert als payload des Ereignisses die Informationen \u00fcber das Buch mit, auf das innerhalb der Liste geklickt wurde (siehe auch Angular\u2192Eigene Ereignisse ). Die beiden Methoden schalten jeweils zwischen den viewState s um. Im Template der AppComponent wird mittels der *ngIf -Direktive zwischen den Ansichten der beiden Komponenten BookDetailsComponent und BookListeComponent umgeschaltet, je nachdem, welcher Wert viewState aufweist: app.component.html 1 2 3 4 5 6 7 8 9 10 < app-book-list * ngIf = \"viewState === 'list'\" ( showDetailsEvent )=\" showDetails ($ event )\" ></ app-book-list > < app-book-details * ngIf = \"viewState === 'details'\" ( showListEvent )=\" showList ()\" [ book ]=\" book \" ></ app-book-details > < router-outlet ></ router-outlet > Die beiden Events showDetailsEvent und showListEvent der beiden Komponenten BookListComponent bzw. BookDetailsComponent sind noch nicht in den jeweiligen Komponenten angelegt, ebenso noch nicht die Eigenschaft book in der BookDetailsComponent . Das machen wir jetzt in beginnen mit der BookListComponent . In der BookListComponent soll ein eigenes Event ( showDetailsEvent ) definiert werden. Wir gehen dazu vor, wie in Angular\u2192Eigene Ereignisse beschrieben. Wichtig ist, dass wir einen payload des Events \u00fcbergeben, n\u00e4mlich das jeweilige Buch auf das geklickt wurde. Dieser payload wird in der Methode showDetails($event) der AppComponent verarbeitet. Wir \u00f6ffnen die book-list.component.ts und f\u00fcgen hinzu : Caution Achten Sie darauf, dass Sie nur den Teil hinzuf\u00fcgen, der noch nicht in Ihrer book-list.component.ts enthalten ist. Diese Datei ist durch das JSON schon recht lang. Es kommen nur die Zeilen 8 und 14-16 hinzu und in der ersten Zeile werden EventEmitter und Output aus @angular/core importiert! book-list.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import { Component , EventEmitter , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ /* bleibt wie es ist */ }) export class BookListComponent implements OnInit { books : Book []; @ Output () showDetailsEvent = new EventEmitter < Book > (); constructor () { } ngOnInit () : void { /* bleibt wie es ist */ } showDetails ( book : Book ) { this . showDetailsEvent . emit ( book ); } } Im Template der BookListComponent kommt nur ein event binding hinzu. Wir binden das native DOM-Ereignis click an die Ereignisbehandlung showDetails() und \u00fcbergeben dabei als payload das entsprechende Buch b . Das bedeutet, dass jetzt jedes einzelne BookItem (es gibt f\u00fcr jedes Buch eine eigens BookItem - siehe *ngFor ) ein Click-Ereignis existiert. Klicken wir also auf einen Eintrag in unserer BookList , dann wird das showDetails() -Ereignis ausgel\u00f6st, das entsprechende Buch als payload \u00fcbergeben und an die AppComponent weitergereicht, die dann auf die BookDetails -Ansicht umschaltet. Die um diese eine Zeile (Zeile 5) erweiterte book-list.component.html sieht nun so: book-list.component.html 1 2 3 4 5 6 7 < div class = \"ui middle aligned selection divided list\" > < app-book-list-item class = \"item\" * ngFor = \"let b of books\" [ book ]=\" b \" ( click )=\" showDetails ( b )\" > </ app-book-list-item > </ div > Reflexion Wir sehen in dem obigen kleinen Beispiel book-list.component.html sehr sch\u00f6n vier Konzepte: 1. die Komponente BookListComponent ruft die Komponente BookListItemComponent auf. Damit ist BookListComponent eine Elternkomponente der Kindkomponente BookListItemComponent (Zeile 2). 2. der Einsatz der Direktive *ngFor . F\u00fcr jeden einzelnen Eintrag aus dem Array books wird ein neues HTML-Element <app-book-list-item> erzeugt. 3. Ein property binding , bei der der Ausdruck \"b\" and die Eigenschaft book gebunden wird und 4. ein event binding , bei der wir die Ereignisbehandlung showDetails(b) an das native DOM-Element click binden. Jetzt k\u00fcmmern wir uns noch um unsere neue Komponente BookDetailsComponent . Zwei Konzepte kennen wir bereits: definieren wir uns eine Eigenschaft book , deren Wert wir als @Input() von der Elternkomponente AppComponent erhalten (siehe dazu Datenfluss von Eltern- auf Kindkomponenten ). definieren wir uns ein eigenes Ereignis, welches an die Elternkomponente AppComponent weitergereicht wird (siehe dazu book-list.component.ts oben) Es wird noch eine dritte Kleinigkeit eingef\u00fcgt: eine Methode getRating(number) , die f\u00fcr eine gegebene Zahl ein Array der \u00fcbergebenen L\u00e4nge zur\u00fcckgibt. Wir werden im Template sehen, was es damit auf sich hat. Die book-details.component.ts sieht dann wie folgt aus: book-details.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 import { Component , EventEmitter , Input , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-details' , templateUrl : './book-details.component.html' , styleUrls : [ './book-details.component.css' ] }) export class BookDetailsComponent implements OnInit { @ Input () book : Book ; @ Output () showListEvent = new EventEmitter < any > (); ngOnInit () { } getRating ( num : number ) { return new Array ( num ); } showBookList () { this . showListEvent . emit (); } } Das zugeh\u00f6rige Template ist recht umfangreich. Wir gehen auf einzelne Details ein, zeigen es aber zun\u00e4chst: book-details.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 < div * ngIf = \"book\" > < h1 > {{ book.title }} </ h1 > < h3 * ngIf = \"book.subtitle\" > {{ book.subtitle }} </ h3 > < div class = \"ui divider\" ></ div > < div class = \"ui grid\" > < div class = \"four wide column\" > < h4 > Autoren </ h4 > < ng-container * ngFor = \"let author of book.authors\" > {{ author }} < br > </ ng-container > </ div > < div class = \"four wide column\" > < h4 > ISBN </ h4 > {{ book.isbn }} </ div > < div class = \"four wide column\" > < h4 > Erschienen </ h4 > {{ book.published }} </ div > < div class = \"four wide column\" > < h4 > Rating </ h4 > < i class = \"yellow star icon\" * ngFor = \"let r of getRating(book.rating)\" ></ i > </ div > </ div > < h4 > Beschreibung </ h4 > < p > {{ book.description }} </ p > < div class = \"ui small images\" > < img * ngFor = \"let thumbnail of book.thumbnails\" [ src ]=\" thumbnail . url \" > </ div > < button class = \"ui red button\" ( click )=\" showBookList ()\" > Zur\u00fcck zur Buchliste </ button > </ div > Die Detailansicht sollte dann etwa so aussehen: Success Der vierte Teil unserer B\u00fccher-App ist erstellt! Wir wissen jetzt, wie wir Ereignisse behandeln und sogar eigene Ereignisse erstellen k\u00f6nnen und wie wir mit diesen eigenen Ereignissen und event bining Daten an die Elternklasse \u00fcbergeben k\u00f6nnen. Damit k\u00f6nnen wir jetzt sowohl von Eltern- nach Kindklassen als auch zur\u00fcck Daten transferieren und durch Ereignisse zwischen verschiedenen Komponenten hin- und herwechseln. F\u00fcr viele Komponenten und eine tiefe Verschachtelung ist die Komplexit\u00e4t jedoch mit diesen Konzepten zu hoch. Wir lernen zwei weitere Konzepte kennen, die uns helfen, diese Komplexit\u00e4t zu meistern: Services und Routing . Service BookStoreService \u00b6 Derzeit ist die Liste (genauer: das Array) unserer B\u00fccher statisch als JSON innerhalb der Komponente BookListComponent gespeichert (siehe in ngOnInit() this.books = [ ... ] ). Die BookListComponent verwaltet somit die B\u00fccher und stellt diese auch noch als Liste dar. Wir wollen die Darstellung unabh\u00e4ngig von der \"Datenspeicherung\" gestalten und die Datenverwaltung (Speicherung und Bereitstellung) in einen Service auslagern (siehe Angular\u2192Services ). Um einen Service mithilfe der CLI anzulegen (zu generieren), verwenden wir das Attribut service anstelle von component . Au\u00dferdem ist es guter Stil, Services in den shared -Ordner abzulegen, da ja alle Komponenten einen Service nutzen k\u00f6nnen. Wir erzeugen einen Service BookStoreService : ng g service shared/book-store Nach der Erzeugung sieht der Service zun\u00e4chst so aus: book-store.service.ts import { Injectable } from '@angular/core' ; @ Injectable ({ providedIn : 'root' }) export class BookStoreService { constructor () { } } F\u00fcr Services gibt es keine Lifecycle-Hooks. Wir finden hier deshalb auch keine ngOnInit() -Methode. W\u00e4hrend Komponenten den Decorator @Component() aufweisen, wird f\u00fcr Services der Decorator @Injectable() verwendet. Mit diesem Decorator geben wir an, dass der Service weitere Abh\u00e4ngigkeiten einbinden kann. Dies geschieht typischerweise \u00fcber einen Parameter im Konstruktor - eine soganannte dependency injection (wenn \u00fcber den Konstruktor, dann constructor injection ). Auch wenn wir eine solche Abh\u00e4ngigkeit nicht einbinden, sollte der Decorator @Injectable() stets f\u00fcr einen Service angegeben werden. Dies liegt daran, dass wir diesen Decorator um die providedIn -Eigenschaft erweitern. Mit providedIn: 'root' geben wir an, dass der Service allen Komponenten (im gesamten Root-Modul) zur Verf\u00fcgung steht, er also von allen Komponenten genutzt werden kann. In unseren Service integrieren wir nun folgende Eigenschaften: das Book -Array books aus der BookListComponent und die Methode getAll() , die dieses Array zur\u00fcckgibt, also alle B\u00fccher aus dem Array books . book-store.service.ts import { Injectable } from '@angular/core' ; import { Book } from './book' ; @ Injectable ({ providedIn : 'root' }) export class BookStoreService { books : Book []; constructor () { this . books = [ { isbn : '9783864906466' , /* das gesamte Array aus book-list.component.ts hier her bewegen */ }, } getAll () : Book [] { return this . books ; } } book-list.component.ts import { Component , EventEmitter , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { books : Book []; @ Output () showDetailsEvent = new EventEmitter < Book > (); constructor () { } ngOnInit () : void { } showDetails ( book : Book ) { this . showDetailsEvent . emit ( book ); } } Es wurde also die gesamte Wertebelegung f\u00fcr this.books mit dem JSON von der Datei book-list.component.ts (dort aus ngOnInit() ) nach book-store.service.ts (hier in den Konstruktor constructor() - Liefecycle-hooks gibt es f\u00fcr Services ja nicht) verschoben. Dazu wurde dem Service die Eigenschaft books hinzugef\u00fcgt (Typ Book[] - das Interface Book muss dazu importiert werden). Au\u00dferdem wurde in dem Service die Methode getAll() implementiert. Nun kann der Service in der BookListComponent verwendet werden. Dazu werden der BookService importiert, der BookService mittels dependency injection ( constructor injection ) in die Komponente eingebunden und die Methode getAll() des Services aufgerufen, um die Eigenschaft this.books mit dem Book -Array zu initialisieren. book-list.component.ts import { Component , EventEmitter , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; import { BookStoreService } from '../shared/book-store.service' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { books : Book []; @ Output () showDetailsEvent = new EventEmitter < Book > (); constructor ( private bs : BookStoreService ) { } ngOnInit () : void { this . books = this . bs . getAll (); } showDetails ( book : Book ) { this . showDetailsEvent . emit ( book ); } } Beachten Sie, dass die dependency injection des Services dazu f\u00fchrt, dass bs eine Eigenschaft der BookListComponent ist, ohne dass diese Eigenschaft explizit deklariert wird. In ngOnInit() wird \u00fcber this.bs auf den Service zugegriffen. Die Anwendung sieht zwar genauso aus wie vorher, aber wir haben die BookListComponent davon entlastet, das B\u00fccher-Array speichern zu m\u00fcssen. Diesen Dienst haben wir in einen Service augelagert, der au\u00dferdem noch die Methode getAll() zur Verf\u00fcgung stellt, mit dem das gesamte B\u00fccher-Array zur\u00fcckgegeben wird. Success Der f\u00fcnfte Teil unserer B\u00fccher-App ist erstellt! Die Anwendung sieht zwar genauso aus wie vorher, aber wir haben die BookListComponent davon entlastet, das B\u00fccher-Array speichern zu m\u00fcssen. Diesen Dienst haben wir in einen Service augelagert, der au\u00dferdem noch die Methode getAll() zur Verf\u00fcgung stellt, mit dem das gesamte B\u00fccher-Array zur\u00fcckgegeben wird. Nun wollen wir mithilfe von Routing besser durch unsere Anwendung navigieren. Routing \u00b6 Derzeit hat unsere App zwei Sichten: einerseits die Listenansicht aller B\u00fccher (Template der BookListComponent , wobei jede Zeile der Liste/jedes Buch durch das Template der BookListItemComponent dargestellt wird) und die Detailansicht eines Buches (Template der BookDetailsComponent ). Zwischen diesen Sichten ( views ) wechseln wir durch Nutzereignisse hin- und her. Von der Listenansicht auf die Detailansicht kommen wir durch Anklicken einer Buchzeile und zur\u00fcck kommen wir durch Klicken des Buttons \"Zur\u00fcck zur Buchliste\". Unsere URL bleibt jedoch immer gleich, n\u00e4mlich localhost:4200 . Ein direkter Zugriff auf die Detailansicht eines Buches ist nicht m\u00f6glich, sondern erfolgt immer \u00fcber die Listenansicht. Dies soll im folgenden ge\u00e4ndert werden. Zum Beispiel k\u00f6nnte die Detailansicht des Buches mit der ISBN 9783864906466 mithilfe der URL localhost:4200/books/9783864906466 erfolgen. Eine solche URL h\u00e4tte auch den Vorteil, dass man diese URL an andere versenden k\u00f6nnte, um auf ein konkretes Buch aufmerksam zu machen. Zur Erstellung solcher Pfade wird das Konzept des Routings in Angular verwendet (siehe Angular \u2192 Routing ). Wir erweitern unsere B\u00fccher-App zun\u00e4chst um eine weitere Komponente home . ng g c home Routen konfigurieren \u00b6 In der app-routing.module.ts werden wir 4 Routen konfigurieren: /home zeigt die HomeComponent / wird auf die /home -Route umgeleitet, zeigt also ebenfalls auf die HomeComponent /books zeigt auf die BookListComponent /books/:isbn zeigt auf die BooksDetailsComponent f\u00fcr das entsprechende Buch mit der isbn des Parameterwertes app-routing.module.ts import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { HomeComponent } from './home/home.component' ; import { BookDetailsComponent } from './book-details/book-details.component' ; import { BookListComponent } from './book-list/book-list.component' ; const routes : Routes = [ { path : '' , redirectTo : 'home' , pathMatch : 'full' }, { path : 'home' , component : HomeComponent }, { path : 'books' , component : BookListComponent }, { path : 'books/:isbn' , component : BookDetailsComponent }, ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } app.component.html < router-outlet ></ router-outlet > Die app.component.html enth\u00e4lt nun nur noch das <router-outlet></router-outlet> -Element. Wenn wir nun http://localhost:4200 aufrufen, werden wir zu http://localhost:4200/home umgeleitet und es erscheint die View der HomeComponent ( home works! ). Wir k\u00f6nnen aber auch http://localhost:4200/books eingeben und es erscheint die View der BookListComponent , also die gesamte Liste unserer B\u00fccher. Parametrisierte Route auslesen \u00b6 Wenn wir z.B. http://localhost:4200/books/9783864906466 aufrufen, also eine ISBN \u00fcbergeben, bleibt die angezeigte Seite der BookDetailsComponent leer. Das liegt daran, dass die in der URL \u00fcbergebene ISBN noch nicht verwaltet wird, um das entsprechende Buch herauszusuchen und anzuzeigen. Dazu erweitern wir zun\u00e4chst den BookStoreService : Caution Achten Sie darauf, dass Sie nur den Teil hinzuf\u00fcgen, der noch nicht in Ihrer book-store.service.ts enthalten ist. Diese Datei ist durch das JSON schon recht lang. Es kommen nur die Zeilen 18-20 hinzu! shared/book-store.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import { Injectable } from '@angular/core' ; import { Book } from './book' ; @ Injectable ({ providedIn : 'root' }) export class BookStoreService { books : Book []; constructor () { this . books = [ /* alle Eintr\u00e4ge */ ]; } getAll () : Book [] { return this . books ; } getSingle ( isbn : string ) : Book { return this . books . find ( book => ( book . isbn === isbn )); } } Wir m\u00fcssen nun noch die ISBN auslesen, die in der URL \u00fcbergeben wird. Das Auslesen von Parameterwerten aus URLs ist in Angular \u2192 Parameter an Routen beschrieben. Dazu wird book-details.component.ts wie folgt erweitert : ActivatedRoute wird importiert und dem Konstruktor injiziert, um mithilfe von route.snapshot.paramMap die aktuellen Werte der in der URL \u00fcbergebenen Parameter abzufragen. Der BookStoreService wird importiert und dem Konstruktor injiziert, um auf das Array aller B\u00fccher, insbesondere aber auf die getSingle(isbn: string) -Funktion zuzugreifen, die das Buch mit der \u00fcbergebenen isbn zur\u00fcckgibt. Daf\u00fcr entfallen einige Sachen aus der book-details.component.ts : Wir wechseln die Ansichten nicht mehr durch ein Ereignis, sondern \u00fcberlassen dies dem Router. Deshalb entfernen wir die @Output() -Eigenschaft showListEvent und die Methode showBookList() . Das ausgew\u00e4hlte Buch gelangt nun nicht mehr \u00fcber property binding in das Template, sondern \u00fcber die Eigenschaft this.book (die ihren Wert von der Methode getSingle() des BookStoreService erh\u00e4lt). Wir k\u00f6nnen deshalb auch den @Input() -Decorator von book: Book entfernen. book-details.component.ts (neu) import { Component , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-details' , templateUrl : './book-details.component.html' , styleUrls : [ './book-details.component.css' ] }) export class BookDetailsComponent implements OnInit { ngOnInit () { } getRating ( num : number ) { return new Array ( num ); } } book-details.component.ts (alt) import { Component , EventEmitter , Input , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-details' , templateUrl : './book-details.component.html' , styleUrls : [ './book-details.component.css' ] }) export class BookDetailsComponent implements OnInit { @ Input () book : Book ; @ Output () showListEvent = new EventEmitter < any > (); ngOnInit () { } getRating ( num : number ) { return new Array ( num ); } showBookList () { this . showListEvent . emit (); } } In der book-details.component.html wird der Button entfernt, also der folgende Teil gel\u00f6scht: < button class = \"ui red button\" ( click )=\" showBookList ()\" > Zur\u00fcck zur Buchliste </ button > Success Jetzt wird die Detail-Ansicht eines jeden Buches angezeigt, wenn Sie eine existierende isbn \u00fcbergeben. Also z.B. http://localhost:4200/books/9783864906466 (oder http://localhost:4200/books/9783864903274 oder http://localhost:4200/books/978-3-86490-578-0 ). Bei einer nicht existierenden isbn (z.B. http://localhost:4200/books/123 ) bleibt die Seite leer. Routen verlinken \u00b6 Derzeit m\u00fcssen wir die Routen noch jeweils als URL in den Browser eingeben. Wir wollen uns nun ein Navigationsmen\u00fc erzeugen, in dem wir die jeweiligen Routen als Links hinterlegen und somit \u00fcber Klicks die jeweiligen Komponenten aufrufen. Das prinzipielle Vorgehen ist in Angular \u2192 Routen verlinken beschrieben. Unsere Navigationsleiste f\u00fcgen wir am besten in die AppComponent ein, damit sie immer sichtbar bleibt. app.component.html < div class = \"ui menu\" > < a routerLink = \"home\" class = \"item\" > Home </ a > < a routerLink = \"books\" class = \"item\" > B\u00fccher </ a > </ div > < router-outlet ></ router-outlet > Jetzt binden wir in unserer Listen-Ansicht aller B\u00fccher noch die isbn -Eigenschaft an die routerLink -Property, um ein konkretes Buch mit der entsprechenden isbn auszuw\u00e4hlen. Wir passen dazu die book-list.component.html wie folgt an: book-list.component.html 1 2 3 4 5 6 7 < div class = \"ui middle aligned selection divided list\" > < app-book-list-item class = \"item\" * ngFor = \"let b of books\" [ book ]=\" b \" [ routerLink ]=\" b . isbn \" > </ app-book-list-item > </ div > Das click -Ereignis wird nun also nicht mehr ben\u00f6tigt und behandelt. Stattdessen binden wir mit property binding die isbn als Pfad an die Eigenschaft routerLink . Der Pfad ergibt sich somit aus der aktuellen Komponente ( /books ) und der isbn des Buches, auf das wir klicken. Daraus ergibt sich der Pfad /books/isbn ( isbn wird durch den konkreten String ersetzt). Wir erweitern noch das Template der HomeComponent um einen Button, mit dem wir zur B\u00fccherliste kommen: home.component.html 1 2 3 4 5 6 < h1 > Home </ h1 > < p > Herzlich willkommen zur B\u00fccher-App! </ p > < a routerLink = \"../books\" class = \"ui red button\" > B\u00fccherliste anzeigen < i class = \"right arrow icon\" ></ i > </ a > Der Pfad ../books ist releativ zur HomeComponent , also erst \"raus\" aus /home und dann nach /books . Aktive Links stylen und aufr\u00e4umen \u00b6 Den jeweils aktiven Men\u00fcpunkt werden wir nun noch farbig gestalten, damit wir am Men\u00fc erkennen, wo wir uns in unserer Anwendung gerade befinden. Wir gehen vor wie in Angular \u2192 Styles f\u00fcr aktive Routen beschrieben und nutzen die CSS-Klasse active des Semantic-UI-CSS-Frameworks . Wir f\u00fcgen also zwei Mal routerLinkActive=\"active\" in unsere app.component.html ein: app.component.html 1 2 3 4 5 < div class = \"ui menu\" > < a routerLink = \"home\" routerLinkActive = \"active\" class = \"item\" > Home </ a > < a routerLink = \"books\" routerLinkActive = \"active\" class = \"item\" > B\u00fccher </ a > </ div > < router-outlet ></ router-outlet > In unserer Navigationsleiste ist nun das jeweilige Element grau hinterlegt, je nachdem, wo wir uns befinden. Wir r\u00e4umen in unseren Komponenten noch ein wenig auf: in BookDetailsComponent haben wir bereits showListEvent , showBookList() , @Input() -Decorator und die entsprechenden Importe ( Input , Output und EventEmitter ) gel\u00f6scht in BookListComponent l\u00f6schen wir showDetailsEvent , showDetails() und die entsprechenden Importe ( Output und EventEmitter ) in AppComponent l\u00f6schen wir book , viewState , showList() , showDetails() und den Typ ViewState sowie den Import f\u00fcr Book book-details.component.ts import { Component , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-details' , templateUrl : './book-details.component.html' , styleUrls : [ './book-details.component.css' ] }) export class BookDetailsComponent implements OnInit { @ Input () book : Book ; @ Output () showListEvent = new EventEmitter < any > (); ngOnInit () { } getRating ( num : number ) { return new Array ( num ); } showBookList () { this . showListEvent . emit (); } } book-list.component.ts import { Component , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; import { BookStoreService } from '../shared/book-store.service' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { books : Book []; constructor ( private bs : BookStoreService ) { } ngOnInit () : void { this . books = this . bs . getAll (); } } app.component.ts import { Component } from '@angular/core' ; @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { } Success Der sechste Teil unserer B\u00fccher-App ist erstellt! Wir haben unsere Anwendung um ein Routing erg\u00e4nzt. Wir k\u00f6nnen Routen konfigurieren, parametrisierte Routen auslesen, Routen verlinken und aktive Links stylen. Die Zust\u00e4nde unserer Anwendung werden nun \u00fcber lesbare URL-Pfade abgebildet. RouterOutlets sind Platzhalter f\u00fcr die zu ladenden Komponenten. Kindkomponenten werden in das RouterOutlet der Elternkomponente geladen. Routen lassen sich so verschachteln.","title":"B\u00fccher-App"},{"location":"books/#bucher-app","text":"Das folgende Beispiel ist dem Buch Ferdinand Malcher, Johannes Hoppe, Danny Koppenhagen: \"Angular: Grundlagen, fortgeschrittene Themen und Best Practices\" dpunkt.verlag, 2. Auflage, ISBN: 978-3-86490-646-6, 2019 Link entnommen (und nur unwesentlich ge\u00e4ndert). In der App soll eine Liste von B\u00fcchern angezeigt werden, f\u00fcr jedes einzelne Buch soll eine Detailansicht existieren und B\u00fccher k\u00f6nnen hinzugef\u00fcgt werden.","title":"B\u00fccher-App"},{"location":"books/#projekt-anlegen","text":"Wir gehen wie in beschrieben vor. Wir wollen unsere App book-app nennen. ng new book-app Wir werden gefragt, ob wir Routing verwenden m\u00f6chten (Antwort: y ) und welches StyleSheet-Format wir verwenden (Antwort: CSS ): ? Would you like to add Angular routing? Yes ? Which stylesheet format would you like to use? CSS Nachdem das Projekt erstellt wurde, wechseln wir im Terminal in das Verzeichnis book-app cd book-app und rufen darin npm install auf, um alle in package.json definierten Abh\u00e4ngigkeiten und Module einzubinden. Danach kann die Anwendung durch Eingabe von ng serve gestartet werden. \u00d6ffnen Sie den Browser und geben Sie als URL http://localhost:4200/ ein. Es erscheint die Angular-Projekt-Startseite (siehe auch Erstes Angular-Projekt erstellen ). \u00d6ffnen Sie nun noch in Ihrer IDE (z.B. IntelliJ IDEA ) das Projekt book-app , um Ihre Implementierungen durchzuf\u00fchren. Zun\u00e4chst k\u00fcmmern wir uns allerdings erst noch um das Aussehen des Projektes - um moderne, einheitliche Styles.","title":"Projekt anlegen"},{"location":"books/#css-framework-semantic-ui-einbinden","text":"Es ist \u00fcblich, eines der bekannten Style-Frameworks (z.B. Bootstrap oder Material Design ) einzubinden. F\u00fcr die B\u00fccher-App soll daf\u00fcr Semantic UI verwendet werden. Geben Sie dazu im Terminal in dem book-app -Verzeichnis npm install semantic-ui-css ein. Durch diese Anweisung werden die ben\u00f6tigten Style-Dateien geladen und unter dem Ordner node_modules/semantic-ui-css gespeichert. Diese m\u00fcssen jetzt nur noch in das Projekt eingebunden werden. \u00d6ffnen Sie dazu in Ihrer IDE die Datei angular.json . Bei dieser Datei handelt es sich um eine JSON -Datei, die f\u00fcr die Konfiguration unserer Angular-Anwendung zust\u00e4ndig ist. In der angular.json -Datei \u00e4ndern wir unter \"projects\"\u2192\"book-app\"\u2192\"architect\"\u2192\"build\"\u2192\"options\"\u2192\"styles\" den Eintrag von \"styles\" : [ \"src/styles.css\" ] , auf \"styles\" : [ \"node_modules/semantic-ui-css/semantic.css\" ] , Die gleiche \u00c4nderung f\u00fchren wir in angular.json unter \"test\" (statt \"build\" ) durch, um die Styles auch beim Testen einzubeziehen. Also unter \"projects\"\u2192\"book-app\"\u2192\"architect\"\u2192\"test\"\u2192\"options\"\u2192\"styles\" ebenfalls nach \"styles\" : [ \"node_modules/semantic-ui-css/semantic.css\" ] , \u00e4ndern. Um zu testen, ob das Einbinden der Semantic-UI-Styles geklappt hat, \u00f6ffnen wir in der IDE die Datei app.component.html und l\u00f6schen darin alles bis auf <router-outlet></router-outlet> . Stattdessen geben wir davor ein (Listing zeigt auch <router-outlet></router-outlet> - also die dann vollst\u00e4ndige Datei app.component.html ): < div class = \"ui active inverted dimmer\" > < div class = \"ui text loader large\" > Lade B\u00fccher ... </ div > </ div > < router-outlet ></ router-outlet > Wir gestalten also das Template unserer App-Komponente als ein div im div . Beiden div s werden CSS-Klassen aus dem Semantic-UI-Framework zugeordnet (siehe z.B. Klasse loader ). Unsere Webseite sollte nun so aussehen: Success Der erste Teil unserer B\u00fccher-App ist erstellt! Wir haben eine Anwendung erstellt und diese aufgerufen. Wir haben ein CSS-Framework eingebunden und erste \u00c4nderungen am HTML-Code vorgenommen. Unter http://localhost:4200/ ist unsere Anwendung nun im Browser sichtbar und alle unseren zuk\u00fcnftigen \u00c4nderungen am Code werden automatisch (ohne erneuten Aufruf) der Seite dargestellt.","title":"CSS-Framework Semantic UI einbinden"},{"location":"books/#datenmodell-und-daten","text":"Wir wollen Details (Daten) \u00fcber B\u00fccher speichern und verwenden dazu die JavaScript Object Notation (JSON) . Zun\u00e4chst wird Angular jedoch das dazugeh\u00f6rige Datenmodell bekannt gemacht. Dies geschieht mithilfe eines Interfaces . Wir erstellen ein solches Interface mithilfe der Angular CLI im Terminal (Sie sind im book-app -Verzeichnis): ng g interface shared/book Die obige Anweisung erstellt eine Datei book.ts im Ordner src/app/shared . Der shared - Ordner wird automatisch angelegt. In der obigen Anweisung steht g f\u00fcr generate ( h\u00e4tte man auch schreiben k\u00f6nnen ). In der IDE \u00f6ffnen wir die Datei book.ts . Sie enth\u00e4lt nur die Interface-Deklaration ohne Inhalt: export interface Book { } Wir implementieren das Interface wie folgt: export interface Book { isbn : string ; title : string ; authors : string []; published : Date ; subtitle ?: string ; rating ?: number ; thumbnails ?: Thumbnail []; description ?: string ; } export interface Thumbnail { url : string ; title ?: string ; } Das bedeutet, dass unser Datenmodell so aussieht, dass die Details \u00fcber ein Buch folgende Daten beinhalten: isbn , title , authors , published , subtitle , rating , thumbnails , description . Die Fragezeichen hinter den Bezeichnern geben an, dass die jeweilige Eigenschaft optional ist, d.h. dass ihr kein Wert zugeordnet werden muss. Die Eigenschaft thumbnail ist vom Typ Thumbnail -Array. Dieser Typ ist kein Standard-TypeScript-Typ, sondern von uns definiert. Thumbnail definieren wir ebenfalls als Interface, bestehend aus 2 Eigenschaften url und (optional) title . Die Definition dieses Interfaces erfolgt ebenfalls direkt in book.ts . Wir haben also 2 Interfaces diefiniert: Book und Thumbnail . Die Daten werden zun\u00e4chst direkt in eine neu zu erstellende Komponente zum Anzeigen der B\u00fccher-Liste eingebunden:","title":"Datenmodell und Daten"},{"location":"books/#bucherliste-erstellen","text":"Zur Anzeige aller gespeicherten B\u00fccher erstellen wir eine neue Komponente book-list . Siehe dazu auch Angular \u2192 Eine neue Komponente erzeugen : ng generate component book-list Es ensteht ein neuer Ordner src/app/book-list , welcher die 4 Dateien: book-list.component.css book-list.component.html book-list.component.spec.ts book-list.component.ts enth\u00e4lt. In der IDE \u00f6ffnen wir zun\u00e4chst die book-list.component.html . Sie sieht so aus: < p > book-list works! </ p > Wir ersetzen den Inhalt vollst\u00e4ndig durch den folgenden HTML-Code: < div class = \"ui middle aligned selection divided list\" > < a * ngFor = \"let book of books\" class = \"item\" > < img class = \"ui tiny image\" * ngIf = \"book.thumbnails && book.thumbnails[0] && book.thumbnails[0].url\" [ src ]=\" book . thumbnails [ 0 ]. url \" /> < div class = \"content\" > < div class = \"header\" > {{ book.title }} </ div > < div * ngIf = \"book.subtitle\" class = \"description\" > {{ book.subtitle }} </ div > < div class = \"metadata\" > < span * ngFor = \"let author of book.authors; last as l\" > {{ author }} < span * ngIf = \"!l\" > , </ span > </ span > < br /> ISBN {{ book.isbn }} </ div > </ div > </ a > </ div > Obiger Code enth\u00e4lt einige Strukturdirektiven (siehe Angular \u2192 *Strukturdirektiven )). So l\u00e4uft bspw. die *ngFor -Direktive in der zweiten Zeile durch die Liste books und erzeugt f\u00fcr jedes Buch aus der Liste books einen Hyperlink <a> . Diese existiert jedoch noch gar nicht, so dass unsere App sich derzeit nicht ausf\u00fchren l\u00e4sst. Die erste *ngIf -Direktive in der vierten Zeile pr\u00fcft zun\u00e4chst, ob das Array book.thumbnails \u00fcberhaupt existiert und wenn ja, ob dieses Array einen ersten Eintrag hat book.thumbnails[0] und wenn das der Fall ist, ob dieser erste Eintrag auch eine url enth\u00e4lt (siehe Interfaces Book und Thumbnail ). Wenn diese url existiert, wird durch ein Property-Binding (siehe Angular \u2192 [Property Binding] ) dem src -Attribut von <a> der Wert zugeordnet, der unter book.thumbnails[0].url im JSON gespeichert ist. Die Liste der Autoren eines Buches wird ebenfalls mithilfe der Strukturdirektive *ngFor durchlaufen. Au\u00dferdem findet die Hilfsvariable last dieser Strukturdirektive Anwendung (siehe Angular \u2192 *Strukturdirektiven )). Alle Autoren werden durch Komma getrennt. Nur nach dem letzten Autor wird kein Komma hinzugef\u00fcgt. Dies gelingt mithilfe der Strukturdirektive *ngIf und der Abfrage, ob es sich nicht um das letzte Element handelt - dann Komma. Wir ben\u00f6tigen jetzt f\u00fcr unsere Komponente noch die Liste der B\u00fccher - ein Book -Array. Dieses legen wir in der Datei book-list.component.ts an. Wir \u00f6ffnen diese Datei - sie sieht wie folgt aus: import { Component , OnInit } from '@angular/core' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { constructor () { } ngOnInit () : void { } } Die (TypeScript-)Klasse BookListComponent enth\u00e4lt zwei Methoden: den Konstruktor constructor() { } ngOnInit(): void { } ngOnInit() ist eine Methode aus dem Interface OnInit . Dabei handelt es sich um einen sogenannten Lifecycle-Hook (siehe Angular \u2192 Lifecycle-Hooks ). Die Methode ngOnInit() wird immer dann (automatisch) ausgef\u00fchrt, wenn die Komponente geladen wird. Wir ersetzen den bisherigen Code der Datei book-list.component.ts durch: import { Component , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { books : Book []; constructor () { } ngOnInit () : void { this . books = [ { isbn : '9783864906466' , title : 'Angular' , authors : [ 'Ferdinand Malcher' , 'Johannes Hoppe' , 'Danny Kopenhagen' ], published : new Date ( 2019 , 4 , 30 ), subtitle : 'Grundlagen, fortgeschrittene Techniken und Best Practices - mit NativeScript und NgRx' , rating : 5 , thumbnails : [{ url : 'https://ng-buch.de/cover2.jpg' , title : 'Buchcover' }], description : 'Die Autoren f\u00fchren Sie mit einem anspruchsvollen Beispielprojekt durch die Welt von Angular...' , }, { isbn : '9783864903274' , title : 'React' , authors : [ 'Oliver Zeigermann' , 'Nils Hartmann' ], published : new Date ( 2016 , 6 , 17 ), subtitle : 'Die praktische Einf\u00fchrung in React, React Router und Redux' , rating : 3 , thumbnails : [{ url : 'https://ng-buch.de/cover1.jpg' , title : 'Buchcover' }], description : 'React ist ein JavaScript-Framework zur Entwicklung von Benutzeroberfl\u00e4chen ...' , }, { isbn : '978-3-86490-578-0' , title : 'Effective Java' , authors : [ 'Joshua Bloch' ], published : new Date ( 2018 , 9 , 1 ), subtitle : 'Best Practices f\u00fcr die Java-Plattform' , rating : 3 , thumbnails : [{ url : 'https://www.dpunkt.de/common/images/cover_masterid/300/13216.jpg' , title : 'Buchcover' }], description : 'Seit der Vorauflage von \\\"Effective Java\\\" hat sich Java dramatisch ver\u00e4ndert...' , } ]; } } Somit existiert die Eigenschaft books f\u00fcr die Komponente nun (siehe books: Book[] ). Auf diese Eigenschaft kann innerhalb der Klasse mit this.books zugegriffen werden. Dies passiert auch in der ngOnInit() -Methode. Dort wird das Array mit Daten bef\u00fcllt (mit zun\u00e4chst 3 B\u00fcchern). Die Syntax entspricht der JavaScript Object Notation (JSON) . Damit unsere Komponente \u00fcberhaupt sichtbar ist, binden wir sie noch in unsere Root-Komponente ein. Der Selektor unserer book-list -Komponente ist app-book-list . Wir binden diesen Selektor als HTML-Element in app.component.html ein. app.component.html (alt) < div class = \"ui active inverted dimmer\" > < div class = \"ui text loader large\" > Lade B\u00fccher ... </ div > </ div > < router-outlet ></ router-outlet > app.component.html (neu) < app-book-list ></ app-book-list > < router-outlet ></ router-outlet > Die App ist nun ausf\u00fchrbar. Im Browser erscheint folgende Darstellung: Success Der zeite Teil unserer B\u00fccher-App ist erstellt! Wir haben zwei Interfaces ( Book und Thumbnail ) und eine neue Komponente ( book-list ) erstellt. Wir haben Direktiven verwendet ( *ngFor und *ngIf ), um durch Daten zu man\u00f6vrieren und diese entsprechend darszustellen. Wir haben Daten im JSON-Format gespeichert.","title":"B\u00fccherliste erstellen"},{"location":"books/#datenfluss-zwischen-komponenten","text":"In diesem Abschnitt wird der Datenfluss von Eltern- auf Kindkomponenten und von Kind- auf Elternkomponenten betrachtet. Letzteres erreicht man \u00fcber event binding (siehe Angular\u2192Event Binding ). Wir betrachten zun\u00e4chst den Datenfluss von Eltern- auf Kindkomponenten. Das grundlegende Prinzip dabei ist das property binding (siehe dazu Angular \u2192 [Property Bindings] ).","title":"Datenfluss zwischen Komponenten"},{"location":"books/#datenfluss-von-eltern-auf-kindkomponenten","text":"Wir legen uns dazu zun\u00e4chst eine weitere Komponente in unserer B\u00fccher-App an - die Komponente book-list-item . Sie ist daf\u00fcr zust\u00e4ndig, die Informationen \u00fcber ein einzelnes Buch im Detail anzuzeigen. Wir werden zu dieser Detailansicht gelangen, indem wir ausgehend von der Liste der B\u00fccher auf ein einzelnes Buch klicken - dieses wird dann im Detail angezeigt. Wechseln Sie im Terminal in den Ordner Ihrer B\u00fccher-App book-app und geben dort zum Erzeugen der neuen Komponente ein: ng g c book-list-item Im Ordner book-app/src/app entsteht eine neue Komponente (ein neuer Ordner) book-list-item mit den Dateien book-list-item.component.ts , book-list-item.component.html , book-list-item.component.css und book-list-item.component.spec.ts . Wir kopieren zun\u00e4chst den Teil aus der book-list.component.html in die book-list-item.component.html , der die Details eines Buches anzeigt. Im folgenden Tab sind jeweils die *.component.html gemeint. book-list (alt) < div class = \"ui middle aligned selection divided list\" > < a * ngFor = \"let book of books\" class = \"item\" > < img class = \"ui tiny image\" * ngIf = \"book.thumbnails && book.thumbnails[0] && book.thumbnails[0].url\" [ src ]=\" book . thumbnails [ 0 ]. url \" /> < div class = \"content\" > < div class = \"header\" > {{ book.title }} </ div > < div * ngIf = \"book.subtitle\" class = \"description\" > {{ book.subtitle }} </ div > < div class = \"metadata\" > < span * ngFor = \"let author of book.authors; last as l\" > {{ author }} < span * ngIf = \"!l\" > , </ span > </ span > < br /> ISBN {{ book.isbn }} </ div > </ div > </ a > </ div > book-list-item < img class = \"ui tiny image\" * ngIf = \"book.thumbnails && book.thumbnails[0] && book.thumbnails[0].url\" [ src ]=\" book . thumbnails [ 0 ]. url \" /> < div class = \"content\" > < div class = \"header\" > {{ book.title }} </ div > < div * ngIf = \"book.subtitle\" class = \"description\" > {{ book.subtitle }} </ div > < div class = \"metadata\" > < span * ngFor = \"let author of book.authors; last as l\" > {{ author }} < span * ngIf = \"!l\" > , </ span > </ span > < br /> ISBN {{ book.isbn }} </ div > </ div > book-list (neu - zun\u00e4chst) < div class = \"ui middle aligned selection divided list\" > < a * ngFor = \"let book of books\" class = \"item\" > <!-- dieses Anchorelement (Hyperlink <a>) wird gleich ge\u00e4ndert aber die Direktive *ngFor bleibt --> </ a > </ div > Nachdem wir den oben gelb unterlegten Teil nach book-list-item.component.html geschoben haben, f\u00e4llt auf, dass die Variable book in der Komponente book-list-item (noch) unbekannt ist. Dies wird nun ge\u00e4ndert. Zun\u00e4chst \u00e4ndern das HTML-Element, das uns die Details eines Buches anzeigen soll von <a> nach <app-book-list-item> - das ist der Selektor unserer neuen Komponente. book-list.component.html 1 2 3 4 5 6 < div class = \"ui middle aligned selection divided list\" > < app-book-list-item class = \"item\" * ngFor = \"let b of books\" [ book ]=\" b \" > </ app-book-list-item > </ div > In Zeile 2 erkennt man die Verwendung des Selektors app-book-list-item , hier erfolgt der \"Aufruf\" unserer neuen Komponente. In Zeile 3 wird die bereits bekannte Direktive *ngFor angewendet (siehe Angular\u2192*Strukturdirektiven ), mit der wir durch unser Array von B\u00fcchern ( Book[] ) laufen. In Zeile 4 findet nun das property binding statt (siehe Angular \u2192 [Property Bindings] )). Der Eigenschaft book wird jeweils der Wert der Variable b \u00fcbergeben. Das bedeutet, dass wir in der Elternkomponente book-list die Kindkomponente book-list-item aufrufen und in der Elternkomponente einer Eigenschaft der Kindkomponente book einen Wert zuweisen. Es erfolgt also ein Datenfluss von der Elternkoponente zur Kindkomponente unter Verwendung von property binding . Es fehlt nur noch zwei Sachen: die Eigenschaft book (vom Typ Book ) muss noch als Eigenschaft (Objektvariable) der Komponente book-list-tem deklariert werden. es muss mithilfe des Decorators @Input() aggeben werden, dass die Werte (Daten) f\u00fcr diese Eigenschaft \"in die Komponente hineinflie\u00dfen\". Beides erreichen wir durch \u00c4nderungen der Datei book-list-item.component.ts wie folgt: book-list-item.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Component , Input , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-list-item' , templateUrl : './book-list-item.component.html' , styleUrls : [ './book-list-item.component.css' ] }) export class BookListItemComponent implements OnInit { @ Input () book : Book ; constructor () { } ngOnInit () : void { } } Wesentlich ist die Zeile 10. Dort sehen Sie die Deklaration der Eigenschaft book: Book und die Verwendung der Directive @Input() . Sowohl das Interface Book als auch die Directive @Input m\u00fcssen noch eingebunden werden (Zeilen 1 und 2). Lassen Sie dies am besten Ihre IDE erledigen. Gehen Sie mit der Maus \u00fcber die rot dargestellten Bezeichner ( Book und @Input() ) und w\u00e4hlen Sie jeweils den automatischen Korrekturvorschlag aus. Success Der dritte Teil unserer B\u00fccher-App ist erstellt! Leider hat sich in der Ansicht nichts ge\u00e4ndert. Zwar wissen wir jetzt, wie der Datenfluss von Eltern- auf Kindkomponenten erfolgt (n\u00e4mlich mit property binding und der Deklaration der Eigenschaft (property) mithilfe des @Input() -Decorators). Aber der Wechsel der Ansicht ist noch nicht realisiert. Dieser soll durch ein Ereignis ausgel\u00f6st werden, n\u00e4mlich wenn wir auf eines der B\u00fccher aus der Liste klicken. Die Behandlung von Ereignissen ( event binding ) ist Thema des n\u00e4chsten Abschnittes.","title":"Datenfluss von Eltern- auf Kindkomponenten"},{"location":"books/#datenfluss-von-kind-auf-elternkomponenten","text":"Der Datenfluss von Kind- auf Elternkomponenten kann mithilfe von event binding organisiert werden (siehe dazu Angular\u2192Eigene Ereignisse ). Wir werden eine BookDetailsComponent erzeugen. Diese zeigt die Details eines Buches. In unserer BookListComponent definieren wir ein Ereignis, das diese Detail-Ansicht aufruft und dabei das entsprechende Buch \u00fcbergibt. In der BookDetailsComponent definieren wir ein Ereignis, das die Listendarstellung aller B\u00fccher wieder aufruft. Wir erzeugen zun\u00e4chst die BookDetailsComponent : ng g c book-details Wir planen folgende Kommunikation zwischen den Komponenten (Abbildung ebenfalls aus eingangs erw\u00e4hntem Buch ): Wir erweitern zun\u00e4chst die Komponente AppComponent um zwei weitere Eigenschaften: book vom Typ Book (die Daten eines Buches sollen ja an die Komponente BookDetailsComponent mithilfe von property binding weitergegeben werden) und einen viewState , der zwischen den beiden Ansichten BookList und BookDetails umschalten soll. Dazu vereinbaren wir einen neuen Typ ViewState , der 2 verschiedene Werte annehmen kann list und details . Die neue app.component.ts sieht dann so aus: app.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 import { Component } from '@angular/core' ; import { Book } from './shared/book' ; type ViewState = 'list' | 'details' ; @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { book : Book ; viewState : ViewState = 'list' ; showList () { this . viewState = 'list' ; } showDetails ( book : Book ) { this . book = book ; this . viewState = 'details' ; } } Neben den beiden Eigenschaften book und viewState ( viewState ist vom Typ ViewState - dieser wurde in Zeile 5 erstellt) wurde auch zwei Methoden hinzugef\u00fcgt: showList() und showDetails(book: Book) . showList() wird von der Kindkomponente BookDetailsComponent als Ereignis aufgerufen ( event binding ). showDetails() wird von der Kindkomponente BookListComponent als Ereignis aufgerufen und liefert als payload des Ereignisses die Informationen \u00fcber das Buch mit, auf das innerhalb der Liste geklickt wurde (siehe auch Angular\u2192Eigene Ereignisse ). Die beiden Methoden schalten jeweils zwischen den viewState s um. Im Template der AppComponent wird mittels der *ngIf -Direktive zwischen den Ansichten der beiden Komponenten BookDetailsComponent und BookListeComponent umgeschaltet, je nachdem, welcher Wert viewState aufweist: app.component.html 1 2 3 4 5 6 7 8 9 10 < app-book-list * ngIf = \"viewState === 'list'\" ( showDetailsEvent )=\" showDetails ($ event )\" ></ app-book-list > < app-book-details * ngIf = \"viewState === 'details'\" ( showListEvent )=\" showList ()\" [ book ]=\" book \" ></ app-book-details > < router-outlet ></ router-outlet > Die beiden Events showDetailsEvent und showListEvent der beiden Komponenten BookListComponent bzw. BookDetailsComponent sind noch nicht in den jeweiligen Komponenten angelegt, ebenso noch nicht die Eigenschaft book in der BookDetailsComponent . Das machen wir jetzt in beginnen mit der BookListComponent . In der BookListComponent soll ein eigenes Event ( showDetailsEvent ) definiert werden. Wir gehen dazu vor, wie in Angular\u2192Eigene Ereignisse beschrieben. Wichtig ist, dass wir einen payload des Events \u00fcbergeben, n\u00e4mlich das jeweilige Buch auf das geklickt wurde. Dieser payload wird in der Methode showDetails($event) der AppComponent verarbeitet. Wir \u00f6ffnen die book-list.component.ts und f\u00fcgen hinzu : Caution Achten Sie darauf, dass Sie nur den Teil hinzuf\u00fcgen, der noch nicht in Ihrer book-list.component.ts enthalten ist. Diese Datei ist durch das JSON schon recht lang. Es kommen nur die Zeilen 8 und 14-16 hinzu und in der ersten Zeile werden EventEmitter und Output aus @angular/core importiert! book-list.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 import { Component , EventEmitter , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ /* bleibt wie es ist */ }) export class BookListComponent implements OnInit { books : Book []; @ Output () showDetailsEvent = new EventEmitter < Book > (); constructor () { } ngOnInit () : void { /* bleibt wie es ist */ } showDetails ( book : Book ) { this . showDetailsEvent . emit ( book ); } } Im Template der BookListComponent kommt nur ein event binding hinzu. Wir binden das native DOM-Ereignis click an die Ereignisbehandlung showDetails() und \u00fcbergeben dabei als payload das entsprechende Buch b . Das bedeutet, dass jetzt jedes einzelne BookItem (es gibt f\u00fcr jedes Buch eine eigens BookItem - siehe *ngFor ) ein Click-Ereignis existiert. Klicken wir also auf einen Eintrag in unserer BookList , dann wird das showDetails() -Ereignis ausgel\u00f6st, das entsprechende Buch als payload \u00fcbergeben und an die AppComponent weitergereicht, die dann auf die BookDetails -Ansicht umschaltet. Die um diese eine Zeile (Zeile 5) erweiterte book-list.component.html sieht nun so: book-list.component.html 1 2 3 4 5 6 7 < div class = \"ui middle aligned selection divided list\" > < app-book-list-item class = \"item\" * ngFor = \"let b of books\" [ book ]=\" b \" ( click )=\" showDetails ( b )\" > </ app-book-list-item > </ div > Reflexion Wir sehen in dem obigen kleinen Beispiel book-list.component.html sehr sch\u00f6n vier Konzepte: 1. die Komponente BookListComponent ruft die Komponente BookListItemComponent auf. Damit ist BookListComponent eine Elternkomponente der Kindkomponente BookListItemComponent (Zeile 2). 2. der Einsatz der Direktive *ngFor . F\u00fcr jeden einzelnen Eintrag aus dem Array books wird ein neues HTML-Element <app-book-list-item> erzeugt. 3. Ein property binding , bei der der Ausdruck \"b\" and die Eigenschaft book gebunden wird und 4. ein event binding , bei der wir die Ereignisbehandlung showDetails(b) an das native DOM-Element click binden. Jetzt k\u00fcmmern wir uns noch um unsere neue Komponente BookDetailsComponent . Zwei Konzepte kennen wir bereits: definieren wir uns eine Eigenschaft book , deren Wert wir als @Input() von der Elternkomponente AppComponent erhalten (siehe dazu Datenfluss von Eltern- auf Kindkomponenten ). definieren wir uns ein eigenes Ereignis, welches an die Elternkomponente AppComponent weitergereicht wird (siehe dazu book-list.component.ts oben) Es wird noch eine dritte Kleinigkeit eingef\u00fcgt: eine Methode getRating(number) , die f\u00fcr eine gegebene Zahl ein Array der \u00fcbergebenen L\u00e4nge zur\u00fcckgibt. Wir werden im Template sehen, was es damit auf sich hat. Die book-details.component.ts sieht dann wie folgt aus: book-details.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 import { Component , EventEmitter , Input , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-details' , templateUrl : './book-details.component.html' , styleUrls : [ './book-details.component.css' ] }) export class BookDetailsComponent implements OnInit { @ Input () book : Book ; @ Output () showListEvent = new EventEmitter < any > (); ngOnInit () { } getRating ( num : number ) { return new Array ( num ); } showBookList () { this . showListEvent . emit (); } } Das zugeh\u00f6rige Template ist recht umfangreich. Wir gehen auf einzelne Details ein, zeigen es aber zun\u00e4chst: book-details.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 < div * ngIf = \"book\" > < h1 > {{ book.title }} </ h1 > < h3 * ngIf = \"book.subtitle\" > {{ book.subtitle }} </ h3 > < div class = \"ui divider\" ></ div > < div class = \"ui grid\" > < div class = \"four wide column\" > < h4 > Autoren </ h4 > < ng-container * ngFor = \"let author of book.authors\" > {{ author }} < br > </ ng-container > </ div > < div class = \"four wide column\" > < h4 > ISBN </ h4 > {{ book.isbn }} </ div > < div class = \"four wide column\" > < h4 > Erschienen </ h4 > {{ book.published }} </ div > < div class = \"four wide column\" > < h4 > Rating </ h4 > < i class = \"yellow star icon\" * ngFor = \"let r of getRating(book.rating)\" ></ i > </ div > </ div > < h4 > Beschreibung </ h4 > < p > {{ book.description }} </ p > < div class = \"ui small images\" > < img * ngFor = \"let thumbnail of book.thumbnails\" [ src ]=\" thumbnail . url \" > </ div > < button class = \"ui red button\" ( click )=\" showBookList ()\" > Zur\u00fcck zur Buchliste </ button > </ div > Die Detailansicht sollte dann etwa so aussehen: Success Der vierte Teil unserer B\u00fccher-App ist erstellt! Wir wissen jetzt, wie wir Ereignisse behandeln und sogar eigene Ereignisse erstellen k\u00f6nnen und wie wir mit diesen eigenen Ereignissen und event bining Daten an die Elternklasse \u00fcbergeben k\u00f6nnen. Damit k\u00f6nnen wir jetzt sowohl von Eltern- nach Kindklassen als auch zur\u00fcck Daten transferieren und durch Ereignisse zwischen verschiedenen Komponenten hin- und herwechseln. F\u00fcr viele Komponenten und eine tiefe Verschachtelung ist die Komplexit\u00e4t jedoch mit diesen Konzepten zu hoch. Wir lernen zwei weitere Konzepte kennen, die uns helfen, diese Komplexit\u00e4t zu meistern: Services und Routing .","title":"Datenfluss von Kind- auf Elternkomponenten"},{"location":"books/#service-bookstoreservice","text":"Derzeit ist die Liste (genauer: das Array) unserer B\u00fccher statisch als JSON innerhalb der Komponente BookListComponent gespeichert (siehe in ngOnInit() this.books = [ ... ] ). Die BookListComponent verwaltet somit die B\u00fccher und stellt diese auch noch als Liste dar. Wir wollen die Darstellung unabh\u00e4ngig von der \"Datenspeicherung\" gestalten und die Datenverwaltung (Speicherung und Bereitstellung) in einen Service auslagern (siehe Angular\u2192Services ). Um einen Service mithilfe der CLI anzulegen (zu generieren), verwenden wir das Attribut service anstelle von component . Au\u00dferdem ist es guter Stil, Services in den shared -Ordner abzulegen, da ja alle Komponenten einen Service nutzen k\u00f6nnen. Wir erzeugen einen Service BookStoreService : ng g service shared/book-store Nach der Erzeugung sieht der Service zun\u00e4chst so aus: book-store.service.ts import { Injectable } from '@angular/core' ; @ Injectable ({ providedIn : 'root' }) export class BookStoreService { constructor () { } } F\u00fcr Services gibt es keine Lifecycle-Hooks. Wir finden hier deshalb auch keine ngOnInit() -Methode. W\u00e4hrend Komponenten den Decorator @Component() aufweisen, wird f\u00fcr Services der Decorator @Injectable() verwendet. Mit diesem Decorator geben wir an, dass der Service weitere Abh\u00e4ngigkeiten einbinden kann. Dies geschieht typischerweise \u00fcber einen Parameter im Konstruktor - eine soganannte dependency injection (wenn \u00fcber den Konstruktor, dann constructor injection ). Auch wenn wir eine solche Abh\u00e4ngigkeit nicht einbinden, sollte der Decorator @Injectable() stets f\u00fcr einen Service angegeben werden. Dies liegt daran, dass wir diesen Decorator um die providedIn -Eigenschaft erweitern. Mit providedIn: 'root' geben wir an, dass der Service allen Komponenten (im gesamten Root-Modul) zur Verf\u00fcgung steht, er also von allen Komponenten genutzt werden kann. In unseren Service integrieren wir nun folgende Eigenschaften: das Book -Array books aus der BookListComponent und die Methode getAll() , die dieses Array zur\u00fcckgibt, also alle B\u00fccher aus dem Array books . book-store.service.ts import { Injectable } from '@angular/core' ; import { Book } from './book' ; @ Injectable ({ providedIn : 'root' }) export class BookStoreService { books : Book []; constructor () { this . books = [ { isbn : '9783864906466' , /* das gesamte Array aus book-list.component.ts hier her bewegen */ }, } getAll () : Book [] { return this . books ; } } book-list.component.ts import { Component , EventEmitter , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { books : Book []; @ Output () showDetailsEvent = new EventEmitter < Book > (); constructor () { } ngOnInit () : void { } showDetails ( book : Book ) { this . showDetailsEvent . emit ( book ); } } Es wurde also die gesamte Wertebelegung f\u00fcr this.books mit dem JSON von der Datei book-list.component.ts (dort aus ngOnInit() ) nach book-store.service.ts (hier in den Konstruktor constructor() - Liefecycle-hooks gibt es f\u00fcr Services ja nicht) verschoben. Dazu wurde dem Service die Eigenschaft books hinzugef\u00fcgt (Typ Book[] - das Interface Book muss dazu importiert werden). Au\u00dferdem wurde in dem Service die Methode getAll() implementiert. Nun kann der Service in der BookListComponent verwendet werden. Dazu werden der BookService importiert, der BookService mittels dependency injection ( constructor injection ) in die Komponente eingebunden und die Methode getAll() des Services aufgerufen, um die Eigenschaft this.books mit dem Book -Array zu initialisieren. book-list.component.ts import { Component , EventEmitter , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; import { BookStoreService } from '../shared/book-store.service' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { books : Book []; @ Output () showDetailsEvent = new EventEmitter < Book > (); constructor ( private bs : BookStoreService ) { } ngOnInit () : void { this . books = this . bs . getAll (); } showDetails ( book : Book ) { this . showDetailsEvent . emit ( book ); } } Beachten Sie, dass die dependency injection des Services dazu f\u00fchrt, dass bs eine Eigenschaft der BookListComponent ist, ohne dass diese Eigenschaft explizit deklariert wird. In ngOnInit() wird \u00fcber this.bs auf den Service zugegriffen. Die Anwendung sieht zwar genauso aus wie vorher, aber wir haben die BookListComponent davon entlastet, das B\u00fccher-Array speichern zu m\u00fcssen. Diesen Dienst haben wir in einen Service augelagert, der au\u00dferdem noch die Methode getAll() zur Verf\u00fcgung stellt, mit dem das gesamte B\u00fccher-Array zur\u00fcckgegeben wird. Success Der f\u00fcnfte Teil unserer B\u00fccher-App ist erstellt! Die Anwendung sieht zwar genauso aus wie vorher, aber wir haben die BookListComponent davon entlastet, das B\u00fccher-Array speichern zu m\u00fcssen. Diesen Dienst haben wir in einen Service augelagert, der au\u00dferdem noch die Methode getAll() zur Verf\u00fcgung stellt, mit dem das gesamte B\u00fccher-Array zur\u00fcckgegeben wird. Nun wollen wir mithilfe von Routing besser durch unsere Anwendung navigieren.","title":"Service BookStoreService"},{"location":"books/#routing","text":"Derzeit hat unsere App zwei Sichten: einerseits die Listenansicht aller B\u00fccher (Template der BookListComponent , wobei jede Zeile der Liste/jedes Buch durch das Template der BookListItemComponent dargestellt wird) und die Detailansicht eines Buches (Template der BookDetailsComponent ). Zwischen diesen Sichten ( views ) wechseln wir durch Nutzereignisse hin- und her. Von der Listenansicht auf die Detailansicht kommen wir durch Anklicken einer Buchzeile und zur\u00fcck kommen wir durch Klicken des Buttons \"Zur\u00fcck zur Buchliste\". Unsere URL bleibt jedoch immer gleich, n\u00e4mlich localhost:4200 . Ein direkter Zugriff auf die Detailansicht eines Buches ist nicht m\u00f6glich, sondern erfolgt immer \u00fcber die Listenansicht. Dies soll im folgenden ge\u00e4ndert werden. Zum Beispiel k\u00f6nnte die Detailansicht des Buches mit der ISBN 9783864906466 mithilfe der URL localhost:4200/books/9783864906466 erfolgen. Eine solche URL h\u00e4tte auch den Vorteil, dass man diese URL an andere versenden k\u00f6nnte, um auf ein konkretes Buch aufmerksam zu machen. Zur Erstellung solcher Pfade wird das Konzept des Routings in Angular verwendet (siehe Angular \u2192 Routing ). Wir erweitern unsere B\u00fccher-App zun\u00e4chst um eine weitere Komponente home . ng g c home","title":"Routing"},{"location":"books/#routen-konfigurieren","text":"In der app-routing.module.ts werden wir 4 Routen konfigurieren: /home zeigt die HomeComponent / wird auf die /home -Route umgeleitet, zeigt also ebenfalls auf die HomeComponent /books zeigt auf die BookListComponent /books/:isbn zeigt auf die BooksDetailsComponent f\u00fcr das entsprechende Buch mit der isbn des Parameterwertes app-routing.module.ts import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { HomeComponent } from './home/home.component' ; import { BookDetailsComponent } from './book-details/book-details.component' ; import { BookListComponent } from './book-list/book-list.component' ; const routes : Routes = [ { path : '' , redirectTo : 'home' , pathMatch : 'full' }, { path : 'home' , component : HomeComponent }, { path : 'books' , component : BookListComponent }, { path : 'books/:isbn' , component : BookDetailsComponent }, ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } app.component.html < router-outlet ></ router-outlet > Die app.component.html enth\u00e4lt nun nur noch das <router-outlet></router-outlet> -Element. Wenn wir nun http://localhost:4200 aufrufen, werden wir zu http://localhost:4200/home umgeleitet und es erscheint die View der HomeComponent ( home works! ). Wir k\u00f6nnen aber auch http://localhost:4200/books eingeben und es erscheint die View der BookListComponent , also die gesamte Liste unserer B\u00fccher.","title":"Routen konfigurieren"},{"location":"books/#parametrisierte-route-auslesen","text":"Wenn wir z.B. http://localhost:4200/books/9783864906466 aufrufen, also eine ISBN \u00fcbergeben, bleibt die angezeigte Seite der BookDetailsComponent leer. Das liegt daran, dass die in der URL \u00fcbergebene ISBN noch nicht verwaltet wird, um das entsprechende Buch herauszusuchen und anzuzeigen. Dazu erweitern wir zun\u00e4chst den BookStoreService : Caution Achten Sie darauf, dass Sie nur den Teil hinzuf\u00fcgen, der noch nicht in Ihrer book-store.service.ts enthalten ist. Diese Datei ist durch das JSON schon recht lang. Es kommen nur die Zeilen 18-20 hinzu! shared/book-store.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import { Injectable } from '@angular/core' ; import { Book } from './book' ; @ Injectable ({ providedIn : 'root' }) export class BookStoreService { books : Book []; constructor () { this . books = [ /* alle Eintr\u00e4ge */ ]; } getAll () : Book [] { return this . books ; } getSingle ( isbn : string ) : Book { return this . books . find ( book => ( book . isbn === isbn )); } } Wir m\u00fcssen nun noch die ISBN auslesen, die in der URL \u00fcbergeben wird. Das Auslesen von Parameterwerten aus URLs ist in Angular \u2192 Parameter an Routen beschrieben. Dazu wird book-details.component.ts wie folgt erweitert : ActivatedRoute wird importiert und dem Konstruktor injiziert, um mithilfe von route.snapshot.paramMap die aktuellen Werte der in der URL \u00fcbergebenen Parameter abzufragen. Der BookStoreService wird importiert und dem Konstruktor injiziert, um auf das Array aller B\u00fccher, insbesondere aber auf die getSingle(isbn: string) -Funktion zuzugreifen, die das Buch mit der \u00fcbergebenen isbn zur\u00fcckgibt. Daf\u00fcr entfallen einige Sachen aus der book-details.component.ts : Wir wechseln die Ansichten nicht mehr durch ein Ereignis, sondern \u00fcberlassen dies dem Router. Deshalb entfernen wir die @Output() -Eigenschaft showListEvent und die Methode showBookList() . Das ausgew\u00e4hlte Buch gelangt nun nicht mehr \u00fcber property binding in das Template, sondern \u00fcber die Eigenschaft this.book (die ihren Wert von der Methode getSingle() des BookStoreService erh\u00e4lt). Wir k\u00f6nnen deshalb auch den @Input() -Decorator von book: Book entfernen. book-details.component.ts (neu) import { Component , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-details' , templateUrl : './book-details.component.html' , styleUrls : [ './book-details.component.css' ] }) export class BookDetailsComponent implements OnInit { ngOnInit () { } getRating ( num : number ) { return new Array ( num ); } } book-details.component.ts (alt) import { Component , EventEmitter , Input , OnInit , Output } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-details' , templateUrl : './book-details.component.html' , styleUrls : [ './book-details.component.css' ] }) export class BookDetailsComponent implements OnInit { @ Input () book : Book ; @ Output () showListEvent = new EventEmitter < any > (); ngOnInit () { } getRating ( num : number ) { return new Array ( num ); } showBookList () { this . showListEvent . emit (); } } In der book-details.component.html wird der Button entfernt, also der folgende Teil gel\u00f6scht: < button class = \"ui red button\" ( click )=\" showBookList ()\" > Zur\u00fcck zur Buchliste </ button > Success Jetzt wird die Detail-Ansicht eines jeden Buches angezeigt, wenn Sie eine existierende isbn \u00fcbergeben. Also z.B. http://localhost:4200/books/9783864906466 (oder http://localhost:4200/books/9783864903274 oder http://localhost:4200/books/978-3-86490-578-0 ). Bei einer nicht existierenden isbn (z.B. http://localhost:4200/books/123 ) bleibt die Seite leer.","title":"Parametrisierte Route auslesen"},{"location":"books/#routen-verlinken","text":"Derzeit m\u00fcssen wir die Routen noch jeweils als URL in den Browser eingeben. Wir wollen uns nun ein Navigationsmen\u00fc erzeugen, in dem wir die jeweiligen Routen als Links hinterlegen und somit \u00fcber Klicks die jeweiligen Komponenten aufrufen. Das prinzipielle Vorgehen ist in Angular \u2192 Routen verlinken beschrieben. Unsere Navigationsleiste f\u00fcgen wir am besten in die AppComponent ein, damit sie immer sichtbar bleibt. app.component.html < div class = \"ui menu\" > < a routerLink = \"home\" class = \"item\" > Home </ a > < a routerLink = \"books\" class = \"item\" > B\u00fccher </ a > </ div > < router-outlet ></ router-outlet > Jetzt binden wir in unserer Listen-Ansicht aller B\u00fccher noch die isbn -Eigenschaft an die routerLink -Property, um ein konkretes Buch mit der entsprechenden isbn auszuw\u00e4hlen. Wir passen dazu die book-list.component.html wie folgt an: book-list.component.html 1 2 3 4 5 6 7 < div class = \"ui middle aligned selection divided list\" > < app-book-list-item class = \"item\" * ngFor = \"let b of books\" [ book ]=\" b \" [ routerLink ]=\" b . isbn \" > </ app-book-list-item > </ div > Das click -Ereignis wird nun also nicht mehr ben\u00f6tigt und behandelt. Stattdessen binden wir mit property binding die isbn als Pfad an die Eigenschaft routerLink . Der Pfad ergibt sich somit aus der aktuellen Komponente ( /books ) und der isbn des Buches, auf das wir klicken. Daraus ergibt sich der Pfad /books/isbn ( isbn wird durch den konkreten String ersetzt). Wir erweitern noch das Template der HomeComponent um einen Button, mit dem wir zur B\u00fccherliste kommen: home.component.html 1 2 3 4 5 6 < h1 > Home </ h1 > < p > Herzlich willkommen zur B\u00fccher-App! </ p > < a routerLink = \"../books\" class = \"ui red button\" > B\u00fccherliste anzeigen < i class = \"right arrow icon\" ></ i > </ a > Der Pfad ../books ist releativ zur HomeComponent , also erst \"raus\" aus /home und dann nach /books .","title":"Routen verlinken"},{"location":"books/#aktive-links-stylen-und-aufraumen","text":"Den jeweils aktiven Men\u00fcpunkt werden wir nun noch farbig gestalten, damit wir am Men\u00fc erkennen, wo wir uns in unserer Anwendung gerade befinden. Wir gehen vor wie in Angular \u2192 Styles f\u00fcr aktive Routen beschrieben und nutzen die CSS-Klasse active des Semantic-UI-CSS-Frameworks . Wir f\u00fcgen also zwei Mal routerLinkActive=\"active\" in unsere app.component.html ein: app.component.html 1 2 3 4 5 < div class = \"ui menu\" > < a routerLink = \"home\" routerLinkActive = \"active\" class = \"item\" > Home </ a > < a routerLink = \"books\" routerLinkActive = \"active\" class = \"item\" > B\u00fccher </ a > </ div > < router-outlet ></ router-outlet > In unserer Navigationsleiste ist nun das jeweilige Element grau hinterlegt, je nachdem, wo wir uns befinden. Wir r\u00e4umen in unseren Komponenten noch ein wenig auf: in BookDetailsComponent haben wir bereits showListEvent , showBookList() , @Input() -Decorator und die entsprechenden Importe ( Input , Output und EventEmitter ) gel\u00f6scht in BookListComponent l\u00f6schen wir showDetailsEvent , showDetails() und die entsprechenden Importe ( Output und EventEmitter ) in AppComponent l\u00f6schen wir book , viewState , showList() , showDetails() und den Typ ViewState sowie den Import f\u00fcr Book book-details.component.ts import { Component , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; @ Component ({ selector : 'app-book-details' , templateUrl : './book-details.component.html' , styleUrls : [ './book-details.component.css' ] }) export class BookDetailsComponent implements OnInit { @ Input () book : Book ; @ Output () showListEvent = new EventEmitter < any > (); ngOnInit () { } getRating ( num : number ) { return new Array ( num ); } showBookList () { this . showListEvent . emit (); } } book-list.component.ts import { Component , OnInit } from '@angular/core' ; import { Book } from '../shared/book' ; import { BookStoreService } from '../shared/book-store.service' ; @ Component ({ selector : 'app-book-list' , templateUrl : './book-list.component.html' , styleUrls : [ './book-list.component.css' ] }) export class BookListComponent implements OnInit { books : Book []; constructor ( private bs : BookStoreService ) { } ngOnInit () : void { this . books = this . bs . getAll (); } } app.component.ts import { Component } from '@angular/core' ; @ Component ({ selector : 'app-root' , templateUrl : './app.component.html' , styleUrls : [ './app.component.css' ] }) export class AppComponent { } Success Der sechste Teil unserer B\u00fccher-App ist erstellt! Wir haben unsere Anwendung um ein Routing erg\u00e4nzt. Wir k\u00f6nnen Routen konfigurieren, parametrisierte Routen auslesen, Routen verlinken und aktive Links stylen. Die Zust\u00e4nde unserer Anwendung werden nun \u00fcber lesbare URL-Pfade abgebildet. RouterOutlets sind Platzhalter f\u00fcr die zu ladenden Komponenten. Kindkomponenten werden in das RouterOutlet der Elternkomponente geladen. Routen lassen sich so verschachteln.","title":"Aktive Links stylen und aufr\u00e4umen"},{"location":"css/","text":"CSS \u00b6 C ascading S tyle S heets werden verwendet, um dem HTML-Dokument einen ansprechenden Stil (Font, Farben, ...) zuzuweisen, das Layout des HTML-Dokumentes zu definieren (3-Spalten-Layout, 2-Spalten-Layout, Kopf- und Fu\u00dfzeile, ...) das Layout responsive zu gestalten, d.h. unterschiedliche Ansichten des HTML-Dokumentes zu definieren, je nach Bildschirmgr\u00f6\u00dfe (Mobile, Tablet, Desktop) Generell gilt, dass wir mit HTML ausschlie\u00dflich die Inhalte definieren, das Design jedoch mit CSS. Sehen wir uns dazu folgendes erstes Beispiel an: In obigem Beispiel werden f\u00fcr die HTML-Elemente, die in unserem HTML-Doument verwendet werden, unterschiedliche CSS-Eigenschaften definiert. Die generelle Syntax f\u00fcr CSS-Eigenschaften ist: selektor { eigenschaft : wert ; } So wird in obigem Beispiel f\u00fcr das HTML-Element body der Eigenschaft font-family der Wert verdana zugeordnet. Somit ist der gesamte Text in <body> in der Schriftart Verdana . Dies gilt auch f\u00fcr alle Elemente, die hierarchisch \"unter\" <body> angesiedelt sind, also alle <h1> -, <h3> -, <p> -, <span> - und <a> -Elemente. Die Eigenschaftsdefinitionen kaskadieren also nach unten - daher cascading style sheets. Da alle <p> -Elemente fett geschrieben werden, sind auch die darin enthaltenen Elemente fett, also <a> und <span> . Begriffsbezeichnungen bei CSS-Definitionen: Ort der CSS-Definitionen \u00b6 Es gibt drei \"Orte\", an denen CSS-Eigenschaften f\u00fcr ein HTML-Dokument definiert werden k\u00f6nnen: in einer externen CSS-Datei. Diese endet typischerweise mit der Dateiendung .css und wird im <head> des HTML-Dokumentes mithilfe von <link rel=\"stylesheet\" href=\"mystyle.css\"> (hier hei\u00dft die externe Datei mystyle.css ) eingebunden (siehe unten), innerhalb eines <style> -Elementes ebenfalls im <head> des HTML-Dokumentes (siehe unten), als style -Attribut eines HTML-Elementes (siehe unten). 3 Orte der CSS-Definitionen - HTML <!DOCTYPE html> < html lang = \"de\" > < head > < meta charset = \"UTF-8\" > <!-- 1. Einbinden einer externen CSS-Datei --> < link rel = \"stylesheet\" href = \"mystyle.css\" > < title > CSS-Einf\u00fchrung </ title > <!-- 2. Verwenden des <style>-Elementes --> < style > h1 { color : red ; } </ style > </ head > < body > < h1 > \u00dcberschrift </ h1 > <!-- 3. style-Attribut eines HTML-Elementes --> < p style = \"border: 1px solid blue;\" > Das ist ein Absatz. </ p > </ body > </ html > mystyle.css body { font-family : vardana ; } Im obigen Beispiel wird in der externen CSS-Datei mystyle.css definiert, dass der im gesamten Dokument verwendete Font Verdana sein soll. Im <style> -Element wird als Schriftfarbe f\u00fcr <h1> -\u00dcberschriften rot festgelegt, das gilt f\u00fcr alle <h1> -\u00dcberschriften des Dokumentes. Das style -Attribut des HTML-Elementes <p> legt f\u00fcr diesen Absatz fest, dass er blau umrandet sein soll. Das gilt nicht f\u00fcr alle <p> -Elemente, sondern nur f\u00fcr das Element mit dem style -Attribut. Eine recht gute \u00dcbersicht \u00fcber alle existierenden CSS-Eigenschaften bietet W3Schhols . Selektoren \u00b6 Bis jetzt haben wir in unseren Beispielen \"nur\" HTML-Elemente als Selektoren verwendet. Es gibt eine Vielzahl anderer M\u00f6glichkeiten, bestimmten HTML-Elementen CSS-Eigenschaften zuzuweisen. Nochmal zur Wiederholung: der generelle Aufbau einer CSS-Definition ist selektor { eigenschaft : wert ; } Wir werden nun die unterschiedlichen M\u00f6glichkeiten der Selektoren (und Operatoren \u00fcber diese Selektoren) betrachten. Wir betrachten zun\u00e4chst HTML-Elemente, IDs, Klassen und Attribute als Selektoren. Zu den IDs ist zu sagen, dass Sie jedem HTML-Element eine eindeutige id zuweisen k\u00f6nnen, z.B. <div id=\"main\"> . Jedes Element darf nur eine id besitzen und eine id darf in einem HTML-Dokument nur einmal vergeben - muss also eindeutig - sein. Klassen weisen Sie Elementen mit dem class -Attribut zu, also z.B. <div class=\"smallFont blueColor yellowBackground\"> . Klassennamen k\u00f6nnen Sie frei w\u00e4hlen (keine Leer- und Sonderzeichen!). Wenn Sie, wie im Beispiel, mehrere Klassen zuweisen, dann durch einen Leerschritt getrennt. Im Beispiel wurde dem <div> drei Klassen zugewiesen. Sie k\u00f6nnen einem Element beliebig viele Klassen zuweisen und eine Klasse kann beliebig vielen Elementen zugewiesen werden. In den CSS-Deklarationen wird mittels # auf die IDs zugegriffen und mittels . auf die jeweilige Klasse. Siehe die folgende Liste der m\u00f6glichen Selektoren unter Verwendung von Elementnamen, IDs, Klassen und Attributen: Selektor Beispiel Erl\u00e4uterung * * alle HTML-Elemente ausgew\u00e4hlt (Wildcard) element h1 alle <h1> -Elemente ausgew\u00e4hlt element element section h1 alle <h1> -Elemente innnerhalb eines <section> -Element ausgew\u00e4hlt (Nachfahren) element, element section, h1 alle <h1> -Elemente und alle <section> -Elemente ausgew\u00e4hlt element>element section>h1 alle <h1> -Elemente deren direkte Eltern ein <section> -Element sind (Kinder) element+element section+h1 alle <h1> -Elemente, die direkt nach einem <section> -Element stehen .class .container alle Elemente mit class=\"container\" , d.h. container muss eine zugeordnete Klasse sein .class1.class2 .container.top alle Elemente mit class=\"container top\" , d.h. container und top m\u00fcssen zugeordnete Klassen sein .class1 .class2 .container .top alle Elemente mit class=\"top\" , welche in Elementen mit class=\"container\" sind (Nachfahren) #id #main das Element mit id=\"main\" (id eindeutig - nur einmal vergeben) [attribute] [src] alle Elemente mit einem src -Attribut [attribute=value] [target=_blank] alle Elemente, die ein target -Attribut besitzen und dessen Wert muss genau _blank sein [attribute*=value] [src*=\"localhost\"] alle Elemente, die ein src -Attribut besitzen und dessen Wert enth\u00e4lt das Wort localhost [attribute^=value] [href^=\"https\"] alle Elemente, die ein href -Attribut besitzen und dessen Wert beginnt mit dem Wort https [attribute$=value] [href$=\"php\"] alle Elemente, die ein href -Attribut besitzen und dessen Wert endet mit dem Wort php Dar\u00fcber hinaus gibt es auch sogenannte Pseudo-Klassen und Pseudo-Elemente , die wir als Selektoren verwenden k\u00f6nnen. Wir betrachten zum besseren Verst\u00e4ndinis zun\u00e4chst ein Beispiel, um eine Idee davon zu bekommen. Angenommen, wir haben in unserem HTML-Dokument einen Hyperlink ( # refrenziert auf den Beginn derselben Seite): < a href = \"#\" > Neu laden </ a > So ein Hyperlink besitzt zus\u00e4tzliche Pseudo-Klassen link , visited , hover , active . Diese Klassen sind f\u00fcr bestimmte Zust\u00e4nde des Elementes aktiv. Die Pseudoklasse link ist aktiv f\u00fcr noch nicht angeklickte Hyperlinks, visited bei bereits angeklickten, hover (gibt es f\u00fcr alle Elemente) sobald man die Maus \u00fcber das Element h\u00e4lt und active f\u00fcr den Zeitpunkt, zu dem man gerade den Hyperlink anklickt. Pseudoklassen werden \u00fcber element:pseudoklasse angesprochen. Ein CSS k\u00f6nnte also z.B. so aussehen: a { /* alle links */ text-decoration : none ; } a : link { /* noch nicht angeklickt */ color : red ; } a : visited { /* bereits angeklickt */ color : darkgrey ; } a : hover { /* mouse over */ color : limegreen ; } a : active { /* wird gerade angeklickt */ color : lightblue ; } Pseudo-Klasse Beispiel Erl\u00e4uterung des Beispiels :link a:link alle <a> -Elemente, die noch nicht besucht (geklickt) wurden :visited a:visited alle <a> -Elemente, die bereits besucht (geklickt) wurden :hover img:hover das <img> -Element, \u00fcber dem die Maus verweilt (mouse over) :active a:active das <a> -Element, auf das gerade geklickt wird :empty p:empty alle <p> -Elemente, die keine Kinder haben :first-child p:first-child alle <p> -Elemente, die das jeweils erste Kind ihres Elternelmentes sind :first-of-type p:first-of-type alle <p> -Elemente, die das jeweils erste <p> -Element ihres Elternelementes sind :nth-child(n) p:nth-child(2) alle <p> -Elemente, die das jeweils zweite Kind ihres Elternelmentes sind :nth-of-type(n) p:nth-of-type(2) alle <p> -Elemente, die das jeweils zweite <p> -Element ihres Elternelementes sind :only-child p:only-child alle <p> -Elemente, die das jeweils einzige Kind ihres Elternelementes sind :only-of-type p:only-of-type alle <p> -Elemente, die das jeweils einzige <p> -Element ihres Elternelementes sind In den runden Klammern, in denen Zahlen angegeben werden k\u00f6nnen ( :nth-child(n) und :nth-of-type(n) ), k\u00f6nnen Sie anstelle der Zahl auch odd und even einsetzen. So lassen sich z.B. Tabellenzeilen abwechselnd in verschiedenen Hintergrundfarben anzeigen /* unterschiedliche Spaltenfarben */ td : nth-child ( even ) { background-color : lightgrey ; } td : nth-child ( odd ) { background-color : darkgrey ; } /* unterschidliche Zeilenfarben */ tr : nth-child ( even ) { background-color : white ; } tr : nth-child ( odd ) { background-color : grey ; } Neben den oben genannten Pseudoklassen gibt es auch noch deren Pendants: :last-child , :last-of-type , :nth-last-child(n) , :nth-last-of-type(n) . F\u00fcr <input> -Elemente gibt es zus\u00e4tzlich eine Reihe weiterer Pseudo-Klassen. Hier eine Auswahl an Pseudo-Klassen f\u00fcr <input> -Elemente: Pseudo-Klasse Beispiel Erl\u00e4uterung des Beispiels :checked input:checked alle checked <input> -Elemente :disabled input:disabled alle disabled <input> -Elemente :enabled input:enabled alle disabled <input> -Elemente :focus input:focus das <input> -Element, das Fokus hat :invalid input:invalid alle <input> -Elemente mit einem ung\u00fcltigen Wert :optional input:optional alle <input> -Elemente, die nicht \"required\" sind :read-only input:read-only alle <input> -Elemente mit einem \"readonly\"-Attribut :read-write input:read-write alle <input> -Elemente, die kein \"readonly\"-Attribut haben :required input:required alle <input> -Elemente mit einem \"required\"-Attribut :valid input:valid alle <input> -Elemente mit einem g\u00fcltigen Wert Pseudo-Elemente sind so \u00e4hnlich wie Pseudo-Klassen, werden aber \u00fcber :: angesprochen anstelle : bei Pseudo-Klassen. Hier ein Beispiel f\u00fcr ein Pseudo-Element: HTML < p > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > CSS mit Pseudo-Elementen p :: first-letter { font-size : 300 % ; } p :: first-line { font-weight : bold ; } Das Ergebnis sieht dann so aus: Der erste Buchstabe in einem Absatz ist um das Dreifache gr\u00f6\u00dfer als der Rest der Textes und die erste Zeile in diesem Absatz wird fettgedruckt. Auswahl an Pseudo-Elementen: Pseudo-Elemente Beispiel Erl\u00e4uterung des Beispiels ::after p::after f\u00fcge etwas hinter den Inhalt aller <p> -Elemente ein ::before p::before f\u00fcge etwas vor den Inhalt aller <p> -Elemente ein ::first-letter p::first-letter alle ersten Buchstaben aller <p> -Elemente ::first-line p::first-line alle ersten Zeilen aller <p> -Elemente ::selection p::selection alle vom Nutzer markierten (selektierten) Teile eines <p> -Elementes Box Model \u00b6 Wenn Sie die Breite und die H\u00f6he eines Elementes mithilfe der width - und height -Eigenschaft von CSS angeben wollen, dann m\u00fcssen Sie beachten, dass Sie damit \"nur\" die H\u00f6he und Breite des Inahltes dieses Elementes angeben. Zur Gesamtbreite und -h\u00f6he eines Elementes z\u00e4hlen aber auch noch: padding : der Abstand des Inhaltes zum Rahmen ( border ) des Elementes, border : der Rahmen des Elementes (falls es einen gibt) und margin : der Abstand des Elementes zu den Nachbarelementen. Zusammen mit dem Inhalt des Elementes wird dieser Zusammenhang Box Model genannt. Folgende Darstellung zeigt das Box Model: Das Box Model besagt, dass alle HTML-Elemente als eine rechteckige \"Box\" verstanden werden k\u00f6nnen und diese Box aus dem Inhalt, padding , border und margin besteht. Beispiel Box Model - HTML < body > < h3 > Box Model </ h3 > < img src = \"./images/fiw.jpg\" alt = \"fiw logo\" style = \"width:350px\" /> < div > Das FIW-Logo hat eine Breite von 350px (width:350px). Der Inhalt dieser Box hat eine Breite von 320px. Dazu kommt padding von 10px (auf beiden Seiten) und ein Rahmen mit der Breite von 5px. Macht zusammen 350px. </ div > </ body > Beispiel Box Model - CSS div { width : 320 px ; padding : 10 px ; border : 5 px solid gray ; margin : 0 ; } Das Bild hat eine Breite von 350px (siehe style -Attribut von img ). Der Inhalt des div -Containers hat eine Breite von 320px . Der Abstand des Inhalts zum Rahmen ist links und rechts jeweils 10px und der Rahmen ist links und rechts jeweils 5px gro\u00df. Ergibt zusammen eine Breite von ( 320 + 10 + 10 + 5 + 5 = 350 ). Somit ist das div inklusive padding und border exakt so breit wie das Bild: Das hier beschriebene Box Model entspricht der CSS-Definition box-sizing: content-box; . Dies ist der Standard (muss also nicht angegeben werden). Daneben gibt es auch noch die M\u00f6glichkeit, anstelle von content-box den Wert border-box zu verwenden. Dann ist in der Angabe von width und height sowohl padding als auch border integriert - erweitern Sie obige CSS-Definition um * { box-sizing : border-box ; } Dann wird der Unterschied sichtbar. border-box kann aber zu Problemen bei der Verwendung anderer Frameworks f\u00fchren und sollte deshalb eher nicht verwendet werden. Die display -Eigenschaft \u00b6 Mithilfe der display -Eigenschaft k\u00f6nnen Block-Elemente als Inline-Elemente definiert werden und umgedreht. display:block definiert ein Element als Block-Element, display: inline definiert ein Element als Inline-Element. Au\u00dferdem gibt es noch die M\u00f6glichkeit, mithilfe von display: none; ein Element unsichtbar zu schalten. Dieses Element nimmt dann im Viewport , also dem sichtbaren Bereich der Webseite, keinen Platz ein (im Gegensatz zu einem Element, das mithilfe von visibility: hidden; auf unsichtbar gesetzt wird). Hier ein Beispiel zur Verwendung der display -Eigenschaft. Fahren Sie unter dem Reiter Result mit der Maus \u00fcber das orange umrandete div . Es gibt noch viele weitere Werte f\u00fcr display , auf die wir aber nicht n\u00e4her eingehen wollen. Eine \u00dcbersicht finden Sie z.B. hier . Layout gestalten mithilfe von CSS \u00b6 Wir werden f\u00fcr das Layout unserer Webseiten in Zukunft CSS-Frameworks, wie z.B. Bootstrap oder Materialize oder SemanticUI verwenden. F\u00fcr das Layout stellen diese Frameworks insbesondere ein Grid-Konzept zur Verf\u00fcgung, das recht einfach nutzbar ist und sogar f\u00fcr eine responsive Darstellung sorgt. Zun\u00e4chst wollen wir jedoch die Prinzipien verstehen, auf denen diese Frameworks (und deren Grid-Konzept) basieren. Mehrspaltig mithilfe von float \u00b6 Generell werden Container untereinander dargestellt, in der Reihenfolge ihres Auftretens im HTML. Betrachten wir ein einfaches Beispiel: < body > < p id = \"p1\" >< img src = \"./images/fiw.jpg\" alt = \"fiw-logo\" style = \"width:100px;\" /></ p > < p id = \"p2\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > < p id = \"p3\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > </ body > Untereinander definiert sind 3 Block-Elemente ( <p> -Elemente), die jeweils eine eigene id besitzen. Der erste Absatz enth\u00e4lt ein Bild mit der Breite 100px . Dies f\u00fchrt zu folgender Ansicht: Alle drei Block-Elemente sind also, wie erwartet, untereinander. Umflie\u00dfen lassen: float \u00b6 Angenommen, wir wollen nun, dass das Bild von Text umflossen wird, dass also der Absatz mit dem Bild neben den danach folgenden Abs\u00e4tzen erscheint. Dann kommt die CSS-Eigenschaft float ins Spiel. Wir k\u00f6nnen entscheiden, ob das Bild links sein soll und umflossen wird ( float: left; ) oder rechts sein und dort vom Text umflossen werden soll ( float: right; ). Wir f\u00fcgen exemplarisch folgende Eigenschaft (f\u00fcr die id p1 ) hinzu: # p1 { float : left ; margin-right : 15 px ; } Damit legen wir fest, dass der erste Absatz umflossen werden soll (und links bleibt - float: left; ). Mit der margin-right -Eigenschaft sorgen wir f\u00fcr einen Abstand zum unflie\u00dfenden Text. Es entsteht folgende Ansicht: Das hei\u00dft, dass alle folgenden Abs\u00e4tze den ersten Absatz umflie\u00dfen. Umflie\u00dfen stoppen: clear \u00b6 Das Umflie\u00dfen kann auch wieder gestoppt werden. Dies geschieht mithilfe der clear -Eigenschaft. Um float: left zu stoppen, wird clear: left verwendet und um float: right zu stoppen, wird clear: right verwendet. Sollte es mehrere Elemente mit einer float -Eigenschaft geben, kann zum Stoppen clear: both verwendet werden. Wenn wir nun also f\u00fcr den dritten Absatz definieren: # p3 { clear : left ; } , dann beginnt der dritte Absatz wieder am Beginn einer neuen Zeile unterhalb der beiden Abs\u00e4tze p1 und p2 . mehr als 2 Spalten \u00b6 Wenn wir nun alle 3 Abs\u00e4tze nebeneinander setzen wollen, dann definieren wir einfach f\u00fcr alle 3 Abs\u00e4tze float:left; . Damit alle 3 Abs\u00e4tze die gleiche Breite haben, geben wir noch f\u00fcr jeden Absatz an, dass er 33.33% des Viewports einnimmt ( width: 31.33% + padding:1% - links und rechts): # p1 , # p2 , # p3 { float : left ; width : 31.33 % ; padding : 1 % ; } Beachten Sie dazu noch folgende \u00c4nderung beim <img> -Element. Wir \u00e4ndern die Breite des Bildes von 100px (feste Breite) auf 100% (relative Breite - relativ zum Elternelement, das ist <p id=\"p1\"> ). < p id = \"p1\" >< img src = \"./images/fiw.jpg\" alt = \"fiw-logo\" style = \"width:100%;\" /></ p > Sch\u00f6ner - und \u00fcblicher, weil sp\u00e4ter auch so beim Grid-Konzept - ist es, den Elementen, die man nebeneinander anordnen m\u00f6chte, eine CSS-Klasse zuzuweisen, z.B. class=\"column\" und f\u00fcr diese Klasse dann die float -Eigenschaft mit zugeh\u00f6riger relativer Breite zu definieren. Au\u00dferdem f\u00fcgt man oft um die Spalten einen weiteren Container mit einer Klasse class=\"row\" (Beispiel) und kann dann f\u00fcr diese Klasse ( .row:after die clear -Eigenschaft definieren). Ein solches Beispiel nochmal hier: flexbox \u00b6 Wir werden sehen, dass das Grid-Konzept, das wir zuk\u00fcnftig verwenden werden, auf der float -Eigenschaft (zusammen mit width ) basiert. Ein Konzept, welches von der Komplexit\u00e4t \"zwischen\" float und dem Grid-Konzept liegt, ist flexbox . Mit flexbox ist das Nebeneinanderpositionieren von Containern recht einfach - insbesondere lassen sich auch recht leicht unterschiedliche Spaltenbreiten definieren- Wir gehen hier nicht weiter auf flexbox ein, sondern verweisen auf z.B. A Guide to Flexbox . Wertangaben in CSS \u00b6 Numerische Werte k\u00f6nnen in CSS absolut oder relativ angegeben werden, je nach verwendeter Einheit. Folgende Tabelle gibt eine \u00dcbersicht \u00fcber die unterschiedlichen Einheiten f\u00fcr numerische Werte. Einheit Angabetyp Bedeutung % relativ relativ entweder zur elementeigenen Gr\u00f6\u00dfe, zur Gr\u00f6\u00dfe des Elternelements oder zum allegemeinen Kontext cm absolut Zentimenter em relativ Schriftgr\u00f6\u00dfe des Elements (bei font-size aber Schriftgr\u00f6\u00dfe des Elternelements) ex relativ H\u00f6he des Kleinbuchstabens x im Element (bei font-size aber die Schriftgr\u00f6\u00dfe von x im Elternelement) in absolut inch (1 inch = 2,54 cm) mm absolut Milimeter pc absolut pica (1 pc = 12 Punkt) pt absolut Punkt (1 Punkt = 1/72 inch) px absolut und relativ absolut auf ein und dasselbe Ausgabeger\u00e4t bezogen und relativ von Ausgabeger\u00e4t zu Ausgabeger\u00e4t (Pixeldichte) Sie sollten absolute Angaben nur in Ausnahmef\u00e4llen verwenden. Wann immer es geht, ist eine relative Gr\u00f6\u00dfenangabe vorzuziehen. Somit werden am h\u00e4ufigsten % -Angaben und am zweith\u00e4ufigsten px -Angaben verwendet. em sieht man auch noch recht h\u00e4ufig. Von allen anderen Einheiten ist eher abzuraten. Custom Properties \u00b6 Sie k\u00f6nnen sich eigene Variablen f\u00fcr die Verwendung in CSS-Definitionen erstellen. Es ist \u00fcblich, solche Variablen in einem \"gro\u00dfen\" Scope zu definieren, da sie auf den definierten Scope beschr\u00e4nkt sind. D.h., dass man solche Variablen typischerweise f\u00fcr * (also alle Elemente) oder body definiert. Die Variablen beginnen stets mit -- , also z.B. --variablenname . Der Zugriff auf die Variablen erfolgt mit var() , also z.B. var(--variablenname) . Hier ein Beispiel f\u00fcr die Definition von HTW-Farben und -Font: * { -- htw-gruen : #76B900 ; -- htw-grau : #AFAFAF ; -- htw-orange : #FF5F00 ; -- htw-blau : #0082D1 ; -- htw-font : Verdana , Geneva , sans-serif ; } body { font-family : var ( -- htw - font ); } h1 { color : var ( -- htw - gruen ); } li a : hover { background-color : var ( -- htw - orange ); } . active { background-color : var ( -- htw - gruen ); } Gewichtung der Selektoren \u00b6 Insbesondere, wenn Sie noch CSS-Frameworks einbinden und/oder viele CSS-Definitionen haben, stellt sich die Frage, welche der Definitionen \u00fcberhaupt wirken. Eine gro\u00dfe Hilfe sind hier die Entwicklertools der Browser . Im folgenden Screenshot sehen Sie die Developer tools von Chrome. Im rechten unteren Fenster sind die definierten Styles angezeigt. Die nicht wirksamen Styledefinitionen sind durchgestrichen. Um zu ermitteln, welche Definition Anwendung findet, gibt es eine Gewichtung der Selektoren . Wichtig ist zu wissen, dass die Reihenfolge der Definitionen, egal ob im <style> -Element oder in externen CSS-Dateien keine Rolle spielt! Wir betrachten folgendes Beispiel, um die Gewichtung der Selektoren zu bestimmen: Wenn Sie sich zun\u00e4chst nur die CSS-Definitionen anschauen, dann sehen Sie, dass einem Link f\u00fcnf verschiedene Farben zugewiesen werden. Die Links sind aber rot. Es muss also aus einem bestimmten Grund die Definition # navigation a . link { color : red ; } am st\u00e4rksten wirken, d.h. der Selektor #navigation a.link hat in unserem Beispiel die st\u00e4rkste Gewichtung. Um die Gewichtung der Selektoren zu ermitteln, werden diese kategorisiert: Kategorie A : erh\u00e4lt den Wert 1, wenn CSS-Definitionen direkt im style-Attribut eines HTML-Elementes notiert sind Kategorie B : erh\u00e4lt den Wert 1 bei Selektoren f\u00fcr Elemente mit id -Attributen Kategorie C : Anzahl der von einem Selektor betroffenen Klassen und Pseudoklassen Kategorie D : Anzahl der von einem Selektor betroffenen Elementnamen und Pseudo-Elemente Bei der Reihenfolge der Sortierung gilt: A > B > C > D , also z.B. 1 0 0 0 vor (gr\u00f6\u00dfer als) 0 1 2 2 . Betrachten wir unser Beispiel: a:link : 0 0 1 1 (eine Pseudoklasse (link) und ein Element (a)) .link : 0 0 1 0 (eine Klasse) #navigation a.link : 0 1 1 1 (Element mit id -Attribut, eine Klasse und eine Element) li a : 0 0 0 2 (zwei Elemente) #navigation li a : 0 1 0 2 (Element mit id -Attribut, zwei Elemente) Es gilt 0 1 1 1 > 0 1 0 2 > 0 0 1 1 > 0 0 1 0 > 0 0 0 2 und deshalb sind die Links rot. In unserem Beispiel kommt kein style -Attribut vor, deshalb ist bei keinem Selektor die Kategorie A besetzt. W\u00e4re bei einem Link im HTML beispielsweise: < li >< a href = \"startseite.html\" class = \"link\" style = \"color: orange;\" > Startseite </ a ></ li > dann w\u00e4re dieser Link orange. Weitere Informationen \u00fcber CSS \u00b6 Folien CSS","title":"CSS"},{"location":"css/#css","text":"C ascading S tyle S heets werden verwendet, um dem HTML-Dokument einen ansprechenden Stil (Font, Farben, ...) zuzuweisen, das Layout des HTML-Dokumentes zu definieren (3-Spalten-Layout, 2-Spalten-Layout, Kopf- und Fu\u00dfzeile, ...) das Layout responsive zu gestalten, d.h. unterschiedliche Ansichten des HTML-Dokumentes zu definieren, je nach Bildschirmgr\u00f6\u00dfe (Mobile, Tablet, Desktop) Generell gilt, dass wir mit HTML ausschlie\u00dflich die Inhalte definieren, das Design jedoch mit CSS. Sehen wir uns dazu folgendes erstes Beispiel an: In obigem Beispiel werden f\u00fcr die HTML-Elemente, die in unserem HTML-Doument verwendet werden, unterschiedliche CSS-Eigenschaften definiert. Die generelle Syntax f\u00fcr CSS-Eigenschaften ist: selektor { eigenschaft : wert ; } So wird in obigem Beispiel f\u00fcr das HTML-Element body der Eigenschaft font-family der Wert verdana zugeordnet. Somit ist der gesamte Text in <body> in der Schriftart Verdana . Dies gilt auch f\u00fcr alle Elemente, die hierarchisch \"unter\" <body> angesiedelt sind, also alle <h1> -, <h3> -, <p> -, <span> - und <a> -Elemente. Die Eigenschaftsdefinitionen kaskadieren also nach unten - daher cascading style sheets. Da alle <p> -Elemente fett geschrieben werden, sind auch die darin enthaltenen Elemente fett, also <a> und <span> . Begriffsbezeichnungen bei CSS-Definitionen:","title":"CSS"},{"location":"css/#ort-der-css-definitionen","text":"Es gibt drei \"Orte\", an denen CSS-Eigenschaften f\u00fcr ein HTML-Dokument definiert werden k\u00f6nnen: in einer externen CSS-Datei. Diese endet typischerweise mit der Dateiendung .css und wird im <head> des HTML-Dokumentes mithilfe von <link rel=\"stylesheet\" href=\"mystyle.css\"> (hier hei\u00dft die externe Datei mystyle.css ) eingebunden (siehe unten), innerhalb eines <style> -Elementes ebenfalls im <head> des HTML-Dokumentes (siehe unten), als style -Attribut eines HTML-Elementes (siehe unten). 3 Orte der CSS-Definitionen - HTML <!DOCTYPE html> < html lang = \"de\" > < head > < meta charset = \"UTF-8\" > <!-- 1. Einbinden einer externen CSS-Datei --> < link rel = \"stylesheet\" href = \"mystyle.css\" > < title > CSS-Einf\u00fchrung </ title > <!-- 2. Verwenden des <style>-Elementes --> < style > h1 { color : red ; } </ style > </ head > < body > < h1 > \u00dcberschrift </ h1 > <!-- 3. style-Attribut eines HTML-Elementes --> < p style = \"border: 1px solid blue;\" > Das ist ein Absatz. </ p > </ body > </ html > mystyle.css body { font-family : vardana ; } Im obigen Beispiel wird in der externen CSS-Datei mystyle.css definiert, dass der im gesamten Dokument verwendete Font Verdana sein soll. Im <style> -Element wird als Schriftfarbe f\u00fcr <h1> -\u00dcberschriften rot festgelegt, das gilt f\u00fcr alle <h1> -\u00dcberschriften des Dokumentes. Das style -Attribut des HTML-Elementes <p> legt f\u00fcr diesen Absatz fest, dass er blau umrandet sein soll. Das gilt nicht f\u00fcr alle <p> -Elemente, sondern nur f\u00fcr das Element mit dem style -Attribut. Eine recht gute \u00dcbersicht \u00fcber alle existierenden CSS-Eigenschaften bietet W3Schhols .","title":"Ort der CSS-Definitionen"},{"location":"css/#selektoren","text":"Bis jetzt haben wir in unseren Beispielen \"nur\" HTML-Elemente als Selektoren verwendet. Es gibt eine Vielzahl anderer M\u00f6glichkeiten, bestimmten HTML-Elementen CSS-Eigenschaften zuzuweisen. Nochmal zur Wiederholung: der generelle Aufbau einer CSS-Definition ist selektor { eigenschaft : wert ; } Wir werden nun die unterschiedlichen M\u00f6glichkeiten der Selektoren (und Operatoren \u00fcber diese Selektoren) betrachten. Wir betrachten zun\u00e4chst HTML-Elemente, IDs, Klassen und Attribute als Selektoren. Zu den IDs ist zu sagen, dass Sie jedem HTML-Element eine eindeutige id zuweisen k\u00f6nnen, z.B. <div id=\"main\"> . Jedes Element darf nur eine id besitzen und eine id darf in einem HTML-Dokument nur einmal vergeben - muss also eindeutig - sein. Klassen weisen Sie Elementen mit dem class -Attribut zu, also z.B. <div class=\"smallFont blueColor yellowBackground\"> . Klassennamen k\u00f6nnen Sie frei w\u00e4hlen (keine Leer- und Sonderzeichen!). Wenn Sie, wie im Beispiel, mehrere Klassen zuweisen, dann durch einen Leerschritt getrennt. Im Beispiel wurde dem <div> drei Klassen zugewiesen. Sie k\u00f6nnen einem Element beliebig viele Klassen zuweisen und eine Klasse kann beliebig vielen Elementen zugewiesen werden. In den CSS-Deklarationen wird mittels # auf die IDs zugegriffen und mittels . auf die jeweilige Klasse. Siehe die folgende Liste der m\u00f6glichen Selektoren unter Verwendung von Elementnamen, IDs, Klassen und Attributen: Selektor Beispiel Erl\u00e4uterung * * alle HTML-Elemente ausgew\u00e4hlt (Wildcard) element h1 alle <h1> -Elemente ausgew\u00e4hlt element element section h1 alle <h1> -Elemente innnerhalb eines <section> -Element ausgew\u00e4hlt (Nachfahren) element, element section, h1 alle <h1> -Elemente und alle <section> -Elemente ausgew\u00e4hlt element>element section>h1 alle <h1> -Elemente deren direkte Eltern ein <section> -Element sind (Kinder) element+element section+h1 alle <h1> -Elemente, die direkt nach einem <section> -Element stehen .class .container alle Elemente mit class=\"container\" , d.h. container muss eine zugeordnete Klasse sein .class1.class2 .container.top alle Elemente mit class=\"container top\" , d.h. container und top m\u00fcssen zugeordnete Klassen sein .class1 .class2 .container .top alle Elemente mit class=\"top\" , welche in Elementen mit class=\"container\" sind (Nachfahren) #id #main das Element mit id=\"main\" (id eindeutig - nur einmal vergeben) [attribute] [src] alle Elemente mit einem src -Attribut [attribute=value] [target=_blank] alle Elemente, die ein target -Attribut besitzen und dessen Wert muss genau _blank sein [attribute*=value] [src*=\"localhost\"] alle Elemente, die ein src -Attribut besitzen und dessen Wert enth\u00e4lt das Wort localhost [attribute^=value] [href^=\"https\"] alle Elemente, die ein href -Attribut besitzen und dessen Wert beginnt mit dem Wort https [attribute$=value] [href$=\"php\"] alle Elemente, die ein href -Attribut besitzen und dessen Wert endet mit dem Wort php Dar\u00fcber hinaus gibt es auch sogenannte Pseudo-Klassen und Pseudo-Elemente , die wir als Selektoren verwenden k\u00f6nnen. Wir betrachten zum besseren Verst\u00e4ndinis zun\u00e4chst ein Beispiel, um eine Idee davon zu bekommen. Angenommen, wir haben in unserem HTML-Dokument einen Hyperlink ( # refrenziert auf den Beginn derselben Seite): < a href = \"#\" > Neu laden </ a > So ein Hyperlink besitzt zus\u00e4tzliche Pseudo-Klassen link , visited , hover , active . Diese Klassen sind f\u00fcr bestimmte Zust\u00e4nde des Elementes aktiv. Die Pseudoklasse link ist aktiv f\u00fcr noch nicht angeklickte Hyperlinks, visited bei bereits angeklickten, hover (gibt es f\u00fcr alle Elemente) sobald man die Maus \u00fcber das Element h\u00e4lt und active f\u00fcr den Zeitpunkt, zu dem man gerade den Hyperlink anklickt. Pseudoklassen werden \u00fcber element:pseudoklasse angesprochen. Ein CSS k\u00f6nnte also z.B. so aussehen: a { /* alle links */ text-decoration : none ; } a : link { /* noch nicht angeklickt */ color : red ; } a : visited { /* bereits angeklickt */ color : darkgrey ; } a : hover { /* mouse over */ color : limegreen ; } a : active { /* wird gerade angeklickt */ color : lightblue ; } Pseudo-Klasse Beispiel Erl\u00e4uterung des Beispiels :link a:link alle <a> -Elemente, die noch nicht besucht (geklickt) wurden :visited a:visited alle <a> -Elemente, die bereits besucht (geklickt) wurden :hover img:hover das <img> -Element, \u00fcber dem die Maus verweilt (mouse over) :active a:active das <a> -Element, auf das gerade geklickt wird :empty p:empty alle <p> -Elemente, die keine Kinder haben :first-child p:first-child alle <p> -Elemente, die das jeweils erste Kind ihres Elternelmentes sind :first-of-type p:first-of-type alle <p> -Elemente, die das jeweils erste <p> -Element ihres Elternelementes sind :nth-child(n) p:nth-child(2) alle <p> -Elemente, die das jeweils zweite Kind ihres Elternelmentes sind :nth-of-type(n) p:nth-of-type(2) alle <p> -Elemente, die das jeweils zweite <p> -Element ihres Elternelementes sind :only-child p:only-child alle <p> -Elemente, die das jeweils einzige Kind ihres Elternelementes sind :only-of-type p:only-of-type alle <p> -Elemente, die das jeweils einzige <p> -Element ihres Elternelementes sind In den runden Klammern, in denen Zahlen angegeben werden k\u00f6nnen ( :nth-child(n) und :nth-of-type(n) ), k\u00f6nnen Sie anstelle der Zahl auch odd und even einsetzen. So lassen sich z.B. Tabellenzeilen abwechselnd in verschiedenen Hintergrundfarben anzeigen /* unterschiedliche Spaltenfarben */ td : nth-child ( even ) { background-color : lightgrey ; } td : nth-child ( odd ) { background-color : darkgrey ; } /* unterschidliche Zeilenfarben */ tr : nth-child ( even ) { background-color : white ; } tr : nth-child ( odd ) { background-color : grey ; } Neben den oben genannten Pseudoklassen gibt es auch noch deren Pendants: :last-child , :last-of-type , :nth-last-child(n) , :nth-last-of-type(n) . F\u00fcr <input> -Elemente gibt es zus\u00e4tzlich eine Reihe weiterer Pseudo-Klassen. Hier eine Auswahl an Pseudo-Klassen f\u00fcr <input> -Elemente: Pseudo-Klasse Beispiel Erl\u00e4uterung des Beispiels :checked input:checked alle checked <input> -Elemente :disabled input:disabled alle disabled <input> -Elemente :enabled input:enabled alle disabled <input> -Elemente :focus input:focus das <input> -Element, das Fokus hat :invalid input:invalid alle <input> -Elemente mit einem ung\u00fcltigen Wert :optional input:optional alle <input> -Elemente, die nicht \"required\" sind :read-only input:read-only alle <input> -Elemente mit einem \"readonly\"-Attribut :read-write input:read-write alle <input> -Elemente, die kein \"readonly\"-Attribut haben :required input:required alle <input> -Elemente mit einem \"required\"-Attribut :valid input:valid alle <input> -Elemente mit einem g\u00fcltigen Wert Pseudo-Elemente sind so \u00e4hnlich wie Pseudo-Klassen, werden aber \u00fcber :: angesprochen anstelle : bei Pseudo-Klassen. Hier ein Beispiel f\u00fcr ein Pseudo-Element: HTML < p > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > CSS mit Pseudo-Elementen p :: first-letter { font-size : 300 % ; } p :: first-line { font-weight : bold ; } Das Ergebnis sieht dann so aus: Der erste Buchstabe in einem Absatz ist um das Dreifache gr\u00f6\u00dfer als der Rest der Textes und die erste Zeile in diesem Absatz wird fettgedruckt. Auswahl an Pseudo-Elementen: Pseudo-Elemente Beispiel Erl\u00e4uterung des Beispiels ::after p::after f\u00fcge etwas hinter den Inhalt aller <p> -Elemente ein ::before p::before f\u00fcge etwas vor den Inhalt aller <p> -Elemente ein ::first-letter p::first-letter alle ersten Buchstaben aller <p> -Elemente ::first-line p::first-line alle ersten Zeilen aller <p> -Elemente ::selection p::selection alle vom Nutzer markierten (selektierten) Teile eines <p> -Elementes","title":"Selektoren"},{"location":"css/#box-model","text":"Wenn Sie die Breite und die H\u00f6he eines Elementes mithilfe der width - und height -Eigenschaft von CSS angeben wollen, dann m\u00fcssen Sie beachten, dass Sie damit \"nur\" die H\u00f6he und Breite des Inahltes dieses Elementes angeben. Zur Gesamtbreite und -h\u00f6he eines Elementes z\u00e4hlen aber auch noch: padding : der Abstand des Inhaltes zum Rahmen ( border ) des Elementes, border : der Rahmen des Elementes (falls es einen gibt) und margin : der Abstand des Elementes zu den Nachbarelementen. Zusammen mit dem Inhalt des Elementes wird dieser Zusammenhang Box Model genannt. Folgende Darstellung zeigt das Box Model: Das Box Model besagt, dass alle HTML-Elemente als eine rechteckige \"Box\" verstanden werden k\u00f6nnen und diese Box aus dem Inhalt, padding , border und margin besteht. Beispiel Box Model - HTML < body > < h3 > Box Model </ h3 > < img src = \"./images/fiw.jpg\" alt = \"fiw logo\" style = \"width:350px\" /> < div > Das FIW-Logo hat eine Breite von 350px (width:350px). Der Inhalt dieser Box hat eine Breite von 320px. Dazu kommt padding von 10px (auf beiden Seiten) und ein Rahmen mit der Breite von 5px. Macht zusammen 350px. </ div > </ body > Beispiel Box Model - CSS div { width : 320 px ; padding : 10 px ; border : 5 px solid gray ; margin : 0 ; } Das Bild hat eine Breite von 350px (siehe style -Attribut von img ). Der Inhalt des div -Containers hat eine Breite von 320px . Der Abstand des Inhalts zum Rahmen ist links und rechts jeweils 10px und der Rahmen ist links und rechts jeweils 5px gro\u00df. Ergibt zusammen eine Breite von ( 320 + 10 + 10 + 5 + 5 = 350 ). Somit ist das div inklusive padding und border exakt so breit wie das Bild: Das hier beschriebene Box Model entspricht der CSS-Definition box-sizing: content-box; . Dies ist der Standard (muss also nicht angegeben werden). Daneben gibt es auch noch die M\u00f6glichkeit, anstelle von content-box den Wert border-box zu verwenden. Dann ist in der Angabe von width und height sowohl padding als auch border integriert - erweitern Sie obige CSS-Definition um * { box-sizing : border-box ; } Dann wird der Unterschied sichtbar. border-box kann aber zu Problemen bei der Verwendung anderer Frameworks f\u00fchren und sollte deshalb eher nicht verwendet werden.","title":"Box Model"},{"location":"css/#die-display-eigenschaft","text":"Mithilfe der display -Eigenschaft k\u00f6nnen Block-Elemente als Inline-Elemente definiert werden und umgedreht. display:block definiert ein Element als Block-Element, display: inline definiert ein Element als Inline-Element. Au\u00dferdem gibt es noch die M\u00f6glichkeit, mithilfe von display: none; ein Element unsichtbar zu schalten. Dieses Element nimmt dann im Viewport , also dem sichtbaren Bereich der Webseite, keinen Platz ein (im Gegensatz zu einem Element, das mithilfe von visibility: hidden; auf unsichtbar gesetzt wird). Hier ein Beispiel zur Verwendung der display -Eigenschaft. Fahren Sie unter dem Reiter Result mit der Maus \u00fcber das orange umrandete div . Es gibt noch viele weitere Werte f\u00fcr display , auf die wir aber nicht n\u00e4her eingehen wollen. Eine \u00dcbersicht finden Sie z.B. hier .","title":"Die display-Eigenschaft"},{"location":"css/#layout-gestalten-mithilfe-von-css","text":"Wir werden f\u00fcr das Layout unserer Webseiten in Zukunft CSS-Frameworks, wie z.B. Bootstrap oder Materialize oder SemanticUI verwenden. F\u00fcr das Layout stellen diese Frameworks insbesondere ein Grid-Konzept zur Verf\u00fcgung, das recht einfach nutzbar ist und sogar f\u00fcr eine responsive Darstellung sorgt. Zun\u00e4chst wollen wir jedoch die Prinzipien verstehen, auf denen diese Frameworks (und deren Grid-Konzept) basieren.","title":"Layout gestalten mithilfe von CSS"},{"location":"css/#mehrspaltig-mithilfe-von-float","text":"Generell werden Container untereinander dargestellt, in der Reihenfolge ihres Auftretens im HTML. Betrachten wir ein einfaches Beispiel: < body > < p id = \"p1\" >< img src = \"./images/fiw.jpg\" alt = \"fiw-logo\" style = \"width:100px;\" /></ p > < p id = \"p2\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > < p id = \"p3\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </ p > </ body > Untereinander definiert sind 3 Block-Elemente ( <p> -Elemente), die jeweils eine eigene id besitzen. Der erste Absatz enth\u00e4lt ein Bild mit der Breite 100px . Dies f\u00fchrt zu folgender Ansicht: Alle drei Block-Elemente sind also, wie erwartet, untereinander.","title":"Mehrspaltig mithilfe von float"},{"location":"css/#umflieen-lassen-float","text":"Angenommen, wir wollen nun, dass das Bild von Text umflossen wird, dass also der Absatz mit dem Bild neben den danach folgenden Abs\u00e4tzen erscheint. Dann kommt die CSS-Eigenschaft float ins Spiel. Wir k\u00f6nnen entscheiden, ob das Bild links sein soll und umflossen wird ( float: left; ) oder rechts sein und dort vom Text umflossen werden soll ( float: right; ). Wir f\u00fcgen exemplarisch folgende Eigenschaft (f\u00fcr die id p1 ) hinzu: # p1 { float : left ; margin-right : 15 px ; } Damit legen wir fest, dass der erste Absatz umflossen werden soll (und links bleibt - float: left; ). Mit der margin-right -Eigenschaft sorgen wir f\u00fcr einen Abstand zum unflie\u00dfenden Text. Es entsteht folgende Ansicht: Das hei\u00dft, dass alle folgenden Abs\u00e4tze den ersten Absatz umflie\u00dfen.","title":"Umflie\u00dfen lassen: float"},{"location":"css/#umflieen-stoppen-clear","text":"Das Umflie\u00dfen kann auch wieder gestoppt werden. Dies geschieht mithilfe der clear -Eigenschaft. Um float: left zu stoppen, wird clear: left verwendet und um float: right zu stoppen, wird clear: right verwendet. Sollte es mehrere Elemente mit einer float -Eigenschaft geben, kann zum Stoppen clear: both verwendet werden. Wenn wir nun also f\u00fcr den dritten Absatz definieren: # p3 { clear : left ; } , dann beginnt der dritte Absatz wieder am Beginn einer neuen Zeile unterhalb der beiden Abs\u00e4tze p1 und p2 .","title":"Umflie\u00dfen stoppen: clear"},{"location":"css/#mehr-als-2-spalten","text":"Wenn wir nun alle 3 Abs\u00e4tze nebeneinander setzen wollen, dann definieren wir einfach f\u00fcr alle 3 Abs\u00e4tze float:left; . Damit alle 3 Abs\u00e4tze die gleiche Breite haben, geben wir noch f\u00fcr jeden Absatz an, dass er 33.33% des Viewports einnimmt ( width: 31.33% + padding:1% - links und rechts): # p1 , # p2 , # p3 { float : left ; width : 31.33 % ; padding : 1 % ; } Beachten Sie dazu noch folgende \u00c4nderung beim <img> -Element. Wir \u00e4ndern die Breite des Bildes von 100px (feste Breite) auf 100% (relative Breite - relativ zum Elternelement, das ist <p id=\"p1\"> ). < p id = \"p1\" >< img src = \"./images/fiw.jpg\" alt = \"fiw-logo\" style = \"width:100%;\" /></ p > Sch\u00f6ner - und \u00fcblicher, weil sp\u00e4ter auch so beim Grid-Konzept - ist es, den Elementen, die man nebeneinander anordnen m\u00f6chte, eine CSS-Klasse zuzuweisen, z.B. class=\"column\" und f\u00fcr diese Klasse dann die float -Eigenschaft mit zugeh\u00f6riger relativer Breite zu definieren. Au\u00dferdem f\u00fcgt man oft um die Spalten einen weiteren Container mit einer Klasse class=\"row\" (Beispiel) und kann dann f\u00fcr diese Klasse ( .row:after die clear -Eigenschaft definieren). Ein solches Beispiel nochmal hier:","title":"mehr als 2 Spalten"},{"location":"css/#flexbox","text":"Wir werden sehen, dass das Grid-Konzept, das wir zuk\u00fcnftig verwenden werden, auf der float -Eigenschaft (zusammen mit width ) basiert. Ein Konzept, welches von der Komplexit\u00e4t \"zwischen\" float und dem Grid-Konzept liegt, ist flexbox . Mit flexbox ist das Nebeneinanderpositionieren von Containern recht einfach - insbesondere lassen sich auch recht leicht unterschiedliche Spaltenbreiten definieren- Wir gehen hier nicht weiter auf flexbox ein, sondern verweisen auf z.B. A Guide to Flexbox .","title":"flexbox"},{"location":"css/#wertangaben-in-css","text":"Numerische Werte k\u00f6nnen in CSS absolut oder relativ angegeben werden, je nach verwendeter Einheit. Folgende Tabelle gibt eine \u00dcbersicht \u00fcber die unterschiedlichen Einheiten f\u00fcr numerische Werte. Einheit Angabetyp Bedeutung % relativ relativ entweder zur elementeigenen Gr\u00f6\u00dfe, zur Gr\u00f6\u00dfe des Elternelements oder zum allegemeinen Kontext cm absolut Zentimenter em relativ Schriftgr\u00f6\u00dfe des Elements (bei font-size aber Schriftgr\u00f6\u00dfe des Elternelements) ex relativ H\u00f6he des Kleinbuchstabens x im Element (bei font-size aber die Schriftgr\u00f6\u00dfe von x im Elternelement) in absolut inch (1 inch = 2,54 cm) mm absolut Milimeter pc absolut pica (1 pc = 12 Punkt) pt absolut Punkt (1 Punkt = 1/72 inch) px absolut und relativ absolut auf ein und dasselbe Ausgabeger\u00e4t bezogen und relativ von Ausgabeger\u00e4t zu Ausgabeger\u00e4t (Pixeldichte) Sie sollten absolute Angaben nur in Ausnahmef\u00e4llen verwenden. Wann immer es geht, ist eine relative Gr\u00f6\u00dfenangabe vorzuziehen. Somit werden am h\u00e4ufigsten % -Angaben und am zweith\u00e4ufigsten px -Angaben verwendet. em sieht man auch noch recht h\u00e4ufig. Von allen anderen Einheiten ist eher abzuraten.","title":"Wertangaben in CSS"},{"location":"css/#custom-properties","text":"Sie k\u00f6nnen sich eigene Variablen f\u00fcr die Verwendung in CSS-Definitionen erstellen. Es ist \u00fcblich, solche Variablen in einem \"gro\u00dfen\" Scope zu definieren, da sie auf den definierten Scope beschr\u00e4nkt sind. D.h., dass man solche Variablen typischerweise f\u00fcr * (also alle Elemente) oder body definiert. Die Variablen beginnen stets mit -- , also z.B. --variablenname . Der Zugriff auf die Variablen erfolgt mit var() , also z.B. var(--variablenname) . Hier ein Beispiel f\u00fcr die Definition von HTW-Farben und -Font: * { -- htw-gruen : #76B900 ; -- htw-grau : #AFAFAF ; -- htw-orange : #FF5F00 ; -- htw-blau : #0082D1 ; -- htw-font : Verdana , Geneva , sans-serif ; } body { font-family : var ( -- htw - font ); } h1 { color : var ( -- htw - gruen ); } li a : hover { background-color : var ( -- htw - orange ); } . active { background-color : var ( -- htw - gruen ); }","title":"Custom Properties"},{"location":"css/#gewichtung-der-selektoren","text":"Insbesondere, wenn Sie noch CSS-Frameworks einbinden und/oder viele CSS-Definitionen haben, stellt sich die Frage, welche der Definitionen \u00fcberhaupt wirken. Eine gro\u00dfe Hilfe sind hier die Entwicklertools der Browser . Im folgenden Screenshot sehen Sie die Developer tools von Chrome. Im rechten unteren Fenster sind die definierten Styles angezeigt. Die nicht wirksamen Styledefinitionen sind durchgestrichen. Um zu ermitteln, welche Definition Anwendung findet, gibt es eine Gewichtung der Selektoren . Wichtig ist zu wissen, dass die Reihenfolge der Definitionen, egal ob im <style> -Element oder in externen CSS-Dateien keine Rolle spielt! Wir betrachten folgendes Beispiel, um die Gewichtung der Selektoren zu bestimmen: Wenn Sie sich zun\u00e4chst nur die CSS-Definitionen anschauen, dann sehen Sie, dass einem Link f\u00fcnf verschiedene Farben zugewiesen werden. Die Links sind aber rot. Es muss also aus einem bestimmten Grund die Definition # navigation a . link { color : red ; } am st\u00e4rksten wirken, d.h. der Selektor #navigation a.link hat in unserem Beispiel die st\u00e4rkste Gewichtung. Um die Gewichtung der Selektoren zu ermitteln, werden diese kategorisiert: Kategorie A : erh\u00e4lt den Wert 1, wenn CSS-Definitionen direkt im style-Attribut eines HTML-Elementes notiert sind Kategorie B : erh\u00e4lt den Wert 1 bei Selektoren f\u00fcr Elemente mit id -Attributen Kategorie C : Anzahl der von einem Selektor betroffenen Klassen und Pseudoklassen Kategorie D : Anzahl der von einem Selektor betroffenen Elementnamen und Pseudo-Elemente Bei der Reihenfolge der Sortierung gilt: A > B > C > D , also z.B. 1 0 0 0 vor (gr\u00f6\u00dfer als) 0 1 2 2 . Betrachten wir unser Beispiel: a:link : 0 0 1 1 (eine Pseudoklasse (link) und ein Element (a)) .link : 0 0 1 0 (eine Klasse) #navigation a.link : 0 1 1 1 (Element mit id -Attribut, eine Klasse und eine Element) li a : 0 0 0 2 (zwei Elemente) #navigation li a : 0 1 0 2 (Element mit id -Attribut, zwei Elemente) Es gilt 0 1 1 1 > 0 1 0 2 > 0 0 1 1 > 0 0 1 0 > 0 0 0 2 und deshalb sind die Links rot. In unserem Beispiel kommt kein style -Attribut vor, deshalb ist bei keinem Selektor die Kategorie A besetzt. W\u00e4re bei einem Link im HTML beispielsweise: < li >< a href = \"startseite.html\" class = \"link\" style = \"color: orange;\" > Startseite </ a ></ li > dann w\u00e4re dieser Link orange.","title":"Gewichtung der Selektoren"},{"location":"css/#weitere-informationen-uber-css","text":"Folien CSS","title":"Weitere Informationen \u00fcber CSS"},{"location":"html/","text":"HTML \u00b6 Einleitung \u00b6 HTML steht f\u00fcr H yper T ext M arkup L anguage. HTML ist eine sogenannte Auszeichnungssprache . Das bedeutet, dass Textelementen sogenannte Tags (HTML-Elemente) zugeordnet werden, um dem Text, der von einem solchen Tag umschlossen wird, eine Bedeutung zuzuweisen - der Text wird ausgezeichnet. Beispiel: < h1 > Gro\u00dfe \u00dcberschrift </ h1 > Im obigen Beispiel wurde der Text Gro\u00dfe \u00dcberschrift durch das HTML-Element h1 ausgezeichnet. Die Bedeutung dieses Elementes ist, dass es sich bei dem ausgezeichneten Text um eine \u00dcberschrift handelt. Es gibt 6 HTML-Elemente, die \u00dcberschriften charakterisieren: h1 , h2 , h3 , h4 , h5 , h6 . Die Nummern geben die Gr\u00f6\u00dfe der \u00dcberschrift an: h1 ist die gr\u00f6\u00dfte \u00dcberschrift, h6 die kleinste. Klicken Sie im folgenden Fenster auf den Reiter \"Result\" , um die Unterschiede zu sehen: Hierarchische Anordnung der HTML-Elemente \u00b6 HTML-Elemente bestehen - bis auf wenige Ausnahmen - aus einem Start-Tag <tag> und einem Ende-Tag </tag> (tag steht hier f\u00fcr den Namen eines beliebigen Elementes). Wird ein neues HTML-Element el2 innerhalb eines anderen HTML-Elementes el1 ge\u00f6ffnet, so muss el2 auch geschlossen werden, bevor el1 geschlossen wird. Success < el1 > diese Anordnung der < el2 > Elemente ist korrekt </ el2 > </ el1 > Failure < el1 > diese Anordnung der < el2 > Elemente ist falsch </ el1 > </ el2 > Es gibt nur wenige HTML-Elemente, die nicht aus einem Start- und einem Ende-Tag bestehen, sondern sogenannte stand alone Tags sind. Ein typisches Beispiel ist der Zeilenumbruch <br> . Um einerseits zu symbolisieren, dass es sich um Start- und Ende-Tag in einem handelt, insbesondere aber, um XHTML -konform zu sein, geben wir f\u00fcr solche stand-alone Tags den Slash vor der schlie\u00dfenden spitzen Klammer an, d.h. wir schreiben <br /> . Grundger\u00fcst einer HTML-Seite \u00b6 Prinzipiell besteht eine HTML-Seite aus einem <head> - und einem <body> -Bereich. Im <head> -Bereich k\u00f6nnen Metadaten \u00fcber die Seite definiert werden. Der <body> -Bereich definiert den sichtbaren Bereich der Seite, also das, was im Browser dargestellt wird. Eingeschlossen werden der <head> - und der <body> -Bereich von einem <html> -Element. <!DOCTYPE html> < html > < head > < title > Seitentitel </ title > </ head > < body > < h1 > Das ist eine gro\u00dfe \u00dcberschrift </ h1 > < p > Das ist ein Absatz. </ p > </ body > </ html > Das obige Beispiel zeigt ein Grundger\u00fcst einer HTML-Seite. <!DOCTYPE html> gibt dem Browser an, dass es sich um eine HTML-Datei handelt, die vom Browser \"gerendert\" , d.h. dargestellt wird. Der <head> -Bereich enth\u00e4lt in diesem Beispiel nur ein <title> -Element. Dieser Titel wird im Browser im Reiter (Tab) gezeigt. Au\u00dferdem wird der Titel in der Ergebnisliste einer Suchmaschine verwendet. Das <body> -Element, also der im Browser dargestellte Bereich, enth\u00e4lt eine \u00dcberschrift ( <h1> ) und einen Absatz ( <p> ). Aufgabe: Erstellen Sie eine Datei index.html und f\u00fcgen Sie obigen HTML-Code ein. Rufen Sie die Datei im Browser auf. Metadaten im Head \u00b6 Das <head> -Element ist der Container f\u00fcr (Meta-)Daten \u00fcber das Webdokument. Das <head> -Element kommt in das <html> -Element und vor das <body> -Element. Die Metadaten werden nicht dargestellt. Typische HTML-Elemente f\u00fcr Metadaten sind: <title> : Titel des Dokumentes (im Tab und in der Such-Ergebnisliste, <style> : f\u00fcr Format-Angaben (CSS), <meta> : f\u00fcr die Festlegung von Zeichenkodierungen, Schl\u00fcsselw\u00f6rter, Autor usw., <link> : zum Einbinden externer CSS-Dateien, <script> : zum Definieren von Client-seitigen JavaScript-Funktionen, <base> : zum Festlegen, der URL, von der aus alle Pfadangaben relativ sind. Beispiel Metadaten < head > < meta charset = \"UTF-8\" > < meta name = \"description\" content = \"meta data\" > < meta name = \"keywords\" content = \"HTML, head, title, meta, link, style\" > < meta name = \"author\" content = \"J\u00f6rn Freiheit\" > < meta http-equiv = \"refresh\" content = \"30\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1.0\" > < link rel = \"stylesheet\" href = \"mystyle.css\" > < style > body { background-color : #29e0e6 ;} h1 { color : #ff6a3b ;} ul { color : #0000ff ;} </ style > < script > function myFunction () { document . getElementById ( \"demo\" ). innerHTML = \"Hallo FIW!\" ; } </ script > < base href = \"localhost/Webtech20\" target = \"_blank\" > < title > Metadaten </ title > </ head > Block- und Inline-Elemente \u00b6 Generell wird zwischen zwei Arten von HTML-Elementen unterschieden: Blockelemente Inline-Elemente Blockelemente verwenden die gesamte Breite der Browseransicht (des sogenannten Viewports ). Das bedeutet, dass ein Blockelement stets in einer neuen Zeile beginnt und neben einem Blockelement kein weiteres Element ist (sondern in einer neuen Zeile beginnt). Inline-Elemente nehmen genau so viel Breite ein, wie n\u00f6tig (Breite des Inhalts) und beginnen nicht in einer neuen Zeile und enden auch nicht mit einem Zeilenumbruch. Beispiele f\u00fcr Inline- und Blockelemente (Reiter \"Result\" w\u00e4hlen, um Ergebnis zu sehen): Eine \u00dcbersicht \u00fcber alle HTML-Elemente mit Erl\u00e4uterungen findet sich hier . kleine \u00dcbungsaufgabe: Erweitern Sie Ihre Datei index.html und f\u00fcgen Sie mindestens folgende Elemente ein: 2 verschiedene \u00dcberschriften ( h1 , ..., h6 ) eine nummerierte Liste (ordered list - ol ) mit 3 Eintr\u00e4gen (list items - li ) eine Strichpunktliste (unordered list - ul ) mit 3 Eintr\u00e4gen ( li ) eine Tabelle ( table ); diese besteht aus einem Tabellenkopf (table head - thead ) und einem Tabellenk\u00f6rper (table body - tbody ) der thead enth\u00e4lt eine Zeile (table row - tr ) als Tabellen\u00fcberschrift, wobei jede einzelne \u00dcberschrift (eine Spalte) als th definiert wird der tbody enth\u00e4lt mehrere Zeilen ( tr ); jede Zeile enth\u00e4lt so viele Dateneintr\u00e4ge (table data - td ) wie es Spalten gibt einen Hyperlink (anchor - a ), der ein Verweis auf die HTW-Seite enth\u00e4lt ein Bild (image - img ) Rufen Sie die Datei im Browser auf. Einige ausgew\u00e4hlte Elemente \u00b6 Hyperlinks (Anchorelement) \u00b6 Das HTML-Element f\u00fcr Hyperlinks ist <a> . Ein Beispiel f\u00fcr die Anwendung dieses Elementes ist < a href = \"http://www.htw-berlin.de\" target = \"_blank\" > HTW Berlin </ a > Das Beispiel erstellt einen Hyperlink. Auf der Webseite sichtbar ist der Inhalt des Elementes, n\u00e4mlich HTW Berlin . Wird auf den Link geklickt, so \u00f6ffnet sich die Webseite der HTW ( www.htw-berlin.de ) in einem neuen Browser-Reiter ( target=\"_blank\" ). Weitere Beispiele: < a href = \"https://fiw.htw-berlin.de/fileadmin/HTW/Zentral/Rechtsstelle/Amtliche_Mitteilungsblaetter/2014/17_14.pdf\" > Studienordnung FIW </ a > < a href = \"mailto:freiheit@htw-berlin.de\" > E-Mail an J\u00f6rn Freiheit </ a > Das Anchorelement ist ein Inline-Element. Bilder (Image) \u00b6 Das HTML-Element f\u00fcr Bilder ist <img> . Ein Beispiel f\u00fcr die Anwendung dieses Elementes ist < img src = \"../Logos/fiw.jpg\" alt = \"FIW-Logo\" /> Das Beispiel zeigt das FIW-Logo auf der Webseite an. Es ist in der Datei fiw.jpg gespeichert, welche im Ordner Logos liegt. Der Ordner Logos befindet sich auf der gleichen Ordnerebene wie der Ordner, der die HTML-Datei enth\u00e4lt. Diesen Ordner muss man deshalb zun\u00e4chst mithilfe von .. verlassen. Das Attribut alt wird verwendet, um einen alternatioven Text anzugeben, der angezeigt wird, falls das Bild nicht geladen werden kann. Wichtig ist das alt -Attribut aber insbesondere f\u00fcr die Barrierefreiheit. Ein Screenreader liest diesen Alternativtext vor. Sollte es sich bei dem Bild nur um ein dekoratives Element handeln (also nicht wirklich einen sinnvollen Inhalt haben), sollte man aus Gr\u00fcnden der Barrierfreiheit daf\u00fcr alt=\"\" angeben, dann \u00fcberspringt der Screenreader dieses Bild. Es sei erw\u00e4hnt, dass es auch sowohl das height - als auch das width -Attribut f\u00fcr <img> gibt, um die H\u00f6he bzw. die Breite des Bildes zu setzen. Dies sollte aber besser CSS \u00fcberlassen werden. Beachten Sie auch, dass es sich bei dem <img> -Element um ein stand alone Element handelt. Wir beenden das Element deshalb mit /> , um XML-konform zu sein. Das <img> -Element ist ein Inline-Element. Tabellen \u00b6 Tabellen ( <table> ) bestehen aus einen Tabellenkopf ( <thead> ) und einem Tabellenk\u00f6rper ( <tbody> ). Der Tabellenkopf enth\u00e4lt eine Tabellenzeile ( <tr> ) mit beliebig vielen Eintr\u00e4gen, den jeweiligen Spalten\u00fcberschriften ( <th> ). Der Tabellenk\u00f6rper enth\u00e4lt beliebig viele Zeilen ( <tr> ), die in jeder Spalten Dateneintr\u00e4ge ( <td> ) enthalten. Ein Beispiel f\u00fcr eine Tabelle: < table > < thead > < tr > < th > Spalte 1 </ th > < th > Spalte 2 </ th > < th > Spalte 3 </ th > </ tr > </ thead > < tbody > < tr > < td > 1_1 </ td > < td > 1_2 </ td > < td > 1_3 </ td > </ tr > < tr > < td > 2_1 </ td > < td > 2_2 </ td > < td > 2_3 </ td > </ tr > < tr > < td > 3_1 </ td > < td > 3_2 </ td > < td > 3_3 </ td > </ tr > </ tbody > </ table > Das Formatieren der Tabellen (Rahmen, rechtsb\u00fcndig usw.) sollte stets CSS \u00fcberlassen werden. Listen \u00b6 Es gibt nummerierte Listen ( ordered list <ol> ) und nicht-nummerierte Listen ( unordered list <ul> ). Die Eintr\u00e4ge in einer Liste sind die list items <li> . Listen k\u00f6nnen auch ineinander verschachtelt werden. Dabei ist nur zu beachten, dass Listen immer nur list items enthalten sollen und die list items dann selbst wieder eine neue Liste enthalten k\u00f6nnen. ordered list < ol > < li > eins </ li > < li > zwei </ li > < li > drei </ li > </ ol > unordered list < ul > < li > eins </ li > < li > zwei </ li > < li > drei </ li > </ ul > verschachtelte Liste < ol > < li > < ol > < li > eins_eins </ li > < li > eins_zwei </ li > < li > eins_drei </ li > </ ol > </ li > < li > zwei </ li > < li > < ul > < li > drei_eins </ li > < li > drei_zwei </ li > < li > drei_drei </ li > </ ul > </ li > </ ol > Container-Elemente \u00b6 Einige Elemente dienen nur der besseren Strukturierung des HTML-Codes und der besseren \"Ansprechbarkeit\" im CSS (d.h. f\u00fcr diese Elemente k\u00f6nnen dann eigene CSS-Eigenschaften zugewisen werden). Vor HTML 5 wurde daf\u00fcr das Element <div> verwendet. Es existiert noch immer. Mit HTML 5 wurden aber weitere Container-Elemente hinzugef\u00fcgt: <main> - f\u00fcr den Hauptinhalt, sollte genau einmal im Dokument vorkommen <section> - f\u00fcr gr\u00f6\u00dfere Abschnitte (Teile); kann z.B. article enthalten <article> - f\u00fcr Abschnitte (z.B. Blog-Eintr\u00e4ge) in main <aside> - f\u00fcr z.B. News an der Seite <footer> - f\u00fcr die Fu\u00dfzeile (mit Impressum, Copyright, usw.) <header> - f\u00fcr die Kopfzeile (mit Logo, Navigation usw.) <nav> - f\u00fcr das Navigationsmen\u00fc Container-Elemente sind nicht \"sichtbar\", jedoch Block-Elemente. Es ist empfehlenswert, die eigene Webseite mit solchen Container-Elementen zu strukturieren, um erstens einen besseren \u00dcberblick \u00fcber die Seite zu bewahren und insbesondere gezielter die Formatierungseigenschaften von CSS verwenden zu k\u00f6nnen. Dies schlie\u00dft das Layout ein. Eingabe- bzw. Steuerelemente \u00b6 Es gibt viele Steuerelemente in HTML und die Auswahl wird kontinuierlich gr\u00f6\u00dfer. Steuerelemente werden mit dem HTML-Element <input> definiert. Der Typ des Steuerelementes wird mit Attribut type definiert. Beispiele: < input type = \"button\" value = \"Click\" /> < input type = \"reset\" /> < input type = \"submit\" /> < input type = \"checkbox\" /> < input type = \"color\" /> < input type = \"date\" /> < input type = \"file\" /> < input type = \"number\" /> < input type = \"radio\" /> < input type = \"image\" src = \"../Logos/fiw.jpg\" width = \"40\" alt = \"FIW-Logo\" /> < input type = \"range\" min = \"10\" max = \"100\" /> < input type = \"text\" placeholder = \"Name\" /> < input type = \"email\" placeholder = \"E-Mail\" /> < input type = \"password\" /> Probieren Sie am besten diese Beispiele aus und schauen Sie sich die Darstellung an. Beachten Sie auch, dass die Elemente in den unterschiedlichen Browsern unterschiedlich dargestellt werden. Attribute \u00b6 Wir haben in den obigen Beispielen bereits Attribute gesehen. In <a> wurden z.B. die Attribute href und target verwendet und in <img> die Attribute src und alt . Attribute werden innerhalb der spitzen Klammern des Begin-Tags angegeben und haben die Form: attribut = \"wert\" Das hei\u00dft, auf der linken Seite steht das Attribut und auf der rechten Seite der Wert des Attributs in doppelten Hochkommata. Es gibt Attribute, die ohne Wert verwendet werden k\u00f6nnen, z.B. checked f\u00fcr ein Eingabeelement <input> , z.B. < input type = \"checkbox\" name = \"SG\" value = \"FIW\" checked /> FIW < br > Um XML-konform zu sein, sollte man eigentlich besser <input type=\"checkbox\" name=\"SG\" value=\"FIW\" checked=\"checked\" /> verwenden, macht aber niemand. Das Attribut checked ist ein Beispiel f\u00fcr ein Attribut, das speziell f\u00fcr ein HTML-Element zur Verf\u00fcgung steht (hier f\u00fcr <input> ). Die meisten Attribute existieren speziell f\u00fcr HTML-Elemente. Dar\u00fcber hinaus gibt es noch sogenannte globale Attribute, die f\u00fcr alle HTML-Elemente verwendet werden k\u00f6nnen. Beispiele solcher Attribute sind globales Attribut Erl\u00e4uterung id weist dem Element eine id zu; eine id sollte innerhalb eines HTML-Dokumentes eindeutig sein class weist dem Element eine oder mehrere Klassen zu, deren Eigenschaften in CSS definiert werden k\u00f6nnen hidden setzt das Element auf unsichtbar, es wird nicht angezeigt title weist einem Element textuelle Informationen zu, die bei l\u00e4ngerem Mouseover angezeigt werden (tooltip) Weitere Informationen \u00fcber HTML \u00b6 Folien HTML um das untenstehende Beispiel auszuf\u00fchren, ben\u00f6tigen Sie die Datei fiw.jpg , die Sie in einem Logos -Ordner ablegen sollten, um wenig \u00c4nderungsaufwand bei der folgenden HTML-Datei zu haben alle Beispiele in einem <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > HTML Einf\u00fchrung </ title > </ head > < body > < h3 > Hyperlinks </ h3 > < a href = \"http://www.htw-berlin.de\" target = \"_blank\" > HTW Berlin </ a > < a href = \"https://fiw.htw-berlin.de/fileadmin/HTW/Zentral/Rechtsstelle/Amtliche_Mitteilungsblaetter/2014/17_14.pdf\" > Studienordnung FIW </ a > < a href = \"mailto:freiheit@htw-berlin.de\" > E-Mail an J\u00f6rn Freiheit </ a > < h3 > Bilder </ h3 > < img src = \"../Logos/fiw.jpg\" alt = \"FIW-Logo\" /> < h3 > Tabelle </ h3 > < table > < thead > < tr > < th > Spalte 1 </ th > < th > Spalte 2 </ th > < th > Spalte 3 </ th > </ tr > </ thead > < tbody > < tr > < td > 1_1 </ td > < td > 1_2 </ td > < td > 1_3 </ td > </ tr > < tr > < td > 2_1 </ td > < td > 2_2 </ td > < td > 2_3 </ td > </ tr > < tr > < td > 3_1 </ td > < td > 3_2 </ td > < td > 3_3 </ td > </ tr > </ tbody > </ table > < h3 > Listen </ h3 > < ol > < li > eins </ li > < li > zwei </ li > < li > drei </ li > </ ol > < ul > < li > eins </ li > < li > zwei </ li > < li > drei </ li > </ ul > < ol > < li > < ol > < li > eins_eins </ li > < li > eins_zwei </ li > < li > eins_drei </ li > </ ol > </ li > < li > zwei </ li > < li > < ul > < li > drei_eins </ li > < li > drei_zwei </ li > < li > drei_drei </ li > </ ul > </ li > </ ol > < h3 > Eingabeelemente </ h3 > < input type = \"checkbox\" name = \"SG\" value = \"AI\" /> AI < br > < input type = \"checkbox\" name = \"SG\" value = \"FIW\" checked /> FIW < br > < input type = \"button\" value = \"Click\" /> < input type = \"reset\" /> < input type = \"submit\" /> < input type = \"checkbox\" /> < input type = \"color\" /> < input type = \"date\" /> < input type = \"file\" /> < input type = \"number\" /> < input type = \"radio\" /> < input type = \"image\" src = \"../Logos/fiw.jpg\" width = \"40\" alt = \"FIW-Logo\" /> < input type = \"range\" min = \"10\" max = \"100\" /> < input type = \"text\" placeholder = \"Name\" /> < input type = \"email\" placeholder = \"E-Mail\" /> < input type = \"password\" /> </ body > </ html > HTTP \u00b6 HTTP steht f\u00fcr Hypertext Transfer Protocol. Es wurde von Tim Berners Lee zusammen mit HTML, dem ersten Webserver und dem ersten Browser Anfang der 1990er Jahre am CERN entwickelt. Die Idee von HTTP ist einfach: der Nutzer stellt unter Eingabe einer URL (die Adresse des Webservers) eine Anfrage ( request ) an den Webserver. Der Webserver antwortet darauf mit einer response . Diese enth\u00e4lt einige Metadaten und die angefragte Webseite (im HTML-Format), wenn die Anfrage ordnungsgem\u00e4\u00df beantwortet werden kann. HTTP-Anfragemethoden \u00b6 F\u00fcr die Anfrage des Browsers an den Webserver stellt HTTP verschiedene Anfragemethoden zur Verf\u00fcgung. Diese unterscheiden sich in ihrer Bedeutung dahingehend, was mit der angefragten Ressource (den Daten oder der Webseite) geschehen soll. Anfragemethode Erl\u00e4uterung `GET` ist die einfachste und meistverwendete Anfragemethode; dient dazu, eine Ressource (typischerweise eine HTML-Datei) vom Webserver anzufordern; z.B. `GET /index.html` fordert die `index.html` vom Webserver an. `POST` fordert ebenfalls eine Ressource vom Webserver an; der Unterschied zwischen `GET` und `POST` besteht beim Mitsenden von Daten, z.B. Suchanfragen oder Login-Daten. W\u00e4hrend beim `GET` die \u00fcbermittelten Daten in die URL geschrieben werden, werden diese bei einem `POST` in den HTTP-Header eingef\u00fcgt. Das hei\u00dft, dass beim `GET` die an den Webserver \u00fcbergebenen Daten sichtbar sind, beim `POST` nicht. F\u00fcr die \u00dcbertragung sensibler Daten sollte also `POST` verwendet werden. `HEAD` fragt nur den Response-Header ab, nicht die Daten selbst. So kann z.B. bei einem Download zun\u00e4chst die Gr\u00f6\u00dfe der Datei abgefragt werden, bevor man die Datei selbst (mit `GET` oder `POST`) herunterl\u00e4dt. Neben diesen \"HTTP-Standardmethoden\" gibt es noch spezielle Anfragemethoden, die beim einfachen Surfen keine Rolle spielen, f\u00fcr uns in der Webprogrammierung jedoch von Bedeutung sind. Wir werden diese im Zusammenhang mit dem Programmierparadigma REST ( Representational State Transfer ) verwenden. Sie unterscheiden sich dahingehend, wie mit den angeforderten Ressourcen umgegangen wird, also ob sie unver\u00e4ndert bleiben, angelegt oder ge\u00e4ndert werden. Anfragemethode Erl\u00e4uterung `GET` l\u00e4sst die angefragte Ressource unver\u00e4ndert und ruft sie nur ab `POST` erstellt eine neue Ressource oder ver\u00e4ndert sie; wir werden `POST`zum Erstellen verwenden `PUT` sehr \u00e4hnlich zu `POST`, aber `POST` ist ein wenig genereller. Wird mit `PUT` eine neue Ressource angelegt, so wird der Name in der URL angegeben, w\u00e4hrend bei `POST` der Name durch den Server vergeben kann; wir werden `PUT`zum \u00c4ndern verwenden `DELETE` l\u00f6scht die angegebene Ressource vom Server Wichtig ist zu beachten, dass HTTP ein zustandsloses Protokoll ist. Das bedeutet, dass die Anfragen prinzipiell unabh\u00e4ngig voneinander sind und dass es keine Anfragehostorie gibt. Wird soetwas ben\u00f6tigt, wie z.B. beim Online-Einkauf, dann muss dies \u00fcber andere Mechanismen (z.B. Anmelden/Registrieren) realisiert werden. HTTP-Statusmeldungen \u00b6 HTTP sieht verschiedene Meldungen des Servers an den Client vor. Diese werden im Response-Header versendet. Hier ein paar Beispiele: HTTP Statusmeldung Erl\u00e4uterung `200 OK` Request wurde vollst\u00e4ndig und erfolgreich bearbeitet `201 Created` Request wurde bearbeitet und die neue Ressource wurde erstellt `301 Moved Permanently` die angeforderte Ressource wurde an eine andere URL bewegt `400 Bad Request` Der Request kann nicht bearbeitet werden, da er (syntaktische) Fehler enth\u00e4lt. `401 Unauthorized` Request ist ok, aber der Zugriff auf die Ressource ist nicht autorisiert `404 Not Found` die angegebene Ressource existiert nicht `500 Internal Server Error` der Webserver ist down bzw. hat einen Fehler URLs \u00b6 URL steht f\u00fcr Uniform Resource Locator und ist eine Adresse, die auf eine Ressource auf einem Server zeigt sowie das Protokoll, mit dem auf diese Adresse zugegriffen wird. Der allgemeine Aufbau einer URL sieht so aus: <schema>:<ressourcen-adresse> <schema> k\u00f6nnen verschiedene Protokolle sein, z.B. http , https , ftp , mailto , news , file usw. F\u00fcr die Zugriffe auf Webservern wierden http bzw. https verwendet. Die <ressourcen-adresse> kann unterschiedlich komplex sein. Der allgemeine Fall f\u00fcr den Zugriff auf eine Ressource auf einem Webserver kann so aussehen: //user:password@www.example.org:80/index.html?key1=value1&key2=value2 Darin m\u00f6chte ein Nutzer user mit dem Passwort password auf den Server (host) www.example.org \u00fcber den Port 80 auf die Ressource index.html zugreifen (mit GET) und \u00fcbergibt dabei 2 Werte, n\u00e4mlich value1 f\u00fcr den Schl\u00fcssel (die Variable) key1 und value2 f\u00fcr den Schl\u00fcssel key2 . In den meisten F\u00e4llen wird weder user noch password angegeben, oft auch nicht der Port und viele Anfragen auch ohne angeh\u00e4ngte Schl\u00fcssel-Werte-Paare. Die URL darf bestimmte Zeichen nicht enthalten, z.B. Leerzeichen, Klammern usw. Diese werden maskiert , d.h. in sogenante Prozentdarstellung umgewandelt. Ein Leerzeichen wird in %20 umgewandelt, ein Punkt in %2E usw. Daraus ergeben sich manchmal etwas \"kryptische\" URLs (siehe z.B. https://www.w3schools.com/tags/ref_urlencode.ASP ). Domain Name Service (DNS) \u00b6 Prinzipiell sind die Rechner im Internet durch IP-Adressen adressiert. IPv4 -Adressen bestehen aus vier Zahlenbl\u00f6cken (jeweils im Bereich von 0 bis 255), die durch einen Punkt getrennt sind. IPv4 -Adressen werden in 32 Bit gespeichert. Es gibt somit theoretisch 2^32 = 4.294.967.296 verschiedene Adressen, d.h. gut 4 Mrd adressierbare Rechner im Internet. Da dies nicht ausreicht, wurde in Version 6 des IP-Protokolls eine neue Dressierbarkeit eingef\u00fchrt, in dem nun 128 Bit f\u00fcr die Speicherung einer Adresse zur Verf\u00fcgung stehen. Eine IPv6 -Adresse besteht aus acht Bl\u00f6cken, welche durch Doppelpunkte getrennt sind. Jeder Block besteht aus 4 Hexadezimalstellen. Damit man sich zum Surfen im World Wide Web nicht IP-Adressen merken muss, wurden Webservern Namen zugeordnet. Somit muss man nicht die IP-Adressen in das Adressfeld als URL eingeben, sondern kann sprechende Namen verwenden, wie z.B. htw-berlin.de . de ist dabei eine sogenannte Top-Level-Domain und htw-berlin eine Subdomain. Den DNS kann man sich wie ein Telefonbuch vorstellen, in dem f\u00fcr eine sprechende Adresse die zuegh\u00f6rige IP-Adresse steht. Die Anfrage wird dann per TCP/IP an die IP-Adresse geschickt. Abfrage nach dem Root-DNS-Server f\u00fcr die Domain htw-berlin.de : % dig htw-berlin.de @a.root-servers.net ; <<>> DiG 9 .10.6 <<>> htw-berlin.de @a.root-servers.net ;; global options: +cmd ;; Got answer: ;; ->>HEADER <<- opco de: QUERY, status: NOERROR, id: 38694 ;; flags: qr rd ; QUERY: 1 , ANSWER: 0 , AUTHORITY: 6 , ADDITIONAL: 13 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0 , flags: ; udp: 4096 ;; QUESTION SECTION: ; htw-berlin.de. IN A ;; AUTHORITY SECTION: de. 172800 IN NS s.de.net. de. 172800 IN NS n.de.net. de. 172800 IN NS a.nic.de. de. 172800 IN NS f.nic.de. de. 172800 IN NS l.de.net. de. 172800 IN NS z.nic.de. ;; ADDITIONAL SECTION: s.de.net. 172800 IN A 195 .243.137.26 s.de.net. 172800 IN AAAA 2003 :8:14::53 n.de.net. 172800 IN A 194 .146.107.6 n.de.net. 172800 IN AAAA 2001 :67c:1011:1::53 a.nic.de. 172800 IN A 194 .0.0.53 a.nic.de. 172800 IN AAAA 2001 :678:2::53 f.nic.de. 172800 IN A 81 .91.164.5 f.nic.de. 172800 IN AAAA 2a02:568:0:2::53 l.de.net. 172800 IN A 77 .67.63.105 l.de.net. 172800 IN AAAA 2001 :668:1f:11::105 z.nic.de. 172800 IN A 194 .246.96.1 z.nic.de. 172800 IN AAAA 2a02:568:fe02::de ;; Query time: 140 msec ;; SERVER: 198 .41.0.4#53 ( 198 .41.0.4 ) ;; WHEN: Tue Sep 29 08 :44:58 CEST 2020 ;; MSG SIZE rcvd: 412 Die Domain htw-berlin.de wird von mehreren DNS verwaltet: s.de.net , n.de.net , a.nic.de , ... (siehe AUTHORITY SECTION). Beispielsweise leitet der Root-DNS-Server a.nic.de die Aufl\u00f6sung der Domain an die beiden DNS infobloxv.htw-berlin.de (IP-Adresse 141.45.65.100 ) und dns-2.dfn.de weiter: % dig htw-berlin.de @a.nic.de ; <<>> DiG 9 .10.6 <<>> htw-berlin.de @a.nic.de ;; global options: +cmd ;; Got answer: ;; ->>HEADER <<- opco de: QUERY, status: NOERROR, id: 1455 ;; flags: qr rd ; QUERY: 1 , ANSWER: 0 , AUTHORITY: 2 , ADDITIONAL: 2 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0 , flags: ; udp: 4096 ;; QUESTION SECTION: ; htw-berlin.de. IN A ;; AUTHORITY SECTION: htw-berlin.de. 86400 IN NS infobloxv.htw-berlin.de. htw-berlin.de. 86400 IN NS dns-2.dfn.de. ;; ADDITIONAL SECTION: infobloxv.htw-berlin.de. 86400 IN A 141 .45.65.100 ;; Query time: 2 msec ;; SERVER: 194 .0.0.53#53 ( 194 .0.0.53 ) ;; WHEN: Tue Sep 29 08 :45:47 CEST 2020 ;; MSG SIZE rcvd: 106 Die aktuelle IP-Adresse des Servers htw-berlin.de ist 141.45.66.214 : % dig htw-berlin.de @dns-2.dfn.de ; <<>> DiG 9 .10.6 <<>> htw-berlin.de @dns-2.dfn.de ;; global options: +cmd ;; Got answer: ;; ->>HEADER <<- opco de: QUERY, status: NOERROR, id: 21529 ;; flags: qr aa rd ; QUERY: 1 , ANSWER: 1 , AUTHORITY: 0 , ADDITIONAL: 1 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0 , flags: ; udp: 4096 ;; QUESTION SECTION: ; htw-berlin.de. IN A ;; ANSWER SECTION: htw-berlin.de. 28800 IN A 141 .45.66.214 ;; Query time: 11 msec ;; SERVER: 193 .174.75.54#53 ( 193 .174.75.54 ) ;; WHEN: Tue Sep 29 08 :46:53 CEST 2020 ;; MSG SIZE rcvd: 58 Die IP-Adresse der Domain (und die verantwortlichen DNS) h\u00e4tte man auch mit nslookup herausbekommen: % nslookup -q = any htw-berlin.de Server: 141 .45.2.100 Address: 141 .45.2.100#53 htw-berlin.de origin = infoblox1.htw-berlin.de mail addr = net-rz.htw-berlin.de serial = 2009121336 refresh = 10800 retry = 3600 expire = 2419200 minimum = 900 Name: htw-berlin.de Address: 141 .45.66.214 htw-berlin.de mail exchanger = 50 mail1.rz.htw-berlin.de. htw-berlin.de text = \"ZOOM_verify_stchLGrGQgO-9ACdBPKPRw\" htw-berlin.de text = \"v=spf1 ip4:141.45.10.64/26 ip4:141.45.70.64/26 ~all\" htw-berlin.de nameserver = dns-2.dfn.de. htw-berlin.de nameserver = infobloxv.htw-berlin.de.","title":"HTML"},{"location":"html/#html","text":"","title":"HTML"},{"location":"html/#einleitung","text":"HTML steht f\u00fcr H yper T ext M arkup L anguage. HTML ist eine sogenannte Auszeichnungssprache . Das bedeutet, dass Textelementen sogenannte Tags (HTML-Elemente) zugeordnet werden, um dem Text, der von einem solchen Tag umschlossen wird, eine Bedeutung zuzuweisen - der Text wird ausgezeichnet. Beispiel: < h1 > Gro\u00dfe \u00dcberschrift </ h1 > Im obigen Beispiel wurde der Text Gro\u00dfe \u00dcberschrift durch das HTML-Element h1 ausgezeichnet. Die Bedeutung dieses Elementes ist, dass es sich bei dem ausgezeichneten Text um eine \u00dcberschrift handelt. Es gibt 6 HTML-Elemente, die \u00dcberschriften charakterisieren: h1 , h2 , h3 , h4 , h5 , h6 . Die Nummern geben die Gr\u00f6\u00dfe der \u00dcberschrift an: h1 ist die gr\u00f6\u00dfte \u00dcberschrift, h6 die kleinste. Klicken Sie im folgenden Fenster auf den Reiter \"Result\" , um die Unterschiede zu sehen:","title":"Einleitung"},{"location":"html/#hierarchische-anordnung-der-html-elemente","text":"HTML-Elemente bestehen - bis auf wenige Ausnahmen - aus einem Start-Tag <tag> und einem Ende-Tag </tag> (tag steht hier f\u00fcr den Namen eines beliebigen Elementes). Wird ein neues HTML-Element el2 innerhalb eines anderen HTML-Elementes el1 ge\u00f6ffnet, so muss el2 auch geschlossen werden, bevor el1 geschlossen wird. Success < el1 > diese Anordnung der < el2 > Elemente ist korrekt </ el2 > </ el1 > Failure < el1 > diese Anordnung der < el2 > Elemente ist falsch </ el1 > </ el2 > Es gibt nur wenige HTML-Elemente, die nicht aus einem Start- und einem Ende-Tag bestehen, sondern sogenannte stand alone Tags sind. Ein typisches Beispiel ist der Zeilenumbruch <br> . Um einerseits zu symbolisieren, dass es sich um Start- und Ende-Tag in einem handelt, insbesondere aber, um XHTML -konform zu sein, geben wir f\u00fcr solche stand-alone Tags den Slash vor der schlie\u00dfenden spitzen Klammer an, d.h. wir schreiben <br /> .","title":"Hierarchische Anordnung der HTML-Elemente"},{"location":"html/#grundgerust-einer-html-seite","text":"Prinzipiell besteht eine HTML-Seite aus einem <head> - und einem <body> -Bereich. Im <head> -Bereich k\u00f6nnen Metadaten \u00fcber die Seite definiert werden. Der <body> -Bereich definiert den sichtbaren Bereich der Seite, also das, was im Browser dargestellt wird. Eingeschlossen werden der <head> - und der <body> -Bereich von einem <html> -Element. <!DOCTYPE html> < html > < head > < title > Seitentitel </ title > </ head > < body > < h1 > Das ist eine gro\u00dfe \u00dcberschrift </ h1 > < p > Das ist ein Absatz. </ p > </ body > </ html > Das obige Beispiel zeigt ein Grundger\u00fcst einer HTML-Seite. <!DOCTYPE html> gibt dem Browser an, dass es sich um eine HTML-Datei handelt, die vom Browser \"gerendert\" , d.h. dargestellt wird. Der <head> -Bereich enth\u00e4lt in diesem Beispiel nur ein <title> -Element. Dieser Titel wird im Browser im Reiter (Tab) gezeigt. Au\u00dferdem wird der Titel in der Ergebnisliste einer Suchmaschine verwendet. Das <body> -Element, also der im Browser dargestellte Bereich, enth\u00e4lt eine \u00dcberschrift ( <h1> ) und einen Absatz ( <p> ). Aufgabe: Erstellen Sie eine Datei index.html und f\u00fcgen Sie obigen HTML-Code ein. Rufen Sie die Datei im Browser auf.","title":"Grundger\u00fcst einer HTML-Seite"},{"location":"html/#metadaten-im-head","text":"Das <head> -Element ist der Container f\u00fcr (Meta-)Daten \u00fcber das Webdokument. Das <head> -Element kommt in das <html> -Element und vor das <body> -Element. Die Metadaten werden nicht dargestellt. Typische HTML-Elemente f\u00fcr Metadaten sind: <title> : Titel des Dokumentes (im Tab und in der Such-Ergebnisliste, <style> : f\u00fcr Format-Angaben (CSS), <meta> : f\u00fcr die Festlegung von Zeichenkodierungen, Schl\u00fcsselw\u00f6rter, Autor usw., <link> : zum Einbinden externer CSS-Dateien, <script> : zum Definieren von Client-seitigen JavaScript-Funktionen, <base> : zum Festlegen, der URL, von der aus alle Pfadangaben relativ sind. Beispiel Metadaten < head > < meta charset = \"UTF-8\" > < meta name = \"description\" content = \"meta data\" > < meta name = \"keywords\" content = \"HTML, head, title, meta, link, style\" > < meta name = \"author\" content = \"J\u00f6rn Freiheit\" > < meta http-equiv = \"refresh\" content = \"30\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1.0\" > < link rel = \"stylesheet\" href = \"mystyle.css\" > < style > body { background-color : #29e0e6 ;} h1 { color : #ff6a3b ;} ul { color : #0000ff ;} </ style > < script > function myFunction () { document . getElementById ( \"demo\" ). innerHTML = \"Hallo FIW!\" ; } </ script > < base href = \"localhost/Webtech20\" target = \"_blank\" > < title > Metadaten </ title > </ head >","title":"Metadaten im Head"},{"location":"html/#block-und-inline-elemente","text":"Generell wird zwischen zwei Arten von HTML-Elementen unterschieden: Blockelemente Inline-Elemente Blockelemente verwenden die gesamte Breite der Browseransicht (des sogenannten Viewports ). Das bedeutet, dass ein Blockelement stets in einer neuen Zeile beginnt und neben einem Blockelement kein weiteres Element ist (sondern in einer neuen Zeile beginnt). Inline-Elemente nehmen genau so viel Breite ein, wie n\u00f6tig (Breite des Inhalts) und beginnen nicht in einer neuen Zeile und enden auch nicht mit einem Zeilenumbruch. Beispiele f\u00fcr Inline- und Blockelemente (Reiter \"Result\" w\u00e4hlen, um Ergebnis zu sehen): Eine \u00dcbersicht \u00fcber alle HTML-Elemente mit Erl\u00e4uterungen findet sich hier . kleine \u00dcbungsaufgabe: Erweitern Sie Ihre Datei index.html und f\u00fcgen Sie mindestens folgende Elemente ein: 2 verschiedene \u00dcberschriften ( h1 , ..., h6 ) eine nummerierte Liste (ordered list - ol ) mit 3 Eintr\u00e4gen (list items - li ) eine Strichpunktliste (unordered list - ul ) mit 3 Eintr\u00e4gen ( li ) eine Tabelle ( table ); diese besteht aus einem Tabellenkopf (table head - thead ) und einem Tabellenk\u00f6rper (table body - tbody ) der thead enth\u00e4lt eine Zeile (table row - tr ) als Tabellen\u00fcberschrift, wobei jede einzelne \u00dcberschrift (eine Spalte) als th definiert wird der tbody enth\u00e4lt mehrere Zeilen ( tr ); jede Zeile enth\u00e4lt so viele Dateneintr\u00e4ge (table data - td ) wie es Spalten gibt einen Hyperlink (anchor - a ), der ein Verweis auf die HTW-Seite enth\u00e4lt ein Bild (image - img ) Rufen Sie die Datei im Browser auf.","title":"Block- und Inline-Elemente"},{"location":"html/#einige-ausgewahlte-elemente","text":"","title":"Einige ausgew\u00e4hlte Elemente"},{"location":"html/#hyperlinks-anchorelement","text":"Das HTML-Element f\u00fcr Hyperlinks ist <a> . Ein Beispiel f\u00fcr die Anwendung dieses Elementes ist < a href = \"http://www.htw-berlin.de\" target = \"_blank\" > HTW Berlin </ a > Das Beispiel erstellt einen Hyperlink. Auf der Webseite sichtbar ist der Inhalt des Elementes, n\u00e4mlich HTW Berlin . Wird auf den Link geklickt, so \u00f6ffnet sich die Webseite der HTW ( www.htw-berlin.de ) in einem neuen Browser-Reiter ( target=\"_blank\" ). Weitere Beispiele: < a href = \"https://fiw.htw-berlin.de/fileadmin/HTW/Zentral/Rechtsstelle/Amtliche_Mitteilungsblaetter/2014/17_14.pdf\" > Studienordnung FIW </ a > < a href = \"mailto:freiheit@htw-berlin.de\" > E-Mail an J\u00f6rn Freiheit </ a > Das Anchorelement ist ein Inline-Element.","title":"Hyperlinks (Anchorelement)"},{"location":"html/#bilder-image","text":"Das HTML-Element f\u00fcr Bilder ist <img> . Ein Beispiel f\u00fcr die Anwendung dieses Elementes ist < img src = \"../Logos/fiw.jpg\" alt = \"FIW-Logo\" /> Das Beispiel zeigt das FIW-Logo auf der Webseite an. Es ist in der Datei fiw.jpg gespeichert, welche im Ordner Logos liegt. Der Ordner Logos befindet sich auf der gleichen Ordnerebene wie der Ordner, der die HTML-Datei enth\u00e4lt. Diesen Ordner muss man deshalb zun\u00e4chst mithilfe von .. verlassen. Das Attribut alt wird verwendet, um einen alternatioven Text anzugeben, der angezeigt wird, falls das Bild nicht geladen werden kann. Wichtig ist das alt -Attribut aber insbesondere f\u00fcr die Barrierefreiheit. Ein Screenreader liest diesen Alternativtext vor. Sollte es sich bei dem Bild nur um ein dekoratives Element handeln (also nicht wirklich einen sinnvollen Inhalt haben), sollte man aus Gr\u00fcnden der Barrierfreiheit daf\u00fcr alt=\"\" angeben, dann \u00fcberspringt der Screenreader dieses Bild. Es sei erw\u00e4hnt, dass es auch sowohl das height - als auch das width -Attribut f\u00fcr <img> gibt, um die H\u00f6he bzw. die Breite des Bildes zu setzen. Dies sollte aber besser CSS \u00fcberlassen werden. Beachten Sie auch, dass es sich bei dem <img> -Element um ein stand alone Element handelt. Wir beenden das Element deshalb mit /> , um XML-konform zu sein. Das <img> -Element ist ein Inline-Element.","title":"Bilder (Image)"},{"location":"html/#tabellen","text":"Tabellen ( <table> ) bestehen aus einen Tabellenkopf ( <thead> ) und einem Tabellenk\u00f6rper ( <tbody> ). Der Tabellenkopf enth\u00e4lt eine Tabellenzeile ( <tr> ) mit beliebig vielen Eintr\u00e4gen, den jeweiligen Spalten\u00fcberschriften ( <th> ). Der Tabellenk\u00f6rper enth\u00e4lt beliebig viele Zeilen ( <tr> ), die in jeder Spalten Dateneintr\u00e4ge ( <td> ) enthalten. Ein Beispiel f\u00fcr eine Tabelle: < table > < thead > < tr > < th > Spalte 1 </ th > < th > Spalte 2 </ th > < th > Spalte 3 </ th > </ tr > </ thead > < tbody > < tr > < td > 1_1 </ td > < td > 1_2 </ td > < td > 1_3 </ td > </ tr > < tr > < td > 2_1 </ td > < td > 2_2 </ td > < td > 2_3 </ td > </ tr > < tr > < td > 3_1 </ td > < td > 3_2 </ td > < td > 3_3 </ td > </ tr > </ tbody > </ table > Das Formatieren der Tabellen (Rahmen, rechtsb\u00fcndig usw.) sollte stets CSS \u00fcberlassen werden.","title":"Tabellen"},{"location":"html/#listen","text":"Es gibt nummerierte Listen ( ordered list <ol> ) und nicht-nummerierte Listen ( unordered list <ul> ). Die Eintr\u00e4ge in einer Liste sind die list items <li> . Listen k\u00f6nnen auch ineinander verschachtelt werden. Dabei ist nur zu beachten, dass Listen immer nur list items enthalten sollen und die list items dann selbst wieder eine neue Liste enthalten k\u00f6nnen. ordered list < ol > < li > eins </ li > < li > zwei </ li > < li > drei </ li > </ ol > unordered list < ul > < li > eins </ li > < li > zwei </ li > < li > drei </ li > </ ul > verschachtelte Liste < ol > < li > < ol > < li > eins_eins </ li > < li > eins_zwei </ li > < li > eins_drei </ li > </ ol > </ li > < li > zwei </ li > < li > < ul > < li > drei_eins </ li > < li > drei_zwei </ li > < li > drei_drei </ li > </ ul > </ li > </ ol >","title":"Listen"},{"location":"html/#container-elemente","text":"Einige Elemente dienen nur der besseren Strukturierung des HTML-Codes und der besseren \"Ansprechbarkeit\" im CSS (d.h. f\u00fcr diese Elemente k\u00f6nnen dann eigene CSS-Eigenschaften zugewisen werden). Vor HTML 5 wurde daf\u00fcr das Element <div> verwendet. Es existiert noch immer. Mit HTML 5 wurden aber weitere Container-Elemente hinzugef\u00fcgt: <main> - f\u00fcr den Hauptinhalt, sollte genau einmal im Dokument vorkommen <section> - f\u00fcr gr\u00f6\u00dfere Abschnitte (Teile); kann z.B. article enthalten <article> - f\u00fcr Abschnitte (z.B. Blog-Eintr\u00e4ge) in main <aside> - f\u00fcr z.B. News an der Seite <footer> - f\u00fcr die Fu\u00dfzeile (mit Impressum, Copyright, usw.) <header> - f\u00fcr die Kopfzeile (mit Logo, Navigation usw.) <nav> - f\u00fcr das Navigationsmen\u00fc Container-Elemente sind nicht \"sichtbar\", jedoch Block-Elemente. Es ist empfehlenswert, die eigene Webseite mit solchen Container-Elementen zu strukturieren, um erstens einen besseren \u00dcberblick \u00fcber die Seite zu bewahren und insbesondere gezielter die Formatierungseigenschaften von CSS verwenden zu k\u00f6nnen. Dies schlie\u00dft das Layout ein.","title":"Container-Elemente"},{"location":"html/#eingabe-bzw-steuerelemente","text":"Es gibt viele Steuerelemente in HTML und die Auswahl wird kontinuierlich gr\u00f6\u00dfer. Steuerelemente werden mit dem HTML-Element <input> definiert. Der Typ des Steuerelementes wird mit Attribut type definiert. Beispiele: < input type = \"button\" value = \"Click\" /> < input type = \"reset\" /> < input type = \"submit\" /> < input type = \"checkbox\" /> < input type = \"color\" /> < input type = \"date\" /> < input type = \"file\" /> < input type = \"number\" /> < input type = \"radio\" /> < input type = \"image\" src = \"../Logos/fiw.jpg\" width = \"40\" alt = \"FIW-Logo\" /> < input type = \"range\" min = \"10\" max = \"100\" /> < input type = \"text\" placeholder = \"Name\" /> < input type = \"email\" placeholder = \"E-Mail\" /> < input type = \"password\" /> Probieren Sie am besten diese Beispiele aus und schauen Sie sich die Darstellung an. Beachten Sie auch, dass die Elemente in den unterschiedlichen Browsern unterschiedlich dargestellt werden.","title":"Eingabe- bzw. Steuerelemente"},{"location":"html/#attribute","text":"Wir haben in den obigen Beispielen bereits Attribute gesehen. In <a> wurden z.B. die Attribute href und target verwendet und in <img> die Attribute src und alt . Attribute werden innerhalb der spitzen Klammern des Begin-Tags angegeben und haben die Form: attribut = \"wert\" Das hei\u00dft, auf der linken Seite steht das Attribut und auf der rechten Seite der Wert des Attributs in doppelten Hochkommata. Es gibt Attribute, die ohne Wert verwendet werden k\u00f6nnen, z.B. checked f\u00fcr ein Eingabeelement <input> , z.B. < input type = \"checkbox\" name = \"SG\" value = \"FIW\" checked /> FIW < br > Um XML-konform zu sein, sollte man eigentlich besser <input type=\"checkbox\" name=\"SG\" value=\"FIW\" checked=\"checked\" /> verwenden, macht aber niemand. Das Attribut checked ist ein Beispiel f\u00fcr ein Attribut, das speziell f\u00fcr ein HTML-Element zur Verf\u00fcgung steht (hier f\u00fcr <input> ). Die meisten Attribute existieren speziell f\u00fcr HTML-Elemente. Dar\u00fcber hinaus gibt es noch sogenannte globale Attribute, die f\u00fcr alle HTML-Elemente verwendet werden k\u00f6nnen. Beispiele solcher Attribute sind globales Attribut Erl\u00e4uterung id weist dem Element eine id zu; eine id sollte innerhalb eines HTML-Dokumentes eindeutig sein class weist dem Element eine oder mehrere Klassen zu, deren Eigenschaften in CSS definiert werden k\u00f6nnen hidden setzt das Element auf unsichtbar, es wird nicht angezeigt title weist einem Element textuelle Informationen zu, die bei l\u00e4ngerem Mouseover angezeigt werden (tooltip)","title":"Attribute"},{"location":"html/#weitere-informationen-uber-html","text":"Folien HTML um das untenstehende Beispiel auszuf\u00fchren, ben\u00f6tigen Sie die Datei fiw.jpg , die Sie in einem Logos -Ordner ablegen sollten, um wenig \u00c4nderungsaufwand bei der folgenden HTML-Datei zu haben alle Beispiele in einem <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > HTML Einf\u00fchrung </ title > </ head > < body > < h3 > Hyperlinks </ h3 > < a href = \"http://www.htw-berlin.de\" target = \"_blank\" > HTW Berlin </ a > < a href = \"https://fiw.htw-berlin.de/fileadmin/HTW/Zentral/Rechtsstelle/Amtliche_Mitteilungsblaetter/2014/17_14.pdf\" > Studienordnung FIW </ a > < a href = \"mailto:freiheit@htw-berlin.de\" > E-Mail an J\u00f6rn Freiheit </ a > < h3 > Bilder </ h3 > < img src = \"../Logos/fiw.jpg\" alt = \"FIW-Logo\" /> < h3 > Tabelle </ h3 > < table > < thead > < tr > < th > Spalte 1 </ th > < th > Spalte 2 </ th > < th > Spalte 3 </ th > </ tr > </ thead > < tbody > < tr > < td > 1_1 </ td > < td > 1_2 </ td > < td > 1_3 </ td > </ tr > < tr > < td > 2_1 </ td > < td > 2_2 </ td > < td > 2_3 </ td > </ tr > < tr > < td > 3_1 </ td > < td > 3_2 </ td > < td > 3_3 </ td > </ tr > </ tbody > </ table > < h3 > Listen </ h3 > < ol > < li > eins </ li > < li > zwei </ li > < li > drei </ li > </ ol > < ul > < li > eins </ li > < li > zwei </ li > < li > drei </ li > </ ul > < ol > < li > < ol > < li > eins_eins </ li > < li > eins_zwei </ li > < li > eins_drei </ li > </ ol > </ li > < li > zwei </ li > < li > < ul > < li > drei_eins </ li > < li > drei_zwei </ li > < li > drei_drei </ li > </ ul > </ li > </ ol > < h3 > Eingabeelemente </ h3 > < input type = \"checkbox\" name = \"SG\" value = \"AI\" /> AI < br > < input type = \"checkbox\" name = \"SG\" value = \"FIW\" checked /> FIW < br > < input type = \"button\" value = \"Click\" /> < input type = \"reset\" /> < input type = \"submit\" /> < input type = \"checkbox\" /> < input type = \"color\" /> < input type = \"date\" /> < input type = \"file\" /> < input type = \"number\" /> < input type = \"radio\" /> < input type = \"image\" src = \"../Logos/fiw.jpg\" width = \"40\" alt = \"FIW-Logo\" /> < input type = \"range\" min = \"10\" max = \"100\" /> < input type = \"text\" placeholder = \"Name\" /> < input type = \"email\" placeholder = \"E-Mail\" /> < input type = \"password\" /> </ body > </ html >","title":"Weitere Informationen \u00fcber HTML"},{"location":"html/#http","text":"HTTP steht f\u00fcr Hypertext Transfer Protocol. Es wurde von Tim Berners Lee zusammen mit HTML, dem ersten Webserver und dem ersten Browser Anfang der 1990er Jahre am CERN entwickelt. Die Idee von HTTP ist einfach: der Nutzer stellt unter Eingabe einer URL (die Adresse des Webservers) eine Anfrage ( request ) an den Webserver. Der Webserver antwortet darauf mit einer response . Diese enth\u00e4lt einige Metadaten und die angefragte Webseite (im HTML-Format), wenn die Anfrage ordnungsgem\u00e4\u00df beantwortet werden kann.","title":"HTTP"},{"location":"html/#http-anfragemethoden","text":"F\u00fcr die Anfrage des Browsers an den Webserver stellt HTTP verschiedene Anfragemethoden zur Verf\u00fcgung. Diese unterscheiden sich in ihrer Bedeutung dahingehend, was mit der angefragten Ressource (den Daten oder der Webseite) geschehen soll. Anfragemethode Erl\u00e4uterung `GET` ist die einfachste und meistverwendete Anfragemethode; dient dazu, eine Ressource (typischerweise eine HTML-Datei) vom Webserver anzufordern; z.B. `GET /index.html` fordert die `index.html` vom Webserver an. `POST` fordert ebenfalls eine Ressource vom Webserver an; der Unterschied zwischen `GET` und `POST` besteht beim Mitsenden von Daten, z.B. Suchanfragen oder Login-Daten. W\u00e4hrend beim `GET` die \u00fcbermittelten Daten in die URL geschrieben werden, werden diese bei einem `POST` in den HTTP-Header eingef\u00fcgt. Das hei\u00dft, dass beim `GET` die an den Webserver \u00fcbergebenen Daten sichtbar sind, beim `POST` nicht. F\u00fcr die \u00dcbertragung sensibler Daten sollte also `POST` verwendet werden. `HEAD` fragt nur den Response-Header ab, nicht die Daten selbst. So kann z.B. bei einem Download zun\u00e4chst die Gr\u00f6\u00dfe der Datei abgefragt werden, bevor man die Datei selbst (mit `GET` oder `POST`) herunterl\u00e4dt. Neben diesen \"HTTP-Standardmethoden\" gibt es noch spezielle Anfragemethoden, die beim einfachen Surfen keine Rolle spielen, f\u00fcr uns in der Webprogrammierung jedoch von Bedeutung sind. Wir werden diese im Zusammenhang mit dem Programmierparadigma REST ( Representational State Transfer ) verwenden. Sie unterscheiden sich dahingehend, wie mit den angeforderten Ressourcen umgegangen wird, also ob sie unver\u00e4ndert bleiben, angelegt oder ge\u00e4ndert werden. Anfragemethode Erl\u00e4uterung `GET` l\u00e4sst die angefragte Ressource unver\u00e4ndert und ruft sie nur ab `POST` erstellt eine neue Ressource oder ver\u00e4ndert sie; wir werden `POST`zum Erstellen verwenden `PUT` sehr \u00e4hnlich zu `POST`, aber `POST` ist ein wenig genereller. Wird mit `PUT` eine neue Ressource angelegt, so wird der Name in der URL angegeben, w\u00e4hrend bei `POST` der Name durch den Server vergeben kann; wir werden `PUT`zum \u00c4ndern verwenden `DELETE` l\u00f6scht die angegebene Ressource vom Server Wichtig ist zu beachten, dass HTTP ein zustandsloses Protokoll ist. Das bedeutet, dass die Anfragen prinzipiell unabh\u00e4ngig voneinander sind und dass es keine Anfragehostorie gibt. Wird soetwas ben\u00f6tigt, wie z.B. beim Online-Einkauf, dann muss dies \u00fcber andere Mechanismen (z.B. Anmelden/Registrieren) realisiert werden.","title":"HTTP-Anfragemethoden"},{"location":"html/#http-statusmeldungen","text":"HTTP sieht verschiedene Meldungen des Servers an den Client vor. Diese werden im Response-Header versendet. Hier ein paar Beispiele: HTTP Statusmeldung Erl\u00e4uterung `200 OK` Request wurde vollst\u00e4ndig und erfolgreich bearbeitet `201 Created` Request wurde bearbeitet und die neue Ressource wurde erstellt `301 Moved Permanently` die angeforderte Ressource wurde an eine andere URL bewegt `400 Bad Request` Der Request kann nicht bearbeitet werden, da er (syntaktische) Fehler enth\u00e4lt. `401 Unauthorized` Request ist ok, aber der Zugriff auf die Ressource ist nicht autorisiert `404 Not Found` die angegebene Ressource existiert nicht `500 Internal Server Error` der Webserver ist down bzw. hat einen Fehler","title":"HTTP-Statusmeldungen"},{"location":"html/#urls","text":"URL steht f\u00fcr Uniform Resource Locator und ist eine Adresse, die auf eine Ressource auf einem Server zeigt sowie das Protokoll, mit dem auf diese Adresse zugegriffen wird. Der allgemeine Aufbau einer URL sieht so aus: <schema>:<ressourcen-adresse> <schema> k\u00f6nnen verschiedene Protokolle sein, z.B. http , https , ftp , mailto , news , file usw. F\u00fcr die Zugriffe auf Webservern wierden http bzw. https verwendet. Die <ressourcen-adresse> kann unterschiedlich komplex sein. Der allgemeine Fall f\u00fcr den Zugriff auf eine Ressource auf einem Webserver kann so aussehen: //user:password@www.example.org:80/index.html?key1=value1&key2=value2 Darin m\u00f6chte ein Nutzer user mit dem Passwort password auf den Server (host) www.example.org \u00fcber den Port 80 auf die Ressource index.html zugreifen (mit GET) und \u00fcbergibt dabei 2 Werte, n\u00e4mlich value1 f\u00fcr den Schl\u00fcssel (die Variable) key1 und value2 f\u00fcr den Schl\u00fcssel key2 . In den meisten F\u00e4llen wird weder user noch password angegeben, oft auch nicht der Port und viele Anfragen auch ohne angeh\u00e4ngte Schl\u00fcssel-Werte-Paare. Die URL darf bestimmte Zeichen nicht enthalten, z.B. Leerzeichen, Klammern usw. Diese werden maskiert , d.h. in sogenante Prozentdarstellung umgewandelt. Ein Leerzeichen wird in %20 umgewandelt, ein Punkt in %2E usw. Daraus ergeben sich manchmal etwas \"kryptische\" URLs (siehe z.B. https://www.w3schools.com/tags/ref_urlencode.ASP ).","title":"URLs"},{"location":"html/#domain-name-service-dns","text":"Prinzipiell sind die Rechner im Internet durch IP-Adressen adressiert. IPv4 -Adressen bestehen aus vier Zahlenbl\u00f6cken (jeweils im Bereich von 0 bis 255), die durch einen Punkt getrennt sind. IPv4 -Adressen werden in 32 Bit gespeichert. Es gibt somit theoretisch 2^32 = 4.294.967.296 verschiedene Adressen, d.h. gut 4 Mrd adressierbare Rechner im Internet. Da dies nicht ausreicht, wurde in Version 6 des IP-Protokolls eine neue Dressierbarkeit eingef\u00fchrt, in dem nun 128 Bit f\u00fcr die Speicherung einer Adresse zur Verf\u00fcgung stehen. Eine IPv6 -Adresse besteht aus acht Bl\u00f6cken, welche durch Doppelpunkte getrennt sind. Jeder Block besteht aus 4 Hexadezimalstellen. Damit man sich zum Surfen im World Wide Web nicht IP-Adressen merken muss, wurden Webservern Namen zugeordnet. Somit muss man nicht die IP-Adressen in das Adressfeld als URL eingeben, sondern kann sprechende Namen verwenden, wie z.B. htw-berlin.de . de ist dabei eine sogenannte Top-Level-Domain und htw-berlin eine Subdomain. Den DNS kann man sich wie ein Telefonbuch vorstellen, in dem f\u00fcr eine sprechende Adresse die zuegh\u00f6rige IP-Adresse steht. Die Anfrage wird dann per TCP/IP an die IP-Adresse geschickt. Abfrage nach dem Root-DNS-Server f\u00fcr die Domain htw-berlin.de : % dig htw-berlin.de @a.root-servers.net ; <<>> DiG 9 .10.6 <<>> htw-berlin.de @a.root-servers.net ;; global options: +cmd ;; Got answer: ;; ->>HEADER <<- opco de: QUERY, status: NOERROR, id: 38694 ;; flags: qr rd ; QUERY: 1 , ANSWER: 0 , AUTHORITY: 6 , ADDITIONAL: 13 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0 , flags: ; udp: 4096 ;; QUESTION SECTION: ; htw-berlin.de. IN A ;; AUTHORITY SECTION: de. 172800 IN NS s.de.net. de. 172800 IN NS n.de.net. de. 172800 IN NS a.nic.de. de. 172800 IN NS f.nic.de. de. 172800 IN NS l.de.net. de. 172800 IN NS z.nic.de. ;; ADDITIONAL SECTION: s.de.net. 172800 IN A 195 .243.137.26 s.de.net. 172800 IN AAAA 2003 :8:14::53 n.de.net. 172800 IN A 194 .146.107.6 n.de.net. 172800 IN AAAA 2001 :67c:1011:1::53 a.nic.de. 172800 IN A 194 .0.0.53 a.nic.de. 172800 IN AAAA 2001 :678:2::53 f.nic.de. 172800 IN A 81 .91.164.5 f.nic.de. 172800 IN AAAA 2a02:568:0:2::53 l.de.net. 172800 IN A 77 .67.63.105 l.de.net. 172800 IN AAAA 2001 :668:1f:11::105 z.nic.de. 172800 IN A 194 .246.96.1 z.nic.de. 172800 IN AAAA 2a02:568:fe02::de ;; Query time: 140 msec ;; SERVER: 198 .41.0.4#53 ( 198 .41.0.4 ) ;; WHEN: Tue Sep 29 08 :44:58 CEST 2020 ;; MSG SIZE rcvd: 412 Die Domain htw-berlin.de wird von mehreren DNS verwaltet: s.de.net , n.de.net , a.nic.de , ... (siehe AUTHORITY SECTION). Beispielsweise leitet der Root-DNS-Server a.nic.de die Aufl\u00f6sung der Domain an die beiden DNS infobloxv.htw-berlin.de (IP-Adresse 141.45.65.100 ) und dns-2.dfn.de weiter: % dig htw-berlin.de @a.nic.de ; <<>> DiG 9 .10.6 <<>> htw-berlin.de @a.nic.de ;; global options: +cmd ;; Got answer: ;; ->>HEADER <<- opco de: QUERY, status: NOERROR, id: 1455 ;; flags: qr rd ; QUERY: 1 , ANSWER: 0 , AUTHORITY: 2 , ADDITIONAL: 2 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0 , flags: ; udp: 4096 ;; QUESTION SECTION: ; htw-berlin.de. IN A ;; AUTHORITY SECTION: htw-berlin.de. 86400 IN NS infobloxv.htw-berlin.de. htw-berlin.de. 86400 IN NS dns-2.dfn.de. ;; ADDITIONAL SECTION: infobloxv.htw-berlin.de. 86400 IN A 141 .45.65.100 ;; Query time: 2 msec ;; SERVER: 194 .0.0.53#53 ( 194 .0.0.53 ) ;; WHEN: Tue Sep 29 08 :45:47 CEST 2020 ;; MSG SIZE rcvd: 106 Die aktuelle IP-Adresse des Servers htw-berlin.de ist 141.45.66.214 : % dig htw-berlin.de @dns-2.dfn.de ; <<>> DiG 9 .10.6 <<>> htw-berlin.de @dns-2.dfn.de ;; global options: +cmd ;; Got answer: ;; ->>HEADER <<- opco de: QUERY, status: NOERROR, id: 21529 ;; flags: qr aa rd ; QUERY: 1 , ANSWER: 1 , AUTHORITY: 0 , ADDITIONAL: 1 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0 , flags: ; udp: 4096 ;; QUESTION SECTION: ; htw-berlin.de. IN A ;; ANSWER SECTION: htw-berlin.de. 28800 IN A 141 .45.66.214 ;; Query time: 11 msec ;; SERVER: 193 .174.75.54#53 ( 193 .174.75.54 ) ;; WHEN: Tue Sep 29 08 :46:53 CEST 2020 ;; MSG SIZE rcvd: 58 Die IP-Adresse der Domain (und die verantwortlichen DNS) h\u00e4tte man auch mit nslookup herausbekommen: % nslookup -q = any htw-berlin.de Server: 141 .45.2.100 Address: 141 .45.2.100#53 htw-berlin.de origin = infoblox1.htw-berlin.de mail addr = net-rz.htw-berlin.de serial = 2009121336 refresh = 10800 retry = 3600 expire = 2419200 minimum = 900 Name: htw-berlin.de Address: 141 .45.66.214 htw-berlin.de mail exchanger = 50 mail1.rz.htw-berlin.de. htw-berlin.de text = \"ZOOM_verify_stchLGrGQgO-9ACdBPKPRw\" htw-berlin.de text = \"v=spf1 ip4:141.45.10.64/26 ip4:141.45.70.64/26 ~all\" htw-berlin.de nameserver = dns-2.dfn.de. htw-berlin.de nameserver = infobloxv.htw-berlin.de.","title":"Domain Name Service (DNS)"},{"location":"javascript/","text":"JavaScript \u00b6 JavaScript wurde 1995 von Brendan Eich entwickelt. Er arbeitete damals bei Netscape und entwickelte mit dem damals sogenannten LiveScript eine Skriptsprache f\u00fcr den damaligen Netscape-Browser. Ein damaliger Browser \"verstand\" HTML und CSS. HTML sah f\u00fcr Nutzerinteraktionen nur das Klicken auf Hyperlinks vor. Andere Nutzerinteraktionen waren nicht vorgesehen. Mithilfe von JavaScript wurde eine Schnittstelle geschaffen, um durch Nutzerinteraktionen den HTML-Code zu manipulieren, ohne dass ein weiteres Nachladen vom Webserver notwendig wurde. Mit der Einf\u00fchrung von JavaScript wurden die F\u00e4higkeiten von Browsern erweiteret, indem nun nicht mehr nur HTML und CSS interpretiert wurde, sondern auch JavaScript - alles Client-seitig, also durch den Browser selbst. JavaScript ist eine sogenannte Skriptsprache , d.h. der Quellcode wird nicht compiliert und dann der \u00fcbersetzte Byte- oder Maschinencode ausgef\u00fchrt, sondern der Quellcode wird durch einen Interpreter interpretiert. Allerdings wird f\u00fcr Optimierungen JavaScript - insbesondere serverseitig in Node.js - durch sogenannte Engines doch in Maschinencode \u00fcbersetzt, welcher ausgef\u00fchrt wird. Die bekannteste dieser Engines ist die Google-Engine V8 . Die Technologie der Compilierung wird als Just-in-time-Kompilierung (JIT) bezeichnet. JavaScript kennt (im Gegensatz zu TypeScript) keine Klassen. Das Objektmodell von JavaScript basiert auf Prototypen . Eigenschaften und Methoden k\u00f6nnen zur Laufzeit den Objekten hinzugef\u00fcgt werden. Neben diesem dynamischen Objektmodell ist auch die Typisierung in JavaScript dynamisch. Der Typ einer Variable h\u00e4ngt vom Wert ab. Mit dem Wert kann sich auch der Typ der Variable \u00e4ndern. Client-seitig haben HTML, CSS und JavaScript folgende Bedeutung (und wir sollten auch auf eine solche strikte Trennung achten): HTML f\u00fcr die Inhalte, CSS f\u00fcr das Layout, JavaScript f\u00fcr das interaktive Verhalten unserer Webseite. JavaScript in unseren Webseiten \u00b6 Zun\u00e4chst \u00fcberlegen wir uns, wie wir das auch schon f\u00fcr CSS getan hatten, wo wir den JavaScript-Code in unseren Webseiten einf\u00fcgen k\u00f6nnen. Prinzipiell wird JavaScript-Code in einem HTML-Dokument innerhalb eines <script></script> -Elementes eingef\u00fcgt. Im Gegensatz zu CSS (wo wir die Definitionen innerhalb des <style></style> -Elementes angegeben haben, welches immer im <head> positioniert wird), ist es egal, ob das <script> -Element im <head> oder <body> angelegt wird. Sie k\u00f6nnen innerhalb eines HTML-Dokumentes auch mehrere <script> -Elemente haben und Sie k\u00f6nnen dann auch sowohl im <head> als auch im <body> positioniert sein. Wie bei CSS, ist es auch f\u00fcr JavaScript \u00fcblich, den Code in externe (. js )-Dateien auszulagern und diese dann in das HTML-Dokument einzubinden. Dies geschieht aber nicht \u00fcber ein <link> -Element, sondern ebenfalls \u00fcber das <script> -Element. Das folgende Beispiel zeigt die Verwendung des <script> -Eelementes zum Einbinden von JavaScript: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > DOM </ title > < script > function myFunction1 () { document . getElementById ( \"demo1\" ). innerHTML = \"Hallo FIW!\" ; } </ script > </ head > < body > < script src = \"myScript.js\" ></ script > < h1 > \u00dcberschrift </ h1 > < button type = \"button\" onclick = \"myFunction1()\" > Klick mich </ button > < div id = \"demo1\" ></ div > < input id = \"input1\" type = \"text\" placeholder = \"Gibt etwas ein\" onkeyup = \"myFunction2()\" /> < div id = \"demo2\" ></ div > < script > function myFunction2 () { document . getElementById ( \"demo2\" ). innerHTML = document . getElementById ( \"input1\" ). value ; } </ script > </ body > </ html > Ein gutes Vorgehen ist es, JavaScript am Ende des <body> -Elementes einzubinden, damit die Seite zun\u00e4chst dargestellt wird und erst dann der JavaScript-Code geladen wird. Das laden des JavaScript-Codes w\u00fcrde ansonsten die Darstellung der Webseite verz\u00f6gern. Document Object Model (DOM) \u00b6 Wir betrachten JavaScript zun\u00e4chst nur aus client-seitiger Sicht, d.h. f\u00fcr die Verwendung im Browser. Der Browser stellt HTML dar, welches durch CSS in ein ansprechendes Layout gestzt wurde. Es stellt sich die Frage, inwieweit JavaScript \u00fcberhaupt noch eine Erweiterung dieses Konzeptes darstellen kann. Die Antwort liegt darin, dass ohne JavaScript eine Webseite im Browser v\u00f6llig statisch ist, d.h. es gibt nur eine M\u00f6glichkeit, neue Inhalte zu laden oder \u00fcberhaupt etwas an der Webseite zu \u00e4ndern und das ist, diese neuen Inhalte oder \u00c4nderungen von einem Webserver zu laden. Jede Nutzerinteraktion f\u00fchrt so immer zu einem Request-Response-Prozess mit einem Webserver. Das wird durch JavaScript ge\u00e4ndert. Auf Nutzerinteraktionen kann durch JavaScript lokal, d.h. auf dem Client bleibend, reagiert werden. Die Schnittstelle zwischen JavaScript und HTML/CSS ist das sogenannte Document Objekct Model (DOM) . Das DOM stellt ein Interface (eine Schnittstelle) dar, um HTML-Dokumente \"manipulieren\" zu k\u00f6nnen. Damit ist haupts\u00e4chlich gemeint, dass HTML-Elemente eines HTML-Dokumentes ge\u00e4ndert, hinzugef\u00fcgt und gel\u00f6scht werden k\u00f6nnen. Zum \u00c4ndern der HTML-Elemente z\u00e4hlen das \u00c4ndern des Inhalts der Elemente und das \u00c4ndern von Attributen und deren Werten. Die Idee ist, dass ein HTML-Dokument als ein Baum aufgefasst wird, dessen hierarchische Beziehungen durch das HTML-Dokument (und dessen hierarchischer Struktur) vorgegeben werden und in dem alle HTML-Elemente, alle Attribute und alle Inhalte als Objekte angesehen werden. Wir schauen uns dazu ein einfaches Beispiel an: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > DOM </ title > </ head > < body > < div class = \"container\" > < h1 > \u00dcberschrift </ h1 > < ul > < li > < a href = \"http://www.htw-berlin.de\" > HTW Berlin </ a > < a href = \"http://fiw.htw-berlin.de\" > FIW </ a > </ li > </ ul > </ div > </ body > </ html > Ein HTML-Dokument besteht aus HTML-Elementen, welche Attribute haben k\u00f6nnen und Inhalte. Im obigen Beispiel hat z.B. das <meta> -Element im <head> ein Attribut, n\u00e4mlich charset . Der Wert dieses Attributes ist ein Text, n\u00e4mlich UTF-8 . Der Inhalt eines <a> -Elementes ist auch ein Text. Im obigen Beispiel haben wir zwei <a> -Elemente. Das eine hat den Inhalt (Text) HTW Berlin und das andere FIW . Wir k\u00f6nnen somit zwischen drei Arten von \"Objekten\" in einem HTML-Dokument unterscheiden: Elemente Attribute Texte Wenn wir diese Artefakte tats\u00e4chlich als Objekte auffassen und au\u00dferdem die hierarchische Beziehung zwischen diesen Objekten ber\u00fccksichtigen, dann l\u00e4sst sich ein Baum aufspannen, der aus solchen Objekten besteht. F\u00fcr obiges Beispiel sieht der Baum dann so aus: Wir interpretieren die Objekte also als Knoten ( Node ) eines Baumes. Einen solchen Baum, der ein HTML-Dokument eindeutig repr\u00e4sentiert, nennen wir Document Object Model (DOM) (auch HTML-DOM ). Ein solcher DOM ist der Ausgangspunkt f\u00fcr die Manipulation des HTML-Dokumentes, denn JavaScript ist in der Lage, jeden beliebigen Knoten innerhalb dieses Baumes anzusprechen und bspw. zu \u00e4ndern oder zu l\u00f6schen. Au\u00dferdem kann auch jede beliebige Position eindeutig bestimmt werden, um z.B. ein Element hinzuzuf\u00fcgen. Wir schauen uns im Folgenden an, welche Funktionen JavaScript zur Verf\u00fcgung stehen, um Positionen in diesem Baum eindeutig zu lokalisieren. DOM-Funktionen (Lokalisation von Elementen) \u00b6 Ausgangspunkt (die Wurzel) eines jeden HTML-DOM ist document (siehe obige Abbildung). Von document aus k\u00f6nnen wir uns beliebig durch den Baum bewegen. Die wohl meist verwendete Funktion zur Lokalisation eines Elementes im DOM ist getElementById() . In unserem obigen Beispiel haben wir nur ein Element mit einer id (einem id -Attribut) und das ist <ul> . Wir k\u00f6nnten gezielt nach diesem Element fragen: document . getElementById ( 'ul1' ) und erhalten als R\u00fcckgabe das Element mit der id=\"ul1\" , also das <ul> -Element (welches wir z.B. in einer Variable speichern k\u00f6nnten). Weitere Funktionen zur Lokalisation von Elementen sind document . getElementsByTagName ( name ) document . getElementsByClassName ( name ) Beide Funktionen liefern uns jeweils ein Array von Elementen zur\u00fcck. Die Funktion document.getElementsByTagName(name) gibt ein Array von Elementen aus dem document zur\u00fcck, die den Tag name haben, also z.B. alle <p> -Elemente, wenn document.getElementsByTagName('p') aufgerufen wird. Die Funktion document.getElementsByClassName(name) gibt ein Array von Elementen aus dem document zur\u00fcck, die der Klasse name zugeordnet sind, also z.B. alle Elemente mit der Klasse form-group , wenn document.getElementsByClassName('form-group') aufgerufen wird. Mit diesen Funktionen kann man Elemente mitten im DOM lokalisieren. Daneben gibt es noch weitere Funktionen, die jeweils von einem solchen Element ausgehend \"benachbarte\" Knoten lokalisieren. Betrachten wir z.B. diesen Ausschnitt aus einem HTML-Code: < main id = \"main\" > < h3 id = \"headline\" > DOM </ h3 > < img id = \"ball1\" src = \"ball.png\" /> < img id = \"ball2\" src = \"ball.png\" /> < img id = \"ball3\" src = \"ball.png\" /> < img id = \"ball4\" src = \"ball.png\" /> </ main > Der dazugeh\u00f6rige DOM (vereinfacht) ist in der folgenden Abbildung dargestellt sowie die Funktionen, mit denen die umgebenden Elemente lokalisiert werden k\u00f6nnen: F\u00fcr die Funktionen getElementById() und getElementsByTagName() betrachten wir ein erstes einfaches Beispiel: In dem obigen JSFiddle k\u00f6nnen Sie die Wirkungsweise ausprobieren. Wir zeigen hier aber nochmal den vollst\u00e4ndigen Code, damit Sie ihn sich kopieren und wir ihn besser erl\u00e4utern k\u00f6nnen: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > DOM </ title > < style > * { padding : 5 px ; margin : 5 px ; } </ style > </ head > < body > < h1 onmouseover = \"changeColor()\" > \u00dcberschrift </ h1 > < button type = \"button\" onclick = \"myFunction1()\" > Klick mich </ button > < div id = \"demo1\" ></ div > < input id = \"input1\" type = \"text\" placeholder = \"Gibt etwas ein\" onkeyup = \"myFunction2()\" /> < div id = \"demo2\" ></ div > < script > function myFunction1 () { document . getElementById ( \"demo1\" ). innerHTML = \"Hallo FIW!\" ; } function myFunction2 () { document . getElementById ( \"demo2\" ). innerHTML = document . getElementById ( \"input1\" ). value ; } function changeColor () { var h1arr = document . getElementsByTagName ( 'h1' ); h1arr [ 0 ]. style . color = \"red\" ; } </ script > </ body > </ html > Den <head> k\u00f6nnen wir ignorieren, auch das <style> -Element darin. Wichtig sind: wir haben 2 leere <div> -Elemente mit den Ids id=\"demo1\" und id=\"demo2\" (Zeilen 16 und 18 ) wir haben einen <button> mit dem Attribut onclick . Dieses Attribut bindet einen Ereignis-Listener an den Button. Wird das Click -Ereignis ausgel\u00f6st, wird die JavaScript-Funktion myFunction1() aufgerufen (Zeile 15 ) die JavaScript-Funktion myFunction1() ist im <script> -Element definiert (Zeilen 20-22 ). Diese Funktion lokalisiert das Element mit der id \"demo1\" und weist ihm einen neuen HTML-Inhalt zu, n\u00e4mlich \"Hallo FIW!\" wir haben au\u00dferdem ein einzeiliges Eingabefeld mit der Id id=\"input1\" (Zeile 17 ). Diesem Eingabefeld ist au\u00dferdem das Attribut onkeyup zugeordnet. Dieses Attribut meldet sich bei einem Ereignis an, das ausgel\u00f6st wird, wenn innerhalb des Eingabefeldes eine Taste wieder losgelassen wird - es wird dann das KeyUp -Ereignis ausgel\u00f6st. Durch das Ausl\u00f6sen dieses Ereignisses wird die JavaScript-Funktion myFunction2() aufgerufen. die JavaScript-Funktion myFunction2() ist im <script> -Element definiert (Zeilen 20-22 ). Diese Funktion lokalisiert das Element mit der id \"demo2\" und weist ihm einen neuen HTML-Inhalt zu, n\u00e4mlich den Wert ( value ), der in das Eingabefeld mit der id=\"input1\" eingegeben wurde (Zeilen 24-26 ) der \u00dcberschrift <h1> (Zeile 14 ) wurde das Attribut onmouseover zugeordnet. Damit wird das MouseOver -Ereignis abgefragt. Wird die Maus \u00fcber die \u00dcberschrift bewegt, wird dieses Ereignis ausgel\u00f6st und die Funktion changeColor() aufgerufen diese Funktion lokalisiert zun\u00e4chst alle Elemente mit dem Tag h1 und speichert sie in das Array h1arr (Zeile 29 ). Unsere \u00dcberschrift ist die erste (und einzige) \u00dcberschrift <h1> im Dokument. Wir greifen deshalb mit dem Index 0 auf dieses Element im h1arr -Array zu und \u00e4ndern die Schriftfarbe auf \"red\" (Zeile 30 ) Dieses erste Beispiel zeigt mehrere interssante Punkte: neben den Funktionen zur Lokalisation von Elemeneten gibt es auch Ereignisse, an die man sich anmelden und auf die reagiert werden kann und es gibt Funktionen, die den Inhalt und den Style von Elementen \u00e4ndern Wir schauen uns zun\u00e4chst Ereignisse an, auf die reagiert werden kann. HTML-Ereignisse \u00b6 HTML-Ereignisse \"passieren\" f\u00fcr HTML-Elemente in den allermeisten F\u00e4llen durch Nutzerinteraktionen (Maustaste dr\u00fccken, Fenster vergr\u00f6\u00dfern, Tatstatureingabe etc.). Mit JavaScript k\u00f6nnen wir auf diese Ereignisse reagieren. Eine einfache Form, ein HTML-Element an ein solches Ereignis anzumelden (so dass darauf reagiert werden kann), ist \u00fcber Attribute. Angenommen ein solches Ereignis hei\u00dft Event , dann hei\u00dft das Attribut onEvent (es kann auch alles klein geschrieben werden). Die generelle Syntax ist wie folgt: < element onEvent = \"JavaScript-Code\" /> Der JavaScript-Code muss nicht zwingend der Aufruf einer JavaScript-Funktion, sondern kann auch eine direkte JavaScript-Anweisung sein. Hier eine Liste der \u00fcblichsten HTML-Ereignisse. Die Bedeutung ist aus den Namen selbsterkl\u00e4rend, deshalb werden die meisten Ereignisse hier nicht weiter beschrieben: Mausereignisse (MouseEvent): mousedown , mouseup , click , dblclick , mousemove , mouseover , mousewheel , mouseout , contextmenu Tastaturereignisse (KeyboardEvent): keydown , keypress , keyup Formularereignisse: focus , blur , change , input , submit Fensterereignisse: scroll , resize , hashchange , load , unload Wir zeigen einige Beispiele: In diesem Beispiel werden die Ereignisse focus , blur und input behandelt. Um das blur -Ereignis auszul\u00f6sen, muss das <input> -Element den Focus verlieren. In diesem Beispiel wird das change -Ereignis behandelt. Der Inhalt des Absatzes <p> mit der id=\"radio\" wird bei jedem change -Event erweitert. Es wird also nicht innerHTML v\u00f6llig neu gesetzt, sondern mithilfe von += wird der entsprechende String angeh\u00e4ngt. Das soll insbesondere zeigen, dass das change -Ereignisses wirklich nur ausgel\u00f6st wird, wenn der Wert wechselt. Beachten Sie auch, dass getElementsByName() verwendet wird. Den Radiobuttons wurde jeweils name=\"colors\" zugewiesen. Sie bilden damit auch eine Radiobutton-Group (es kann immer nur ein Radiobutton daraus ausgew\u00e4hlt werden). In diesem Beispiel werden das mouseover - und das mouseout -Event behandelt. Beachten Sie auch die \u00dcbergabe von this an die JavaScript-Funktionen. Damit wird das <div> -Element \u00fcbergeben. Wir m\u00fcssen es innerhalb der Funktionen deshalb nicht mehr explizit mit getElementById() oder \u00e4hnliches holen. In diesem Beispiel wird JavaScript nicht als Funktion, sondern direkt in den Ereignis-Attributen aufgerufen. Noch ein einfaches Beispiel mit den Ereignissen mousedown , mouseup , mouseenter und mouseleave . Noch ein letztes Beispiel, das wir nicht in JSFiddle zeigen, da es daraum geht, die Gr\u00f6\u00dfe des Browsers zu \u00e4ndern (Ereignis resize - die JavaScript-Funktion hei\u00dft auch resize() , aber dieser Name ist frei gew\u00e4hlt): <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Arrays </ title > </ head > < body onresize = \"resize()\" > < h2 > Gr\u00f6\u00dfe des Browserfensters \u00e4ndern! </ h2 > < p id = \"demo\" ></ p > < script > function resize () { var w = window . outerWidth ; var h = window . outerHeight ; var txt = \"Fenstergr\u00f6\u00dfe: Breite=\" + w + \", H\u00f6he=\" + h ; document . getElementById ( \"demo\" ). innerHTML = txt ; } </ script > </ body > </ html > Wir haben uns nun einige Beispiele angesehen, wie wir HTML-Elemente \u00e4ndern k\u00f6nnen. Prinzipiell geht es mit den Eigenschaften: node.innerHTML = - Inhalt eines Elements \u00e4ndern node.attribute = - Attribut eines Elements \u00e4ndern node.style. property = - Style/Formatierung \u00e4ndern node.classList.add() - CSS-Klassen zum Element hinzuf\u00fcgen node.classList.remove() - CSS-Klassen vom Element entfernen Elemente hinzuf\u00fcgen und l\u00f6schen \u00b6 Nun wollen wir den DOM insofern manipulieren, als dass wir zun\u00e4chst Objekte hinzuf\u00fcgen. Die wichtigsten Funktionen daf\u00fcr sind: document.createElement('tag') - Element erzeugen document.createTextNode(\"text\") - Textelement erzeugen node.appendChild(childNode) - Element childNode dem Knoten node als direktes (letztes) Kind hinzuf\u00fcgen node.removeChild(childNode) - Kind childNode des Elementes node l\u00f6schen node.replaceChild(newNode, oldNode) - Kind oldNode des Knotens node durch newNode ersetzen node.insertBefore(newNode, oldNode) - Kind newNode des Knotens node vor das Kind oldNode des Knotens node einf\u00fcgen Create \u00b6 Wir betrachten wieder ein einfaches Beispiel: Im HTML-Code sehen wir ein <input> -Element und eine Liste <ul> , die bereits 2 Listitems <li> enth\u00e4lt. Dem <input> -Element wurde ein change -Listener hinzugef\u00fcgt. Sobald sich der Wert in dem <input> -Element ge\u00e4ndert hat, wird dieses Ereignis ausgel\u00f6st und die Funktion addItem() aufgerufen. Dieser Funktion wird das <input> -Element als Parameter \u00fcbergeben. In dieser Funktion wird zuerst ein Textknoten erzeugt ( let textNode = document.createTextNode(text); ) Der text ist der Wert value des <input> -Elementes. Au\u00dferdem wird ein <li> -Knoten (Objekt) erzeugt ( let liNode = document.createElement('li'); ). An diesen <li> -Knoten wird der Textknoten angeh\u00e4ngt ( liNode.appendChild(textNode); ). Danach wird an die <ul> -Liste der <li> -Knoten (mit dem Textknoten) angeh\u00e4ngt ( ulNode.appendChild(liNode); ). Das neue List-item erscheint sofort als letztes Kind in der Liste. Im folgenden Beispiel passiert das gleiche, nur wird das neu erzeugte List-Item nicht hinten an die Liste angeh\u00e4ngt, sondern vorne eingef\u00fcgt: Tats\u00e4chlich \u00e4ndert sich daf\u00fcr nur die letzte Anweisung in der Funktion. Aus ulNode.appendChild(liNode); wird ulNode.insertBefore(liNode, ulNode.childNodes[0]); . Mit ulNode.childNodes[0] greifen wir auf das erste Kind des ulNode zu. Das h\u00e4tten wir auch durch ulNode.firstChild haben k\u00f6nnen. Clone \u00b6 Eine weitere M\u00f6glichkeit, ein Element zu erzeugen, ist durch clonen eines anderen Knotens (Elementes). Der Vorteil des Clonens besteht darin, dass ein gesamter Unterbaum eines Elementes mitkopiert werden kann. Die Syntax f\u00fcr das Clonen eines Knotens node ist nod.cloneNode(deep) . Wenn deep true ist, werden auch alle Kindelemente geklont, wenn false , dann nur das Element selbst. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > Clone </ title > </ head > < body > < img src = \"./images/fiw.jpg\" ondblclick = \"cloneFunc(this)\" class = \"rounded mx-auto d-block\" style = \"width: 150px;\" alt = \"fiw\" /> < div id = \"div1\" ></ div > < script > function cloneFunc ( obj ) { let imgClone = obj . cloneNode ( true ); let divNode = obj . nextElementSibling ; console . log ( divNode ); // inspizieren Sie die Konsole in den DevTools divNode . appendChild ( imgClone ); } </ script > </ body > </ html > Im obigen Beispiel verwenden wir Bootstrap und f\u00fcr das <img> -Element einige Bootstrap-Klassen (haupts\u00e4chlich, damit es in der Mitte ist). Wenn wir auf das Bild Doppelklicken ( dblclick ), wird die Funktion cloneFunc() aufgerufen, der wir das img -Objekt \u00fcbergeben. In der Funktion clonen wir das Bild (hier ist es egal, ob deep clone oder nicht, da das img -Element keine Kindknoten hat). Der Clone wird dem div -Element als Kind hinzugef\u00fcgt. Durch jeden Doppelklick auf das Bild wird ein weiterer Clone dem <div> -Element hinzugef\u00fcgt. addEventListener \u00b6 Eigentlich ist die Verwendung der Attribute onEvent nicht optimal, da die Trennung zwischen HTML und JavaScript nicht gro\u00df genug ist. Wir erinnern uns, wir wollen eine Trennung in die Zust\u00e4ndigkeiten: HTML f\u00fcr den Inhalt, CSS f\u00fcr das Layout und JavaScript f\u00fcr das Verhalten. Besser ist es, die Event-Listener ebenfalls durch JavaScript hinzuzuf\u00fcgen und nicht durch HTML-Attribute. Wir erweitern unser obiges Clone-Beispiel zun\u00e4chst wie folgt (hinzugekommener Code hervorgehoben): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > Clone </ title > </ head > < body > < img src = \"./images/fiw.jpg\" ondblclick = \"cloneFunc(this)\" class = \"rounded mx-auto d-block\" style = \"width: 150px;\" alt = \"fiw\" /> < div id = \"div1\" ></ div > < script > function cloneFunc ( obj ) { let imgClone = obj . cloneNode ( true ); let divNode = obj . nextElementSibling ; divNode . addEventListener ( \"click\" , removeFunc ); console . log ( divNode ); // inspizieren Sie die Konsole in den DevTools divNode . appendChild ( imgClone ); } function removeFunc ( event ) { let obj = event . target ; console . log ( obj ); let parent = obj . parentElement ; console . log ( parent ); parent . removeChild ( obj ); } </ script > </ body > </ html > In Zeile 17 melden wir unseren geklonten Knoten an den Event-Listener f\u00fcr das click -Ereignis an. Wird auf das Bild geklickt, dann wird die Funktion removeFunc() aufgerufen. Beachten Sie, dass der erste Parameter der addEventListener() -Funktion das Ereignis click ist (und nicht das HTML-Attribut onClick ) und dass der zweite Parameter die Referenz auf die Funktion removeFunc ist, nicht der Aufruf der Funktion. W\u00fcrden wir dort anstelle von removeFunc removeFunc() schreiben, entspr\u00e4che das dem Aufruf der Funktion und diese w\u00fcrde bei Aufruf der Funktion addEventListener() sofort ausgef\u00fchrt. Beachten Sie au\u00dferdem, dass bei der Funktionsdefinition von removeFunc() das ausgel\u00f6ste Event event als Parameter \u00fcbergeben wird. Dies passiert automatisch (also immer). Wenn wir den Parameter benennen, dann k\u00f6nnen wir auf dieses Ereignis zugreifen. Das machen wir auch, n\u00e4mlich in Zeile 24 , wo wir das target des Events abfragen, also das das Ereignis ausl\u00f6sende Element (unser jeweiliges <img> ). Die console.log() -Aufrufe sind jeweils nur zum Debuggen bzw. Inspizieren. Es gibt zwei JavaScript-Funktionen zum L\u00f6schen eines Elementes: parent.removeChild(child) - das Elternelement parent ruft die Funktion auf und l\u00f6scht das \u00fcbergebene Kind child node.remove() - ein Knoten (Element) ruft f\u00fcr sich selbst die remove() -Funktion auf und l\u00f6scht sich also selbst Wir haben im obigen Abschnitt die erste Variante gew\u00e4hlt, um zu zeigen, wie der Elternknoten ermittelt werden kann. Man h\u00e4tte aber auch auf Zeile 26 verzeichten und in Zeile 28 einfach obj.remove() schreiben k\u00f6nnen. Beispiel vollst\u00e4ndig mit JavaScript erzeugt \u00b6 Das soeben gezeigte Beispiel soll nun exemplarisch vollst\u00e4ndig durch JavaScript erzeugt werden. Wir verwenden genau ein Event-Attribut, n\u00e4mlich onload , das wir dem body zuweisen. Das load -Event wird aufgerufen, sobald die Seite vollst\u00e4ndig geladen ist. Ist die (leere) Seite vollst\u00e4ndig geladen, wird die Funktion createAllElements() aufgerufen: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > Clone </ title > </ head > < body > < script > function cloneFunc ( event ) { let obj = event . target ; let imgClone = obj . cloneNode ( true ); let divNode = obj . nextElementSibling ; divNode . addEventListener ( \"click\" , removeFunc ); console . log ( divNode ); // inspizieren Sie die Konsole in den DevTools divNode . appendChild ( imgClone ); } function removeFunc ( event ) { let obj = event . target ; console . log ( obj ); let parent = obj . parentElement ; console . log ( parent ); parent . removeChild ( obj ); } function createAllElements () { let imgNode = document . createElement ( 'img' ); imgNode . src = \"./images/fiw.jpg\" ; imgNode . classList . add ( \"rounded\" , \"mx-auto\" , \"d-block\" ); imgNode . style . width = \"150px\" ; imgNode . alt = \"fiw\" ; imgNode . addEventListener ( \"dblclick\" , cloneFunc ); let divNode = document . createElement ( 'div' ); divNode . id = \"div1\" ; let scriptNode = document . getElementsByTagName ( 'script' )[ 0 ]; document . body . insertBefore ( imgNode , scriptNode ); document . body . insertBefore ( divNode , scriptNode ); } </ script > </ body > </ html > Hervorgehoben sind wieder die Zeilen, in dennen sich etwas ge\u00e4ndert hat. Zeile 10 : Der <body> enth\u00e4lt nun nur noch ein <script> -Element. Ansonsten keine weiteren HTML-Elemente. Zeile 12 : Der Funktion cloneFunc() kann nun nicht mehr das img -Objekt selbst \u00fcbergeben werden (da wir in addEventListener() nur die Referenz auf die Funktion \u00fcbergeben). Deswegen verwenden wir auch hier wieder das automatisch \u00fcbergebene event und ermitteln das target des ausgel\u00f6sten Ereignisses (Zeile 14 ). Zeilen 31-46 : Die Funktion createAllElements() erzeugt zun\u00e4chst ein img -Knoten mit allen erforderlichen Attributen. Au\u00dferdem wird dieser Knoten auch noch an das dblclick -Ereignis angemeldet und die Referenz auf die Funktion cloneFunc als Event-Handler \u00fcbergeben. In Zeile 44 wird dieser img -Knoten dem <body> hinzugef\u00fcgt, und zwar vor dem <script> -Element. Au\u00dferdem wird noch unser <div> mit der id=\"div1\" erzeugt und ebenfalls vor dem <script> -Element (und hinter das <img> -Element) eingef\u00fcgt. Es entsteht die exakt gleiche Webseite wie in dem Beispiel davor (siehe Beispiel aus addEventListener ). JavaScript - Sprachelemente \u00b6 var , let und const \u00b6 Mithilfe der Schl\u00fcsselw\u00f6rter var , let und const k\u00f6nnen in JavaScript Variablen deklariert werden. Wenn Sie eine Variable mit var deklarieren, dann ist diese Variable innerhalb der gesamten Funktion, in der Sie die Variable deklarieren, g\u00fcltig. Dagegen hat let nur eine Blockg\u00fcltigkeit , d.h. eine mit let deklarierte Variable ist nur in dem Anweisungsblock g\u00fcltig, in dem sie deklariert wurde. Eine mit let deklarierte Variable verh\u00e4lt sich also wie eine in Java deklarierte Variable. const wird zur Deklaration von Konstanten verwendet. Es ist zu bachten: Falls es sich bei der mit const deklarierten Konstante um eine Referenzvariable handelt (also auf ein Objekt oder Array zeigt), dann kann diese Variable ihre Referenz zwar nicht mehr \u00e4ndern, das jeweilige Objekt, auf das die Variable (konstant) zeigt, kann sich aber schon \u00e4ndern. Globale Variablen, also Variablen, die von allen Funktionen geteilt werden (in allen Funktionen genutzt werden k\u00f6nnen), werden au\u00dferhalb der Funktionen deklariert. Man sollte nur sehr selten globale Variablen einsetzen, da sie in allen anderen Funktionen (auch externen) \u00fcberschrieben werden k\u00f6nnen. Bl\u00f6derweise ist eine Variable auch dann global, wenn sie ohne eines der genannten Schl\u00fcsselw\u00f6rter ( var , let und const ) innerhalb einer Funktion \"deklariert\" wurde. Das geschieht meistens durch eine Wertzuweisung in der Annahme, dass die Variable bereits deklariert wurde. Eine solche unbeabsichtigte Erstellung einer globalen Variable sollte vermieden werden - die absichtliche erst recht. Wenn globale Variable, dann die Deklaration au\u00dferhalb aller Funktionen. Objekte \u00b6 Objekte in JavaScript werden in JavaScript Object Notation beschrieben. Wir werden darauf noch genauer eingehen , zeigen hier aber schonmal ein einfaches Beispiel zur Einf\u00fchrung: let person = { vorname : \"Maria\" , nachname : \"Musterfrau\" }; Es wurde eine person definiert mit 2 Feldern vorname und nachname und diesen Feldern wurden Werte zugewiesen. Der Zugriff auf die Felder erfolgt mittels Punkt-Notation, also person.vorname und person.nachname . Sie k\u00f6nnen die Werte auch einfach \u00fcberschreiben, z.B. person.nachname = \"Schmidt\" . Sie k\u00f6nnen das Objekt auch um weitere Eigenschaften erweitern, z.B. person.alter = 42 . Neben der \u00fcblichen Punktnotation ist auch zu erw\u00e4hnen, dass die Eigenschaften auch Schl\u00fcssel eines assoziativen Arrays sind, d.h. Sie k\u00f6nnen auf die Werte auch wie folgt zugreifen: person [ \"vorname\" ] // Maria person [ \"nachname\" ] // Schmidt person [ \"alter\" ] // 42 Mithilfe von delete k\u00f6nnen Eigenschaften gel\u00f6scht werden, z.B. delete person.alter; . Ab dann ist person.alter undefined . Objekteigenschaften k\u00f6nnen auch Funktionen sein, z.B. person . name = function (){ return this . vorname + \" \" + this . nachname }; Der Aufruf erfolgt dann \u00fcber person.name(); Arrays \u00b6 Arrays in JavaScript werden fast genauso behandelt wie in Java. Hier ein Beispiel: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Arrays </ title > </ head > < body > < h2 > JavaScript Arrays </ h2 > < p id = \"demo\" ></ p > < script > let sgs = [ \"FIW\" , \"AI\" , \"IMI\" , \"WI\" ]; let lange = sgs . length ; text = \"<ul>\" ; for ( let i = 0 ; i < sgs . length ; i ++ ) { text += \"<li>\" + sgs [ i ] + \"</li>\" ; } text += \"</ul>\" ; document . getElementById ( \"demo\" ). innerHTML = text ; </ script > </ body > </ html > In Zeile 12 wird das Array sgs (soll Studieng\u00e4nge hei\u00dfen - immer sprechende Namen verwenden ;-) definiert. Es enth\u00e4lt lauter Strings. In JavaScript k\u00f6nnen die Elemente eines Arrays von verschiedenen Typen sein. In Zeile 16 definieren wir die for -Schleife, mit der wir durch das Array laufen (ist genau so numerisch indiziert, wie wir das von Java kennen). Wir greifen \u00fcber die Index-Schreibweise sgs[i] auf alle Elemente des Arrays zu (Zeile 17 ). Das Array kann auch aus Objekten bestehen. Angenommen, das Array sieht so aus: var staedte = [ { \"jahr\" : 1237 , \"stadt\" : \"Berlin\" , \"link\" : \"http://de.wikipedia.org/wiki/Berlin\" , \"bild\" : \"images/berlin.png\" }, { \"jahr\" : 1624 , \"stadt\" : \"New York\" , \"link\" : \"http://de.wikipedia.org/wiki/New_York_City\" , \"bild\" : \"images/newyork.png\" }, { \"jahr\" : 1252 , \"stadt\" : \"Stockholm\" , \"link\" : \"http://de.wikipedia.org/wiki/Stockholm\" , \"bild\" : \"images/stockholm.png\" }, { \"jahr\" : 852 , \"stadt\" : \"Madrid\" , \"link\" : \"http://de.wikipedia.org/wiki/Madrid\" , \"bild\" : \"images/madrid.png\" }, { \"jahr\" : 1827 , \"stadt\" : \"Bremerhaven\" , \"link\" : \"http://de.wikipedia.org/wiki/Bremerhaven\" , \"bild\" : \"images/bremerhaven.png\" }, { \"jahr\" : 150 , \"stadt\" : \"Bremen\" , \"link\" : \"http://de.wikipedia.org/wiki/Bremen\" , \"bild\" : \"images/bremen.png\" }, { \"jahr\" : 1202 , \"stadt\" : \"Bernau\" , \"link\" : \"http://de.wikipedia.org/wiki/Bernau_bei_Berlin\" , \"bild\" : \"images/bernau.png\" }, { \"jahr\" : 929 , \"stadt\" : \"Brandenburg\" , \"link\" : \"http://de.wikipedia.org/wiki/Brandenburg_an_der_Havel\" , \"bild\" : \"images/brandenburg.png\" }, { \"jahr\" : 805 , \"stadt\" : \"Magdeburg\" , \"link\" : \"http://de.wikipedia.org/wiki/Magdeburg\" , \"bild\" : \"images/magdeburg.png\" }, { \"jahr\" : 1222 , \"stadt\" : \"Marburg\" , \"link\" : \"http://de.wikipedia.org/wiki/Marburg\" , \"bild\" : \"images/marburg.png\" }, { \"jahr\" : 766 , \"stadt\" : \"Mannheim\" , \"link\" : \"http://de.wikipedia.org/wiki/Mannheim\" , \"bild\" : \"images/mannheim.png\" }, { \"jahr\" : 782 , \"stadt\" : \"Mainz\" , \"link\" : \"http://de.wikipedia.org/wiki/Mainz\" , \"bild\" : \"images/mainz.png\" } ]; Dann sind die Elemente des Arrays numerisch indiziert. JavaScript ist dynamisch typisiert \u00b6 Im Gegensatz zu z.B. Java ist JavaScript nicht statisch, sondern dynamisch typisiert. Der Wert einer Variablen bestimmt deren Typ. Beispiel: var number = 16 ; // number var name = \"Johnson\" ; // string var cars = [ \"Saab\" , \"Volvo\" , \"BMW\" ]; // object (Array) var obj = { firstName : \"John\" , lastName : \"Doe\" }; // object var func = new Function (); // function var correct = true ; // boolean var x ; // now x is undefined var x = 5 ; // now x is a Number var x = \"John\" ; // now x is a String typeof kann verwendet werden, ob zu \u00fcberpr\u00fcfen, ob eine Variable \u00fcberhaupt definiert ist und/oder von welchem Typ sie ist. Es liefert folgende Resultate: undefined boolean function number object string symbol Beispiel: < div id = \"myDiv\" ></ div > < script > var x ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // undefined x = \"12\" ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // string x = 12 ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // number x = 12.12 ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // number x = true ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // boolean x = function (){ alert ( \"Funktion\" );}; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // function x = new Function ( \"alert('Funktion')\" ); document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // function x = new Object (); document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // object </ script > Funktionen \u00b6 Die Definition von Funktionen in JavaScript erfolgt \u00fcber das Schl\u00fcsselwort function . Wir haben oben bereits mehrere Beispiele f\u00fcr Funktionen gezeigt. Hier ein weiteres: < p id = \"demo\" ></ p > < script > function myFunction ( a , b ) { return a * b ; } document . getElementById ( \"demo\" ). innerHTML = myFunction ( 4 , 3 ); </ script > Es wird eine Funktion myFunction() definiert, der 2 Parameter a und b \u00fcbergeben werden. Die Funktion berechnet das Produkt aus a und b und gibt dieses mithilfe von return zur\u00fcck. Der zur\u00fcckgegebene Wert wird als Inhalt des Absatzes <p> mit der id=\"demo\" verwendet. myFunction(4, 3); ist der Aufruf der Funktion. Au\u00dferdem k\u00f6nnen Funktionen als anonyme Funktionen deklariert werden. Es ist m\u00f6glich, dass eine Variable auf eine (anonyme) Funktion zeigt. Diese Variable kann dann wie die Funktion selbst verwendet werden. Beispiel: var x = function ( a , b ) { return a * b }; Die Funktion kann nun \u00fcber z.B. x(4,3); aufgerufen werden. Eine weitere (aber selten verwendete) M\u00f6glichkeit, eine Funktion zu definieren, ist die Verwendung des Function() -Konstruktors. Beispiel: var myFunction = new Function ( \"a\" , \"b\" , \"return a * b\" ); Diese Funktion kann dann (wie oben mit x ) mit myFunction(4,3); aufgerufen werden. Aber, wie gesagt, das ist eher un\u00fcblich, denn es ist \u00e4quivalent zu: var myFunction = function ( a , b ) { return a * b }; mit dem Aufruf myFunction(4,3); . Die Verwendung des Function() -Konstruktors zeigt aber, dass jede Funktion vom Typ function ist. In JavaScript gibt es also einen Typ function . W\u00fcrde man f\u00fcr das Beispiel mit x z.B. typeof(x) aufrufen, ist das Resultat function . Variable Anzahl von Parametern \u00b6 Die Anzahl der Parameter kann, muss aber nicht in der Funktionsdefinition angegeben werden. Es geht immer (auch wenn eine feste Anzahl von Parametern angegeben wurde): function summe () { var i , sum = 0 ; for ( i = 0 ; i < arguments . length ; i ++ ) { sum += arguments [ i ]; } return sum ; } Diese Funktion kann jetzt mit beliebig vielen Parametern aufgerufen werden: summe ( 1 , 2 , 3 , 4 , 5 , 6 ); summe ( 1 , 2 , 3 ); Arrow-Funktionen \u00b6 Arrow-Funktionen werden auch als Lambda-Ausdr\u00fccke bezeichnet. Eine Arrow-Funktion ist eine Kurzschreibweise f\u00fcr eine anonyme Funktion. Anstelle von function() schreibt man nur noch einen Pfeil. Enth\u00e4lt die anonyme Funktion sogar nur ein Argument (Parameter), kann man links vom Pfeil sogar die runden Klammern weglassen. Auch die geschweiften Klammern des Funktionsk\u00f6rpers k\u00f6nnen entfallen. Wenn die geschweiften Klammwern weggelassen werden, dann entspricht die rechte Seite des Pfeils dem R\u00fcckgabewert der Funktion, d.h. es kann sogar return weggelassen werden. Folgende Funktionsdefinitionen sind \u00e4quivalent: function ( foo ) = { return foo + 1 ;} ( foo ) => { return foo + 1 ;} foo => { return foo + 1 ;} foo => foo + 1 ; Callback-Funktionen \u00b6 Eine Callback -Funktion ist eine Funktion, die einer anderen Funktion als Parameter \u00fcbergeben wird. Callback-Funktionen sind z.B. hier erl\u00e4utert. Darin finden Sie auch das folgende einfache Beispiel einer Callback-Funktion: 1 2 3 4 5 6 7 8 9 10 function greeting ( name ) { alert ( 'Hello ' + name ); } function processUserInput ( callback ) { var name = prompt ( 'Please enter your name.' ); callback ( name ); } processUserInput ( greeting ); In den Zeilen 1-3 wird eine Funktion greeting() definiert, welche einen name erwartet. Diese Funktion gibt Hello zusammen mit dem Namen in einem Alarmfenster aus. Die Funktion greeting() wird als Callback -Funktion in der Funktion processUserInput() (Zeilen 5-8) verwendet. Das hei\u00dft, die Funktion greeting() wird der Funktion processUserInput() als Parameter \u00fcbergeben. Innerhalb der Funktion processUserInput() hei\u00dft die Referenz auf die Funktion greeting() callback . Der Parametername kann beliebig gew\u00e4hlt werden. Wir die Funktion processUserInput() aufgerufen (Zeile 10) und die Funktion greeting() als Parameter \u00fcbergeben, dann erscheint zun\u00e4chst ein Eingabefenster, in dem der Name eingeben wird und dieser Name wird der greeting() -Funktion als Parameter \u00fcbergeben. Es erscheint das Alarmfenster mit der Ausgabe Hello plus dem Namen. Der Funktion processUserInput() k\u00f6nnte auch jede andere Funktion als Callback-Funktion \u00fcbergeben werden. Promises \u00b6 Eine Promise ist das Ergebnis einer asynchronen Operation. Es gibt vier Status einer Promis (uns interessiert in der Regel nur resolved oder rejected ): Status Erkl\u00e4rung pending die Promise wartet noch auf die Beendigung der asynchronen Operation settled die asynchrone Operation wurde beendet resolved die asynchrone Operation wurde erfolgreich beendet rejected die asynchrone Operation ist fehlgeschlagen Um das Prinzip einer Promise zu erl\u00e4utern, schauen wir uns ein Beispiel aus Node.js \u2192 Eine Movie-Datenbank an: function getAll () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } Die Funktion getAll() gibt eine Promise zur\u00fcck. Diese wird mit dem Konstruktor erzeugt. Dem Konstruktor wird eine Callback-Funktion \u00fcbergeben. Hier ist diese Funktion die Anfrage an die Datenbank connection.query() . Diese Funktion ist asynchron, d.h. sie wird ausgef\u00fchrt, ohne dass andere Funktionsaufrufe stoppen m\u00fcssen. Man kann auch sagen, dass die Promise die asynchrone Funktion kapselt . Die asynchrone Funktion enth\u00e4lt ebenfalls eine Callback-Funktion. Hier wurden als Parameternamen der Callback-Funktion error und results gew\u00e4hlt. Der erste Parameter wirft einen Fehler, wenn die asynchrone Funktion fehlschl\u00e4gt, der zweite Parameter enth\u00e4lt die Daten bei Erfolg. Mit reject gibt man den Fehler zur\u00fcck (im Fehlerfall) und mit resolve die Daten (im Erfolgsfall). return new Promise() Wir merken uns also: die getAll() -Funktion gibt ein Promise -Objekt zur\u00fcck. Wie kann eine solche Promise nun verwendet werden? Dazu schauen wir uns erneut das Beispiel aus Node.js \u2192 Eine Movie-Datenbank an: function listAction ( request , response ) { model . getAll (). then ( movies => response . send ( view ( movies )), error => response . send ( error ), ); } Der entscheidende Punkt ist, dass ein Promise-Objekt eine then -Methode besitzt. Dieser then -Methode k\u00f6nnen wiederum zwei Callback-Funktionen \u00fcbergeben werden. Die erste Funktion wird durch die resolve -Funktion der Promise aufgerufen, die zweite Funktion, falls die Promise die reject -Funktion aufruft. Werden der resolve - und der reject -Funktion Argumente \u00fcbergeben (so wie oben resolve(results) und reject(error) ), dann k\u00f6nnen diese Argumente in der jeweiligen Callback-Funktion ausgewertet werden ( results \u2192 movies bzw. error \u2192 error ). Die then -Funktion selbst gibt \u00fcbrigens wieder ein Promise -Objekt zur\u00fcck. Somit k\u00f6nnen mehrere Promises verkettet werden.","title":"JavaScript"},{"location":"javascript/#javascript","text":"JavaScript wurde 1995 von Brendan Eich entwickelt. Er arbeitete damals bei Netscape und entwickelte mit dem damals sogenannten LiveScript eine Skriptsprache f\u00fcr den damaligen Netscape-Browser. Ein damaliger Browser \"verstand\" HTML und CSS. HTML sah f\u00fcr Nutzerinteraktionen nur das Klicken auf Hyperlinks vor. Andere Nutzerinteraktionen waren nicht vorgesehen. Mithilfe von JavaScript wurde eine Schnittstelle geschaffen, um durch Nutzerinteraktionen den HTML-Code zu manipulieren, ohne dass ein weiteres Nachladen vom Webserver notwendig wurde. Mit der Einf\u00fchrung von JavaScript wurden die F\u00e4higkeiten von Browsern erweiteret, indem nun nicht mehr nur HTML und CSS interpretiert wurde, sondern auch JavaScript - alles Client-seitig, also durch den Browser selbst. JavaScript ist eine sogenannte Skriptsprache , d.h. der Quellcode wird nicht compiliert und dann der \u00fcbersetzte Byte- oder Maschinencode ausgef\u00fchrt, sondern der Quellcode wird durch einen Interpreter interpretiert. Allerdings wird f\u00fcr Optimierungen JavaScript - insbesondere serverseitig in Node.js - durch sogenannte Engines doch in Maschinencode \u00fcbersetzt, welcher ausgef\u00fchrt wird. Die bekannteste dieser Engines ist die Google-Engine V8 . Die Technologie der Compilierung wird als Just-in-time-Kompilierung (JIT) bezeichnet. JavaScript kennt (im Gegensatz zu TypeScript) keine Klassen. Das Objektmodell von JavaScript basiert auf Prototypen . Eigenschaften und Methoden k\u00f6nnen zur Laufzeit den Objekten hinzugef\u00fcgt werden. Neben diesem dynamischen Objektmodell ist auch die Typisierung in JavaScript dynamisch. Der Typ einer Variable h\u00e4ngt vom Wert ab. Mit dem Wert kann sich auch der Typ der Variable \u00e4ndern. Client-seitig haben HTML, CSS und JavaScript folgende Bedeutung (und wir sollten auch auf eine solche strikte Trennung achten): HTML f\u00fcr die Inhalte, CSS f\u00fcr das Layout, JavaScript f\u00fcr das interaktive Verhalten unserer Webseite.","title":"JavaScript"},{"location":"javascript/#javascript-in-unseren-webseiten","text":"Zun\u00e4chst \u00fcberlegen wir uns, wie wir das auch schon f\u00fcr CSS getan hatten, wo wir den JavaScript-Code in unseren Webseiten einf\u00fcgen k\u00f6nnen. Prinzipiell wird JavaScript-Code in einem HTML-Dokument innerhalb eines <script></script> -Elementes eingef\u00fcgt. Im Gegensatz zu CSS (wo wir die Definitionen innerhalb des <style></style> -Elementes angegeben haben, welches immer im <head> positioniert wird), ist es egal, ob das <script> -Element im <head> oder <body> angelegt wird. Sie k\u00f6nnen innerhalb eines HTML-Dokumentes auch mehrere <script> -Elemente haben und Sie k\u00f6nnen dann auch sowohl im <head> als auch im <body> positioniert sein. Wie bei CSS, ist es auch f\u00fcr JavaScript \u00fcblich, den Code in externe (. js )-Dateien auszulagern und diese dann in das HTML-Dokument einzubinden. Dies geschieht aber nicht \u00fcber ein <link> -Element, sondern ebenfalls \u00fcber das <script> -Element. Das folgende Beispiel zeigt die Verwendung des <script> -Eelementes zum Einbinden von JavaScript: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > DOM </ title > < script > function myFunction1 () { document . getElementById ( \"demo1\" ). innerHTML = \"Hallo FIW!\" ; } </ script > </ head > < body > < script src = \"myScript.js\" ></ script > < h1 > \u00dcberschrift </ h1 > < button type = \"button\" onclick = \"myFunction1()\" > Klick mich </ button > < div id = \"demo1\" ></ div > < input id = \"input1\" type = \"text\" placeholder = \"Gibt etwas ein\" onkeyup = \"myFunction2()\" /> < div id = \"demo2\" ></ div > < script > function myFunction2 () { document . getElementById ( \"demo2\" ). innerHTML = document . getElementById ( \"input1\" ). value ; } </ script > </ body > </ html > Ein gutes Vorgehen ist es, JavaScript am Ende des <body> -Elementes einzubinden, damit die Seite zun\u00e4chst dargestellt wird und erst dann der JavaScript-Code geladen wird. Das laden des JavaScript-Codes w\u00fcrde ansonsten die Darstellung der Webseite verz\u00f6gern.","title":"JavaScript in unseren Webseiten"},{"location":"javascript/#document-object-model-dom","text":"Wir betrachten JavaScript zun\u00e4chst nur aus client-seitiger Sicht, d.h. f\u00fcr die Verwendung im Browser. Der Browser stellt HTML dar, welches durch CSS in ein ansprechendes Layout gestzt wurde. Es stellt sich die Frage, inwieweit JavaScript \u00fcberhaupt noch eine Erweiterung dieses Konzeptes darstellen kann. Die Antwort liegt darin, dass ohne JavaScript eine Webseite im Browser v\u00f6llig statisch ist, d.h. es gibt nur eine M\u00f6glichkeit, neue Inhalte zu laden oder \u00fcberhaupt etwas an der Webseite zu \u00e4ndern und das ist, diese neuen Inhalte oder \u00c4nderungen von einem Webserver zu laden. Jede Nutzerinteraktion f\u00fchrt so immer zu einem Request-Response-Prozess mit einem Webserver. Das wird durch JavaScript ge\u00e4ndert. Auf Nutzerinteraktionen kann durch JavaScript lokal, d.h. auf dem Client bleibend, reagiert werden. Die Schnittstelle zwischen JavaScript und HTML/CSS ist das sogenannte Document Objekct Model (DOM) . Das DOM stellt ein Interface (eine Schnittstelle) dar, um HTML-Dokumente \"manipulieren\" zu k\u00f6nnen. Damit ist haupts\u00e4chlich gemeint, dass HTML-Elemente eines HTML-Dokumentes ge\u00e4ndert, hinzugef\u00fcgt und gel\u00f6scht werden k\u00f6nnen. Zum \u00c4ndern der HTML-Elemente z\u00e4hlen das \u00c4ndern des Inhalts der Elemente und das \u00c4ndern von Attributen und deren Werten. Die Idee ist, dass ein HTML-Dokument als ein Baum aufgefasst wird, dessen hierarchische Beziehungen durch das HTML-Dokument (und dessen hierarchischer Struktur) vorgegeben werden und in dem alle HTML-Elemente, alle Attribute und alle Inhalte als Objekte angesehen werden. Wir schauen uns dazu ein einfaches Beispiel an: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > DOM </ title > </ head > < body > < div class = \"container\" > < h1 > \u00dcberschrift </ h1 > < ul > < li > < a href = \"http://www.htw-berlin.de\" > HTW Berlin </ a > < a href = \"http://fiw.htw-berlin.de\" > FIW </ a > </ li > </ ul > </ div > </ body > </ html > Ein HTML-Dokument besteht aus HTML-Elementen, welche Attribute haben k\u00f6nnen und Inhalte. Im obigen Beispiel hat z.B. das <meta> -Element im <head> ein Attribut, n\u00e4mlich charset . Der Wert dieses Attributes ist ein Text, n\u00e4mlich UTF-8 . Der Inhalt eines <a> -Elementes ist auch ein Text. Im obigen Beispiel haben wir zwei <a> -Elemente. Das eine hat den Inhalt (Text) HTW Berlin und das andere FIW . Wir k\u00f6nnen somit zwischen drei Arten von \"Objekten\" in einem HTML-Dokument unterscheiden: Elemente Attribute Texte Wenn wir diese Artefakte tats\u00e4chlich als Objekte auffassen und au\u00dferdem die hierarchische Beziehung zwischen diesen Objekten ber\u00fccksichtigen, dann l\u00e4sst sich ein Baum aufspannen, der aus solchen Objekten besteht. F\u00fcr obiges Beispiel sieht der Baum dann so aus: Wir interpretieren die Objekte also als Knoten ( Node ) eines Baumes. Einen solchen Baum, der ein HTML-Dokument eindeutig repr\u00e4sentiert, nennen wir Document Object Model (DOM) (auch HTML-DOM ). Ein solcher DOM ist der Ausgangspunkt f\u00fcr die Manipulation des HTML-Dokumentes, denn JavaScript ist in der Lage, jeden beliebigen Knoten innerhalb dieses Baumes anzusprechen und bspw. zu \u00e4ndern oder zu l\u00f6schen. Au\u00dferdem kann auch jede beliebige Position eindeutig bestimmt werden, um z.B. ein Element hinzuzuf\u00fcgen. Wir schauen uns im Folgenden an, welche Funktionen JavaScript zur Verf\u00fcgung stehen, um Positionen in diesem Baum eindeutig zu lokalisieren.","title":"Document Object Model (DOM)"},{"location":"javascript/#dom-funktionen-lokalisation-von-elementen","text":"Ausgangspunkt (die Wurzel) eines jeden HTML-DOM ist document (siehe obige Abbildung). Von document aus k\u00f6nnen wir uns beliebig durch den Baum bewegen. Die wohl meist verwendete Funktion zur Lokalisation eines Elementes im DOM ist getElementById() . In unserem obigen Beispiel haben wir nur ein Element mit einer id (einem id -Attribut) und das ist <ul> . Wir k\u00f6nnten gezielt nach diesem Element fragen: document . getElementById ( 'ul1' ) und erhalten als R\u00fcckgabe das Element mit der id=\"ul1\" , also das <ul> -Element (welches wir z.B. in einer Variable speichern k\u00f6nnten). Weitere Funktionen zur Lokalisation von Elementen sind document . getElementsByTagName ( name ) document . getElementsByClassName ( name ) Beide Funktionen liefern uns jeweils ein Array von Elementen zur\u00fcck. Die Funktion document.getElementsByTagName(name) gibt ein Array von Elementen aus dem document zur\u00fcck, die den Tag name haben, also z.B. alle <p> -Elemente, wenn document.getElementsByTagName('p') aufgerufen wird. Die Funktion document.getElementsByClassName(name) gibt ein Array von Elementen aus dem document zur\u00fcck, die der Klasse name zugeordnet sind, also z.B. alle Elemente mit der Klasse form-group , wenn document.getElementsByClassName('form-group') aufgerufen wird. Mit diesen Funktionen kann man Elemente mitten im DOM lokalisieren. Daneben gibt es noch weitere Funktionen, die jeweils von einem solchen Element ausgehend \"benachbarte\" Knoten lokalisieren. Betrachten wir z.B. diesen Ausschnitt aus einem HTML-Code: < main id = \"main\" > < h3 id = \"headline\" > DOM </ h3 > < img id = \"ball1\" src = \"ball.png\" /> < img id = \"ball2\" src = \"ball.png\" /> < img id = \"ball3\" src = \"ball.png\" /> < img id = \"ball4\" src = \"ball.png\" /> </ main > Der dazugeh\u00f6rige DOM (vereinfacht) ist in der folgenden Abbildung dargestellt sowie die Funktionen, mit denen die umgebenden Elemente lokalisiert werden k\u00f6nnen: F\u00fcr die Funktionen getElementById() und getElementsByTagName() betrachten wir ein erstes einfaches Beispiel: In dem obigen JSFiddle k\u00f6nnen Sie die Wirkungsweise ausprobieren. Wir zeigen hier aber nochmal den vollst\u00e4ndigen Code, damit Sie ihn sich kopieren und wir ihn besser erl\u00e4utern k\u00f6nnen: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > DOM </ title > < style > * { padding : 5 px ; margin : 5 px ; } </ style > </ head > < body > < h1 onmouseover = \"changeColor()\" > \u00dcberschrift </ h1 > < button type = \"button\" onclick = \"myFunction1()\" > Klick mich </ button > < div id = \"demo1\" ></ div > < input id = \"input1\" type = \"text\" placeholder = \"Gibt etwas ein\" onkeyup = \"myFunction2()\" /> < div id = \"demo2\" ></ div > < script > function myFunction1 () { document . getElementById ( \"demo1\" ). innerHTML = \"Hallo FIW!\" ; } function myFunction2 () { document . getElementById ( \"demo2\" ). innerHTML = document . getElementById ( \"input1\" ). value ; } function changeColor () { var h1arr = document . getElementsByTagName ( 'h1' ); h1arr [ 0 ]. style . color = \"red\" ; } </ script > </ body > </ html > Den <head> k\u00f6nnen wir ignorieren, auch das <style> -Element darin. Wichtig sind: wir haben 2 leere <div> -Elemente mit den Ids id=\"demo1\" und id=\"demo2\" (Zeilen 16 und 18 ) wir haben einen <button> mit dem Attribut onclick . Dieses Attribut bindet einen Ereignis-Listener an den Button. Wird das Click -Ereignis ausgel\u00f6st, wird die JavaScript-Funktion myFunction1() aufgerufen (Zeile 15 ) die JavaScript-Funktion myFunction1() ist im <script> -Element definiert (Zeilen 20-22 ). Diese Funktion lokalisiert das Element mit der id \"demo1\" und weist ihm einen neuen HTML-Inhalt zu, n\u00e4mlich \"Hallo FIW!\" wir haben au\u00dferdem ein einzeiliges Eingabefeld mit der Id id=\"input1\" (Zeile 17 ). Diesem Eingabefeld ist au\u00dferdem das Attribut onkeyup zugeordnet. Dieses Attribut meldet sich bei einem Ereignis an, das ausgel\u00f6st wird, wenn innerhalb des Eingabefeldes eine Taste wieder losgelassen wird - es wird dann das KeyUp -Ereignis ausgel\u00f6st. Durch das Ausl\u00f6sen dieses Ereignisses wird die JavaScript-Funktion myFunction2() aufgerufen. die JavaScript-Funktion myFunction2() ist im <script> -Element definiert (Zeilen 20-22 ). Diese Funktion lokalisiert das Element mit der id \"demo2\" und weist ihm einen neuen HTML-Inhalt zu, n\u00e4mlich den Wert ( value ), der in das Eingabefeld mit der id=\"input1\" eingegeben wurde (Zeilen 24-26 ) der \u00dcberschrift <h1> (Zeile 14 ) wurde das Attribut onmouseover zugeordnet. Damit wird das MouseOver -Ereignis abgefragt. Wird die Maus \u00fcber die \u00dcberschrift bewegt, wird dieses Ereignis ausgel\u00f6st und die Funktion changeColor() aufgerufen diese Funktion lokalisiert zun\u00e4chst alle Elemente mit dem Tag h1 und speichert sie in das Array h1arr (Zeile 29 ). Unsere \u00dcberschrift ist die erste (und einzige) \u00dcberschrift <h1> im Dokument. Wir greifen deshalb mit dem Index 0 auf dieses Element im h1arr -Array zu und \u00e4ndern die Schriftfarbe auf \"red\" (Zeile 30 ) Dieses erste Beispiel zeigt mehrere interssante Punkte: neben den Funktionen zur Lokalisation von Elemeneten gibt es auch Ereignisse, an die man sich anmelden und auf die reagiert werden kann und es gibt Funktionen, die den Inhalt und den Style von Elementen \u00e4ndern Wir schauen uns zun\u00e4chst Ereignisse an, auf die reagiert werden kann.","title":"DOM-Funktionen (Lokalisation von Elementen)"},{"location":"javascript/#html-ereignisse","text":"HTML-Ereignisse \"passieren\" f\u00fcr HTML-Elemente in den allermeisten F\u00e4llen durch Nutzerinteraktionen (Maustaste dr\u00fccken, Fenster vergr\u00f6\u00dfern, Tatstatureingabe etc.). Mit JavaScript k\u00f6nnen wir auf diese Ereignisse reagieren. Eine einfache Form, ein HTML-Element an ein solches Ereignis anzumelden (so dass darauf reagiert werden kann), ist \u00fcber Attribute. Angenommen ein solches Ereignis hei\u00dft Event , dann hei\u00dft das Attribut onEvent (es kann auch alles klein geschrieben werden). Die generelle Syntax ist wie folgt: < element onEvent = \"JavaScript-Code\" /> Der JavaScript-Code muss nicht zwingend der Aufruf einer JavaScript-Funktion, sondern kann auch eine direkte JavaScript-Anweisung sein. Hier eine Liste der \u00fcblichsten HTML-Ereignisse. Die Bedeutung ist aus den Namen selbsterkl\u00e4rend, deshalb werden die meisten Ereignisse hier nicht weiter beschrieben: Mausereignisse (MouseEvent): mousedown , mouseup , click , dblclick , mousemove , mouseover , mousewheel , mouseout , contextmenu Tastaturereignisse (KeyboardEvent): keydown , keypress , keyup Formularereignisse: focus , blur , change , input , submit Fensterereignisse: scroll , resize , hashchange , load , unload Wir zeigen einige Beispiele: In diesem Beispiel werden die Ereignisse focus , blur und input behandelt. Um das blur -Ereignis auszul\u00f6sen, muss das <input> -Element den Focus verlieren. In diesem Beispiel wird das change -Ereignis behandelt. Der Inhalt des Absatzes <p> mit der id=\"radio\" wird bei jedem change -Event erweitert. Es wird also nicht innerHTML v\u00f6llig neu gesetzt, sondern mithilfe von += wird der entsprechende String angeh\u00e4ngt. Das soll insbesondere zeigen, dass das change -Ereignisses wirklich nur ausgel\u00f6st wird, wenn der Wert wechselt. Beachten Sie auch, dass getElementsByName() verwendet wird. Den Radiobuttons wurde jeweils name=\"colors\" zugewiesen. Sie bilden damit auch eine Radiobutton-Group (es kann immer nur ein Radiobutton daraus ausgew\u00e4hlt werden). In diesem Beispiel werden das mouseover - und das mouseout -Event behandelt. Beachten Sie auch die \u00dcbergabe von this an die JavaScript-Funktionen. Damit wird das <div> -Element \u00fcbergeben. Wir m\u00fcssen es innerhalb der Funktionen deshalb nicht mehr explizit mit getElementById() oder \u00e4hnliches holen. In diesem Beispiel wird JavaScript nicht als Funktion, sondern direkt in den Ereignis-Attributen aufgerufen. Noch ein einfaches Beispiel mit den Ereignissen mousedown , mouseup , mouseenter und mouseleave . Noch ein letztes Beispiel, das wir nicht in JSFiddle zeigen, da es daraum geht, die Gr\u00f6\u00dfe des Browsers zu \u00e4ndern (Ereignis resize - die JavaScript-Funktion hei\u00dft auch resize() , aber dieser Name ist frei gew\u00e4hlt): <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Arrays </ title > </ head > < body onresize = \"resize()\" > < h2 > Gr\u00f6\u00dfe des Browserfensters \u00e4ndern! </ h2 > < p id = \"demo\" ></ p > < script > function resize () { var w = window . outerWidth ; var h = window . outerHeight ; var txt = \"Fenstergr\u00f6\u00dfe: Breite=\" + w + \", H\u00f6he=\" + h ; document . getElementById ( \"demo\" ). innerHTML = txt ; } </ script > </ body > </ html > Wir haben uns nun einige Beispiele angesehen, wie wir HTML-Elemente \u00e4ndern k\u00f6nnen. Prinzipiell geht es mit den Eigenschaften: node.innerHTML = - Inhalt eines Elements \u00e4ndern node.attribute = - Attribut eines Elements \u00e4ndern node.style. property = - Style/Formatierung \u00e4ndern node.classList.add() - CSS-Klassen zum Element hinzuf\u00fcgen node.classList.remove() - CSS-Klassen vom Element entfernen","title":"HTML-Ereignisse"},{"location":"javascript/#elemente-hinzufugen-und-loschen","text":"Nun wollen wir den DOM insofern manipulieren, als dass wir zun\u00e4chst Objekte hinzuf\u00fcgen. Die wichtigsten Funktionen daf\u00fcr sind: document.createElement('tag') - Element erzeugen document.createTextNode(\"text\") - Textelement erzeugen node.appendChild(childNode) - Element childNode dem Knoten node als direktes (letztes) Kind hinzuf\u00fcgen node.removeChild(childNode) - Kind childNode des Elementes node l\u00f6schen node.replaceChild(newNode, oldNode) - Kind oldNode des Knotens node durch newNode ersetzen node.insertBefore(newNode, oldNode) - Kind newNode des Knotens node vor das Kind oldNode des Knotens node einf\u00fcgen","title":"Elemente hinzuf\u00fcgen und l\u00f6schen"},{"location":"javascript/#create","text":"Wir betrachten wieder ein einfaches Beispiel: Im HTML-Code sehen wir ein <input> -Element und eine Liste <ul> , die bereits 2 Listitems <li> enth\u00e4lt. Dem <input> -Element wurde ein change -Listener hinzugef\u00fcgt. Sobald sich der Wert in dem <input> -Element ge\u00e4ndert hat, wird dieses Ereignis ausgel\u00f6st und die Funktion addItem() aufgerufen. Dieser Funktion wird das <input> -Element als Parameter \u00fcbergeben. In dieser Funktion wird zuerst ein Textknoten erzeugt ( let textNode = document.createTextNode(text); ) Der text ist der Wert value des <input> -Elementes. Au\u00dferdem wird ein <li> -Knoten (Objekt) erzeugt ( let liNode = document.createElement('li'); ). An diesen <li> -Knoten wird der Textknoten angeh\u00e4ngt ( liNode.appendChild(textNode); ). Danach wird an die <ul> -Liste der <li> -Knoten (mit dem Textknoten) angeh\u00e4ngt ( ulNode.appendChild(liNode); ). Das neue List-item erscheint sofort als letztes Kind in der Liste. Im folgenden Beispiel passiert das gleiche, nur wird das neu erzeugte List-Item nicht hinten an die Liste angeh\u00e4ngt, sondern vorne eingef\u00fcgt: Tats\u00e4chlich \u00e4ndert sich daf\u00fcr nur die letzte Anweisung in der Funktion. Aus ulNode.appendChild(liNode); wird ulNode.insertBefore(liNode, ulNode.childNodes[0]); . Mit ulNode.childNodes[0] greifen wir auf das erste Kind des ulNode zu. Das h\u00e4tten wir auch durch ulNode.firstChild haben k\u00f6nnen.","title":"Create"},{"location":"javascript/#clone","text":"Eine weitere M\u00f6glichkeit, ein Element zu erzeugen, ist durch clonen eines anderen Knotens (Elementes). Der Vorteil des Clonens besteht darin, dass ein gesamter Unterbaum eines Elementes mitkopiert werden kann. Die Syntax f\u00fcr das Clonen eines Knotens node ist nod.cloneNode(deep) . Wenn deep true ist, werden auch alle Kindelemente geklont, wenn false , dann nur das Element selbst. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > Clone </ title > </ head > < body > < img src = \"./images/fiw.jpg\" ondblclick = \"cloneFunc(this)\" class = \"rounded mx-auto d-block\" style = \"width: 150px;\" alt = \"fiw\" /> < div id = \"div1\" ></ div > < script > function cloneFunc ( obj ) { let imgClone = obj . cloneNode ( true ); let divNode = obj . nextElementSibling ; console . log ( divNode ); // inspizieren Sie die Konsole in den DevTools divNode . appendChild ( imgClone ); } </ script > </ body > </ html > Im obigen Beispiel verwenden wir Bootstrap und f\u00fcr das <img> -Element einige Bootstrap-Klassen (haupts\u00e4chlich, damit es in der Mitte ist). Wenn wir auf das Bild Doppelklicken ( dblclick ), wird die Funktion cloneFunc() aufgerufen, der wir das img -Objekt \u00fcbergeben. In der Funktion clonen wir das Bild (hier ist es egal, ob deep clone oder nicht, da das img -Element keine Kindknoten hat). Der Clone wird dem div -Element als Kind hinzugef\u00fcgt. Durch jeden Doppelklick auf das Bild wird ein weiterer Clone dem <div> -Element hinzugef\u00fcgt.","title":"Clone"},{"location":"javascript/#addeventlistener","text":"Eigentlich ist die Verwendung der Attribute onEvent nicht optimal, da die Trennung zwischen HTML und JavaScript nicht gro\u00df genug ist. Wir erinnern uns, wir wollen eine Trennung in die Zust\u00e4ndigkeiten: HTML f\u00fcr den Inhalt, CSS f\u00fcr das Layout und JavaScript f\u00fcr das Verhalten. Besser ist es, die Event-Listener ebenfalls durch JavaScript hinzuzuf\u00fcgen und nicht durch HTML-Attribute. Wir erweitern unser obiges Clone-Beispiel zun\u00e4chst wie folgt (hinzugekommener Code hervorgehoben): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > Clone </ title > </ head > < body > < img src = \"./images/fiw.jpg\" ondblclick = \"cloneFunc(this)\" class = \"rounded mx-auto d-block\" style = \"width: 150px;\" alt = \"fiw\" /> < div id = \"div1\" ></ div > < script > function cloneFunc ( obj ) { let imgClone = obj . cloneNode ( true ); let divNode = obj . nextElementSibling ; divNode . addEventListener ( \"click\" , removeFunc ); console . log ( divNode ); // inspizieren Sie die Konsole in den DevTools divNode . appendChild ( imgClone ); } function removeFunc ( event ) { let obj = event . target ; console . log ( obj ); let parent = obj . parentElement ; console . log ( parent ); parent . removeChild ( obj ); } </ script > </ body > </ html > In Zeile 17 melden wir unseren geklonten Knoten an den Event-Listener f\u00fcr das click -Ereignis an. Wird auf das Bild geklickt, dann wird die Funktion removeFunc() aufgerufen. Beachten Sie, dass der erste Parameter der addEventListener() -Funktion das Ereignis click ist (und nicht das HTML-Attribut onClick ) und dass der zweite Parameter die Referenz auf die Funktion removeFunc ist, nicht der Aufruf der Funktion. W\u00fcrden wir dort anstelle von removeFunc removeFunc() schreiben, entspr\u00e4che das dem Aufruf der Funktion und diese w\u00fcrde bei Aufruf der Funktion addEventListener() sofort ausgef\u00fchrt. Beachten Sie au\u00dferdem, dass bei der Funktionsdefinition von removeFunc() das ausgel\u00f6ste Event event als Parameter \u00fcbergeben wird. Dies passiert automatisch (also immer). Wenn wir den Parameter benennen, dann k\u00f6nnen wir auf dieses Ereignis zugreifen. Das machen wir auch, n\u00e4mlich in Zeile 24 , wo wir das target des Events abfragen, also das das Ereignis ausl\u00f6sende Element (unser jeweiliges <img> ). Die console.log() -Aufrufe sind jeweils nur zum Debuggen bzw. Inspizieren. Es gibt zwei JavaScript-Funktionen zum L\u00f6schen eines Elementes: parent.removeChild(child) - das Elternelement parent ruft die Funktion auf und l\u00f6scht das \u00fcbergebene Kind child node.remove() - ein Knoten (Element) ruft f\u00fcr sich selbst die remove() -Funktion auf und l\u00f6scht sich also selbst Wir haben im obigen Abschnitt die erste Variante gew\u00e4hlt, um zu zeigen, wie der Elternknoten ermittelt werden kann. Man h\u00e4tte aber auch auf Zeile 26 verzeichten und in Zeile 28 einfach obj.remove() schreiben k\u00f6nnen.","title":"addEventListener"},{"location":"javascript/#beispiel-vollstandig-mit-javascript-erzeugt","text":"Das soeben gezeigte Beispiel soll nun exemplarisch vollst\u00e4ndig durch JavaScript erzeugt werden. Wir verwenden genau ein Event-Attribut, n\u00e4mlich onload , das wir dem body zuweisen. Das load -Event wird aufgerufen, sobald die Seite vollst\u00e4ndig geladen ist. Ist die (leere) Seite vollst\u00e4ndig geladen, wird die Funktion createAllElements() aufgerufen: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > Clone </ title > </ head > < body > < script > function cloneFunc ( event ) { let obj = event . target ; let imgClone = obj . cloneNode ( true ); let divNode = obj . nextElementSibling ; divNode . addEventListener ( \"click\" , removeFunc ); console . log ( divNode ); // inspizieren Sie die Konsole in den DevTools divNode . appendChild ( imgClone ); } function removeFunc ( event ) { let obj = event . target ; console . log ( obj ); let parent = obj . parentElement ; console . log ( parent ); parent . removeChild ( obj ); } function createAllElements () { let imgNode = document . createElement ( 'img' ); imgNode . src = \"./images/fiw.jpg\" ; imgNode . classList . add ( \"rounded\" , \"mx-auto\" , \"d-block\" ); imgNode . style . width = \"150px\" ; imgNode . alt = \"fiw\" ; imgNode . addEventListener ( \"dblclick\" , cloneFunc ); let divNode = document . createElement ( 'div' ); divNode . id = \"div1\" ; let scriptNode = document . getElementsByTagName ( 'script' )[ 0 ]; document . body . insertBefore ( imgNode , scriptNode ); document . body . insertBefore ( divNode , scriptNode ); } </ script > </ body > </ html > Hervorgehoben sind wieder die Zeilen, in dennen sich etwas ge\u00e4ndert hat. Zeile 10 : Der <body> enth\u00e4lt nun nur noch ein <script> -Element. Ansonsten keine weiteren HTML-Elemente. Zeile 12 : Der Funktion cloneFunc() kann nun nicht mehr das img -Objekt selbst \u00fcbergeben werden (da wir in addEventListener() nur die Referenz auf die Funktion \u00fcbergeben). Deswegen verwenden wir auch hier wieder das automatisch \u00fcbergebene event und ermitteln das target des ausgel\u00f6sten Ereignisses (Zeile 14 ). Zeilen 31-46 : Die Funktion createAllElements() erzeugt zun\u00e4chst ein img -Knoten mit allen erforderlichen Attributen. Au\u00dferdem wird dieser Knoten auch noch an das dblclick -Ereignis angemeldet und die Referenz auf die Funktion cloneFunc als Event-Handler \u00fcbergeben. In Zeile 44 wird dieser img -Knoten dem <body> hinzugef\u00fcgt, und zwar vor dem <script> -Element. Au\u00dferdem wird noch unser <div> mit der id=\"div1\" erzeugt und ebenfalls vor dem <script> -Element (und hinter das <img> -Element) eingef\u00fcgt. Es entsteht die exakt gleiche Webseite wie in dem Beispiel davor (siehe Beispiel aus addEventListener ).","title":"Beispiel vollst\u00e4ndig mit JavaScript erzeugt"},{"location":"javascript/#javascript-sprachelemente","text":"","title":"JavaScript - Sprachelemente"},{"location":"javascript/#var-let-und-const","text":"Mithilfe der Schl\u00fcsselw\u00f6rter var , let und const k\u00f6nnen in JavaScript Variablen deklariert werden. Wenn Sie eine Variable mit var deklarieren, dann ist diese Variable innerhalb der gesamten Funktion, in der Sie die Variable deklarieren, g\u00fcltig. Dagegen hat let nur eine Blockg\u00fcltigkeit , d.h. eine mit let deklarierte Variable ist nur in dem Anweisungsblock g\u00fcltig, in dem sie deklariert wurde. Eine mit let deklarierte Variable verh\u00e4lt sich also wie eine in Java deklarierte Variable. const wird zur Deklaration von Konstanten verwendet. Es ist zu bachten: Falls es sich bei der mit const deklarierten Konstante um eine Referenzvariable handelt (also auf ein Objekt oder Array zeigt), dann kann diese Variable ihre Referenz zwar nicht mehr \u00e4ndern, das jeweilige Objekt, auf das die Variable (konstant) zeigt, kann sich aber schon \u00e4ndern. Globale Variablen, also Variablen, die von allen Funktionen geteilt werden (in allen Funktionen genutzt werden k\u00f6nnen), werden au\u00dferhalb der Funktionen deklariert. Man sollte nur sehr selten globale Variablen einsetzen, da sie in allen anderen Funktionen (auch externen) \u00fcberschrieben werden k\u00f6nnen. Bl\u00f6derweise ist eine Variable auch dann global, wenn sie ohne eines der genannten Schl\u00fcsselw\u00f6rter ( var , let und const ) innerhalb einer Funktion \"deklariert\" wurde. Das geschieht meistens durch eine Wertzuweisung in der Annahme, dass die Variable bereits deklariert wurde. Eine solche unbeabsichtigte Erstellung einer globalen Variable sollte vermieden werden - die absichtliche erst recht. Wenn globale Variable, dann die Deklaration au\u00dferhalb aller Funktionen.","title":"var, let und const"},{"location":"javascript/#objekte","text":"Objekte in JavaScript werden in JavaScript Object Notation beschrieben. Wir werden darauf noch genauer eingehen , zeigen hier aber schonmal ein einfaches Beispiel zur Einf\u00fchrung: let person = { vorname : \"Maria\" , nachname : \"Musterfrau\" }; Es wurde eine person definiert mit 2 Feldern vorname und nachname und diesen Feldern wurden Werte zugewiesen. Der Zugriff auf die Felder erfolgt mittels Punkt-Notation, also person.vorname und person.nachname . Sie k\u00f6nnen die Werte auch einfach \u00fcberschreiben, z.B. person.nachname = \"Schmidt\" . Sie k\u00f6nnen das Objekt auch um weitere Eigenschaften erweitern, z.B. person.alter = 42 . Neben der \u00fcblichen Punktnotation ist auch zu erw\u00e4hnen, dass die Eigenschaften auch Schl\u00fcssel eines assoziativen Arrays sind, d.h. Sie k\u00f6nnen auf die Werte auch wie folgt zugreifen: person [ \"vorname\" ] // Maria person [ \"nachname\" ] // Schmidt person [ \"alter\" ] // 42 Mithilfe von delete k\u00f6nnen Eigenschaften gel\u00f6scht werden, z.B. delete person.alter; . Ab dann ist person.alter undefined . Objekteigenschaften k\u00f6nnen auch Funktionen sein, z.B. person . name = function (){ return this . vorname + \" \" + this . nachname }; Der Aufruf erfolgt dann \u00fcber person.name();","title":"Objekte"},{"location":"javascript/#arrays","text":"Arrays in JavaScript werden fast genauso behandelt wie in Java. Hier ein Beispiel: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Arrays </ title > </ head > < body > < h2 > JavaScript Arrays </ h2 > < p id = \"demo\" ></ p > < script > let sgs = [ \"FIW\" , \"AI\" , \"IMI\" , \"WI\" ]; let lange = sgs . length ; text = \"<ul>\" ; for ( let i = 0 ; i < sgs . length ; i ++ ) { text += \"<li>\" + sgs [ i ] + \"</li>\" ; } text += \"</ul>\" ; document . getElementById ( \"demo\" ). innerHTML = text ; </ script > </ body > </ html > In Zeile 12 wird das Array sgs (soll Studieng\u00e4nge hei\u00dfen - immer sprechende Namen verwenden ;-) definiert. Es enth\u00e4lt lauter Strings. In JavaScript k\u00f6nnen die Elemente eines Arrays von verschiedenen Typen sein. In Zeile 16 definieren wir die for -Schleife, mit der wir durch das Array laufen (ist genau so numerisch indiziert, wie wir das von Java kennen). Wir greifen \u00fcber die Index-Schreibweise sgs[i] auf alle Elemente des Arrays zu (Zeile 17 ). Das Array kann auch aus Objekten bestehen. Angenommen, das Array sieht so aus: var staedte = [ { \"jahr\" : 1237 , \"stadt\" : \"Berlin\" , \"link\" : \"http://de.wikipedia.org/wiki/Berlin\" , \"bild\" : \"images/berlin.png\" }, { \"jahr\" : 1624 , \"stadt\" : \"New York\" , \"link\" : \"http://de.wikipedia.org/wiki/New_York_City\" , \"bild\" : \"images/newyork.png\" }, { \"jahr\" : 1252 , \"stadt\" : \"Stockholm\" , \"link\" : \"http://de.wikipedia.org/wiki/Stockholm\" , \"bild\" : \"images/stockholm.png\" }, { \"jahr\" : 852 , \"stadt\" : \"Madrid\" , \"link\" : \"http://de.wikipedia.org/wiki/Madrid\" , \"bild\" : \"images/madrid.png\" }, { \"jahr\" : 1827 , \"stadt\" : \"Bremerhaven\" , \"link\" : \"http://de.wikipedia.org/wiki/Bremerhaven\" , \"bild\" : \"images/bremerhaven.png\" }, { \"jahr\" : 150 , \"stadt\" : \"Bremen\" , \"link\" : \"http://de.wikipedia.org/wiki/Bremen\" , \"bild\" : \"images/bremen.png\" }, { \"jahr\" : 1202 , \"stadt\" : \"Bernau\" , \"link\" : \"http://de.wikipedia.org/wiki/Bernau_bei_Berlin\" , \"bild\" : \"images/bernau.png\" }, { \"jahr\" : 929 , \"stadt\" : \"Brandenburg\" , \"link\" : \"http://de.wikipedia.org/wiki/Brandenburg_an_der_Havel\" , \"bild\" : \"images/brandenburg.png\" }, { \"jahr\" : 805 , \"stadt\" : \"Magdeburg\" , \"link\" : \"http://de.wikipedia.org/wiki/Magdeburg\" , \"bild\" : \"images/magdeburg.png\" }, { \"jahr\" : 1222 , \"stadt\" : \"Marburg\" , \"link\" : \"http://de.wikipedia.org/wiki/Marburg\" , \"bild\" : \"images/marburg.png\" }, { \"jahr\" : 766 , \"stadt\" : \"Mannheim\" , \"link\" : \"http://de.wikipedia.org/wiki/Mannheim\" , \"bild\" : \"images/mannheim.png\" }, { \"jahr\" : 782 , \"stadt\" : \"Mainz\" , \"link\" : \"http://de.wikipedia.org/wiki/Mainz\" , \"bild\" : \"images/mainz.png\" } ]; Dann sind die Elemente des Arrays numerisch indiziert.","title":"Arrays"},{"location":"javascript/#javascript-ist-dynamisch-typisiert","text":"Im Gegensatz zu z.B. Java ist JavaScript nicht statisch, sondern dynamisch typisiert. Der Wert einer Variablen bestimmt deren Typ. Beispiel: var number = 16 ; // number var name = \"Johnson\" ; // string var cars = [ \"Saab\" , \"Volvo\" , \"BMW\" ]; // object (Array) var obj = { firstName : \"John\" , lastName : \"Doe\" }; // object var func = new Function (); // function var correct = true ; // boolean var x ; // now x is undefined var x = 5 ; // now x is a Number var x = \"John\" ; // now x is a String typeof kann verwendet werden, ob zu \u00fcberpr\u00fcfen, ob eine Variable \u00fcberhaupt definiert ist und/oder von welchem Typ sie ist. Es liefert folgende Resultate: undefined boolean function number object string symbol Beispiel: < div id = \"myDiv\" ></ div > < script > var x ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // undefined x = \"12\" ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // string x = 12 ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // number x = 12.12 ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // number x = true ; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // boolean x = function (){ alert ( \"Funktion\" );}; document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // function x = new Function ( \"alert('Funktion')\" ); document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // function x = new Object (); document . getElementById ( \"myDiv\" ). innerHTML += typeof ( x ) + \"<br/>\" ; // object </ script >","title":"JavaScript ist dynamisch typisiert"},{"location":"javascript/#funktionen","text":"Die Definition von Funktionen in JavaScript erfolgt \u00fcber das Schl\u00fcsselwort function . Wir haben oben bereits mehrere Beispiele f\u00fcr Funktionen gezeigt. Hier ein weiteres: < p id = \"demo\" ></ p > < script > function myFunction ( a , b ) { return a * b ; } document . getElementById ( \"demo\" ). innerHTML = myFunction ( 4 , 3 ); </ script > Es wird eine Funktion myFunction() definiert, der 2 Parameter a und b \u00fcbergeben werden. Die Funktion berechnet das Produkt aus a und b und gibt dieses mithilfe von return zur\u00fcck. Der zur\u00fcckgegebene Wert wird als Inhalt des Absatzes <p> mit der id=\"demo\" verwendet. myFunction(4, 3); ist der Aufruf der Funktion. Au\u00dferdem k\u00f6nnen Funktionen als anonyme Funktionen deklariert werden. Es ist m\u00f6glich, dass eine Variable auf eine (anonyme) Funktion zeigt. Diese Variable kann dann wie die Funktion selbst verwendet werden. Beispiel: var x = function ( a , b ) { return a * b }; Die Funktion kann nun \u00fcber z.B. x(4,3); aufgerufen werden. Eine weitere (aber selten verwendete) M\u00f6glichkeit, eine Funktion zu definieren, ist die Verwendung des Function() -Konstruktors. Beispiel: var myFunction = new Function ( \"a\" , \"b\" , \"return a * b\" ); Diese Funktion kann dann (wie oben mit x ) mit myFunction(4,3); aufgerufen werden. Aber, wie gesagt, das ist eher un\u00fcblich, denn es ist \u00e4quivalent zu: var myFunction = function ( a , b ) { return a * b }; mit dem Aufruf myFunction(4,3); . Die Verwendung des Function() -Konstruktors zeigt aber, dass jede Funktion vom Typ function ist. In JavaScript gibt es also einen Typ function . W\u00fcrde man f\u00fcr das Beispiel mit x z.B. typeof(x) aufrufen, ist das Resultat function .","title":"Funktionen"},{"location":"javascript/#variable-anzahl-von-parametern","text":"Die Anzahl der Parameter kann, muss aber nicht in der Funktionsdefinition angegeben werden. Es geht immer (auch wenn eine feste Anzahl von Parametern angegeben wurde): function summe () { var i , sum = 0 ; for ( i = 0 ; i < arguments . length ; i ++ ) { sum += arguments [ i ]; } return sum ; } Diese Funktion kann jetzt mit beliebig vielen Parametern aufgerufen werden: summe ( 1 , 2 , 3 , 4 , 5 , 6 ); summe ( 1 , 2 , 3 );","title":"Variable Anzahl von Parametern"},{"location":"javascript/#arrow-funktionen","text":"Arrow-Funktionen werden auch als Lambda-Ausdr\u00fccke bezeichnet. Eine Arrow-Funktion ist eine Kurzschreibweise f\u00fcr eine anonyme Funktion. Anstelle von function() schreibt man nur noch einen Pfeil. Enth\u00e4lt die anonyme Funktion sogar nur ein Argument (Parameter), kann man links vom Pfeil sogar die runden Klammern weglassen. Auch die geschweiften Klammern des Funktionsk\u00f6rpers k\u00f6nnen entfallen. Wenn die geschweiften Klammwern weggelassen werden, dann entspricht die rechte Seite des Pfeils dem R\u00fcckgabewert der Funktion, d.h. es kann sogar return weggelassen werden. Folgende Funktionsdefinitionen sind \u00e4quivalent: function ( foo ) = { return foo + 1 ;} ( foo ) => { return foo + 1 ;} foo => { return foo + 1 ;} foo => foo + 1 ;","title":"Arrow-Funktionen"},{"location":"javascript/#callback-funktionen","text":"Eine Callback -Funktion ist eine Funktion, die einer anderen Funktion als Parameter \u00fcbergeben wird. Callback-Funktionen sind z.B. hier erl\u00e4utert. Darin finden Sie auch das folgende einfache Beispiel einer Callback-Funktion: 1 2 3 4 5 6 7 8 9 10 function greeting ( name ) { alert ( 'Hello ' + name ); } function processUserInput ( callback ) { var name = prompt ( 'Please enter your name.' ); callback ( name ); } processUserInput ( greeting ); In den Zeilen 1-3 wird eine Funktion greeting() definiert, welche einen name erwartet. Diese Funktion gibt Hello zusammen mit dem Namen in einem Alarmfenster aus. Die Funktion greeting() wird als Callback -Funktion in der Funktion processUserInput() (Zeilen 5-8) verwendet. Das hei\u00dft, die Funktion greeting() wird der Funktion processUserInput() als Parameter \u00fcbergeben. Innerhalb der Funktion processUserInput() hei\u00dft die Referenz auf die Funktion greeting() callback . Der Parametername kann beliebig gew\u00e4hlt werden. Wir die Funktion processUserInput() aufgerufen (Zeile 10) und die Funktion greeting() als Parameter \u00fcbergeben, dann erscheint zun\u00e4chst ein Eingabefenster, in dem der Name eingeben wird und dieser Name wird der greeting() -Funktion als Parameter \u00fcbergeben. Es erscheint das Alarmfenster mit der Ausgabe Hello plus dem Namen. Der Funktion processUserInput() k\u00f6nnte auch jede andere Funktion als Callback-Funktion \u00fcbergeben werden.","title":"Callback-Funktionen"},{"location":"javascript/#promises","text":"Eine Promise ist das Ergebnis einer asynchronen Operation. Es gibt vier Status einer Promis (uns interessiert in der Regel nur resolved oder rejected ): Status Erkl\u00e4rung pending die Promise wartet noch auf die Beendigung der asynchronen Operation settled die asynchrone Operation wurde beendet resolved die asynchrone Operation wurde erfolgreich beendet rejected die asynchrone Operation ist fehlgeschlagen Um das Prinzip einer Promise zu erl\u00e4utern, schauen wir uns ein Beispiel aus Node.js \u2192 Eine Movie-Datenbank an: function getAll () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } Die Funktion getAll() gibt eine Promise zur\u00fcck. Diese wird mit dem Konstruktor erzeugt. Dem Konstruktor wird eine Callback-Funktion \u00fcbergeben. Hier ist diese Funktion die Anfrage an die Datenbank connection.query() . Diese Funktion ist asynchron, d.h. sie wird ausgef\u00fchrt, ohne dass andere Funktionsaufrufe stoppen m\u00fcssen. Man kann auch sagen, dass die Promise die asynchrone Funktion kapselt . Die asynchrone Funktion enth\u00e4lt ebenfalls eine Callback-Funktion. Hier wurden als Parameternamen der Callback-Funktion error und results gew\u00e4hlt. Der erste Parameter wirft einen Fehler, wenn die asynchrone Funktion fehlschl\u00e4gt, der zweite Parameter enth\u00e4lt die Daten bei Erfolg. Mit reject gibt man den Fehler zur\u00fcck (im Fehlerfall) und mit resolve die Daten (im Erfolgsfall). return new Promise() Wir merken uns also: die getAll() -Funktion gibt ein Promise -Objekt zur\u00fcck. Wie kann eine solche Promise nun verwendet werden? Dazu schauen wir uns erneut das Beispiel aus Node.js \u2192 Eine Movie-Datenbank an: function listAction ( request , response ) { model . getAll (). then ( movies => response . send ( view ( movies )), error => response . send ( error ), ); } Der entscheidende Punkt ist, dass ein Promise-Objekt eine then -Methode besitzt. Dieser then -Methode k\u00f6nnen wiederum zwei Callback-Funktionen \u00fcbergeben werden. Die erste Funktion wird durch die resolve -Funktion der Promise aufgerufen, die zweite Funktion, falls die Promise die reject -Funktion aufruft. Werden der resolve - und der reject -Funktion Argumente \u00fcbergeben (so wie oben resolve(results) und reject(error) ), dann k\u00f6nnen diese Argumente in der jeweiligen Callback-Funktion ausgewertet werden ( results \u2192 movies bzw. error \u2192 error ). Die then -Funktion selbst gibt \u00fcbrigens wieder ein Promise -Objekt zur\u00fcck. Somit k\u00f6nnen mehrere Promises verkettet werden.","title":"Promises"},{"location":"json/","text":"JavaScript Object Notation (JSON) \u00b6 Eine kurze Einf\u00fchrung zu Objekten in JavaScript haben wir bereits im JavaScript-Kapitel gegeben. Dort haben wir auch gesagt, dass wir auf die Notation solcher Objekte in JavaScript nochmal genauer eingehen wollen. Dies geschieht hier. JavaScript Object Notation (JSON) ist ein Datenaustauschformat, das einerseits einfach f\u00fcr Menschen zu lesen und zu schreiben ist und andererseits gut von Maschinen geparst (analysiert) und erzeugt werden kann. Ein Objekt in JSON beginnt mit einer geschweiften Klammer { und endet mit } . JSON besteht im wesentlichen aus Schl\u00fcssel-Werte-Paaren, die durch Komma getrennt sind. { \"schl\u00fcssel1\" : wert1, \"schl\u00fcssel2\" : wert2, } Die Schl\u00fcssel sind Strings in doppelten Hochkamma ( \"\" ), dann folgt ein Doppelpunkt : und dann folgt der Wert. Werte k\u00f6nnen Strings, Zahlen, Wahrheitswerte, Arrays, Funktionen und Objekte (und null ) sein. Hier ein Beispiel (erweitert aus ): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 { \"name\" : \"Georg\" , \"alter\" : 47 , \"verheiratet\" : false , \"beruf\" : null , \"kinder\" : [ { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } ], \"biografie\" : function() { return this.name + \" ist \" + this.alter + \" und hat \" + this.kinder.length + \" Kinder.\" ; }, } Der Wert zum Schl\u00fcssel \"name\" in Zeile 2 ist ein String ( string ). Der Wert zum Schl\u00fcssel \"alter\" in Zeile 3 ist eine Zahl ( number ). Der Wert zum Schl\u00fcssel \"verheiratet\" in Zeile 4 ist ein Wahrheitswert ( boolean ). Der Wert zum Schl\u00fcssel \"kinder\" in Zeilen 6-17 ist Array. Die Elemente in diesem Array sind selbst wieder Objekte in JavaScript Object Notation, bestehend aus jeweils drei Schl\u00fcssel-Werte-Paaren. Das \"kinder\" ist numerisch indiziert, d.h. wir k\u00f6nnen \u00fcber den Index 0 auf das erste Kind ( \"Lukas\" ) und \u00fcber den Index 1 auf das zweite Kind ( \"Lisa\" ) zugreifen Zugriff auf ein JSON \u00b6 Der Zugriff auf die Werte eines JSON erfolgt mittels Punktnotation \u00fcber den Schl\u00fcssel. Wir nehmen obiges Beispiel und speichern es in einer Variablen georg : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 let georg = { \"name\" : \"Georg\" , \"alter\" : 47 , \"verheiratet\" : false , \"beruf\" : null , \"kinder\" : [ { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } ], \"biografie\" : function () { return this . name + \" ist \" + this . alter + \" und hat \" + this . kinder . length + \" Kinder.\" ; }, }; Dann k\u00f6nnen wir auf die einzelnen Werte wie folgt zugreifen: georg . name // \"Georg\" georg . alter // 47 let kinder = georg . kinder ; // Array aus 2 Objekten kinder [ 0 ]. name // \"Lukas\" kinder [ 1 ]. name // \"Lisa\" georg . biografie () // \"Georg ist 47 und hat 2 Kinder.\" Man kann \u00fcbrigens auch anstelle der Punktnotation ein JSON wie ein assoziatives Array auffassen und z.B. anstelle von georg.name \u00fcber georg['name'] auf den Wert \"Georg\" zugreifen. Es w\u00e4re auch m\u00f6glich, das \"Kinder\"-Array in ein weiteres JSON umzuwandeln: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // anstelle von: \"kinder\" : [ { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } ], // ginge z.B. auch: \"kinder\" : { \"erstesKind\" : { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, \"zweitesKind\" : { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } }, Dann ist der Zugriff \u00fcber den Index (also z.B. georg.kinder[0] ) nicht mehr m\u00f6glich. Stattdessen aber: georg . kinder . erstesKind . name georg . kinder . zweitesKind . alter Viele Objekte im Array \u00b6 Wenn Sie viele \"gleiche\" Objekte speichern, dann in einem Array. Die folgende Datei zeigt viele Objekte in JSON, die in einem Array abgelegt sind: data/members.json { \"members\" : [ { \"forename\" : \"Catherine\" , \"surname\" : \"Williams\" , \"email\" : \"cwilliamsl@360.cn\" }, { \"forename\" : \"Adam\" , \"surname\" : \"Anderson\" , \"email\" : \"aanderson8@google.fr\" }, { \"forename\" : \"Susan\" , \"surname\" : \"Andrews\" , \"email\" : \"sandrewsn@google.co.jp\" }, { \"forename\" : \"Catherine\" , \"surname\" : \"Andrews\" , \"email\" : \"candrewsp@noaa.gov\" }, { \"forename\" : \"Alan\" , \"surname\" : \"Bradley\" , \"email\" : \"abradley1c@globo.com\" }, { \"forename\" : \"Anne\" , \"surname\" : \"Brooks\" , \"email\" : \"abrooks16@bravesites.com\" }, { \"forename\" : \"Russell\" , \"surname\" : \"Brown\" , \"email\" : \"rbrownq@nifty.com\" }, { \"forename\" : \"Ryan\" , \"surname\" : \"Burton\" , \"email\" : \"rburton18@foxnews.com\" }, { \"forename\" : \"Roy\" , \"surname\" : \"Campbell\" , \"email\" : \"rcampbell1@geocities.com\" }, { \"forename\" : \"Russell\" , \"surname\" : \"Campbell\" , \"email\" : \"rcampbell17@eventbrite.com\" }, { \"forename\" : \"Bonnie\" , \"surname\" : \"Coleman\" , \"email\" : \"bcoleman11@fc2.com\" }, { \"forename\" : \"Ernest\" , \"surname\" : \"Coleman\" , \"email\" : \"ecoleman15@businessweek.com\" }, { \"forename\" : \"Richard\" , \"surname\" : \"Cruz\" , \"email\" : \"rcruz7@unc.edu\" }, { \"forename\" : \"Sean\" , \"surname\" : \"Cruz\" , \"email\" : \"scruz10@answers.com\" }, { \"forename\" : \"Rebecca\" , \"surname\" : \"Cunningham\" , \"email\" : \"rcunninghamd@mac.com\" }, { \"forename\" : \"Margaret\" , \"surname\" : \"Evans\" , \"email\" : \"mevansh@pcworld.com\" }, { \"forename\" : \"Jeffrey\" , \"surname\" : \"Ford\" , \"email\" : \"jford14@cnet.com\" }, { \"forename\" : \"Andrea\" , \"surname\" : \"Gardner\" , \"email\" : \"agardnerv@woothemes.com\" }, { \"forename\" : \"Deborah\" , \"surname\" : \"George\" , \"email\" : \"dgeorge6@furl.net\" }, { \"forename\" : \"Sean\" , \"surname\" : \"Gibson\" , \"email\" : \"sgibsony@alexa.com\" }, { \"forename\" : \"Virginia\" , \"surname\" : \"Graham\" , \"email\" : \"vgrahamk@aol.com\" }, { \"forename\" : \"Steven\" , \"surname\" : \"Hamilton\" , \"email\" : \"shamiltonu@state.tx.us\" }, { \"forename\" : \"Virginia\" , \"surname\" : \"Hawkins\" , \"email\" : \"vhawkinsf@ehow.com\" }, { \"forename\" : \"Edward\" , \"surname\" : \"Hicks\" , \"email\" : \"ehicksc@pcworld.com\" }, { \"forename\" : \"Mark\" , \"surname\" : \"Johnson\" , \"email\" : \"mjohnsonj@hostgator.com\" }, { \"forename\" : \"Ruth\" , \"surname\" : \"Jordan\" , \"email\" : \"rjordan1a@smugmug.com\" }, { \"forename\" : \"Antonio\" , \"surname\" : \"Kim\" , \"email\" : \"akim4@odnoklassniki.ru\" }, { \"forename\" : \"Jennifer\" , \"surname\" : \"Marshall\" , \"email\" : \"jmarshallt@gnu.org\" }, { \"forename\" : \"Eric\" , \"surname\" : \"Matthews\" , \"email\" : \"ematthews5@independent.co.uk\" }, { \"forename\" : \"Raymond\" , \"surname\" : \"Mcdonald\" , \"email\" : \"rmcdonald2@ihg.com\" }, { \"forename\" : \"Eric\" , \"surname\" : \"Miller\" , \"email\" : \"emillere@creativecommons.org\" }, { \"forename\" : \"Jonathan\" , \"surname\" : \"Morales\" , \"email\" : \"jmoralesa@ovh.net\" }, { \"forename\" : \"Marie\" , \"surname\" : \"Morgan\" , \"email\" : \"mmorganb@cloudflare.com\" }, { \"forename\" : \"Amanda\" , \"surname\" : \"Nelson\" , \"email\" : \"anelson13@indiatimes.com\" }, { \"forename\" : \"Lisa\" , \"surname\" : \"Olson\" , \"email\" : \"lolsonr@telegraph.co.uk\" }, { \"forename\" : \"Alice\" , \"surname\" : \"Ortiz\" , \"email\" : \"aortizw@histats.com\" }, { \"forename\" : \"Peter\" , \"surname\" : \"Phillips\" , \"email\" : \"pphillipss@1688.com\" }, { \"forename\" : \"Matthew\" , \"surname\" : \"Porter\" , \"email\" : \"mporter9@europa.eu\" }, { \"forename\" : \"Tammy\" , \"surname\" : \"Ray\" , \"email\" : \"trayx@weather.com\" }, { \"forename\" : \"Mark\" , \"surname\" : \"Richardson\" , \"email\" : \"mrichardson1d@ihg.com\" }, { \"forename\" : \"Joan\" , \"surname\" : \"Roberts\" , \"email\" : \"jroberts12@alibaba.com\" }, { \"forename\" : \"Kathleen\" , \"surname\" : \"Rose\" , \"email\" : \"kroseg@pinterest.com\" }, { \"forename\" : \"Steve\" , \"surname\" : \"Sanders\" , \"email\" : \"ssanders1b@wikispaces.com\" }, { \"forename\" : \"Shirley\" , \"surname\" : \"Scott\" , \"email\" : \"sscottm@macromedia.com\" }, { \"forename\" : \"Lillian\" , \"surname\" : \"Stephens\" , \"email\" : \"lstephens19@hugedomains.com\" }, { \"forename\" : \"Nicole\" , \"surname\" : \"Thompson\" , \"email\" : \"nthompson3@admin.ch\" }, { \"forename\" : \"Marie\" , \"surname\" : \"Thompson\" , \"email\" : \"mthompsonz@yelp.com\" }, { \"forename\" : \"Alan\" , \"surname\" : \"Vasquez\" , \"email\" : \"avasquezo@miibeian.gov.cn\" }, { \"forename\" : \"Mildred\" , \"surname\" : \"Watkins\" , \"email\" : \"mwatkins0@miibeian.gov.cn\" }, { \"forename\" : \"Eugene\" , \"surname\" : \"Williams\" , \"email\" : \"ewilliamsi@deliciousdays.com\" } ] } Ein Array ist stets numerisch indiziert, d.h. Sie k\u00f6nnen unter Verwendung des Index die einzelnen Objekte auslesen. Wir hatten das oben bereits f\u00fcr das \"kinder\" -Array gezeigt, geben hier aber noch ein Beispiel an: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < link rel = \"stylesheet\" href = \"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" > < title > JSON + Array </ title > </ head > < body onload = \"loadJSON()\" > < main class = \"container m-5\" > < ul id = \"ul1\" class = \"list-group\" > </ ul > </ main > < script > var members_obj ; function loadJSON () { let xhttp = new XMLHttpRequest (); xhttp . onreadystatechange = function () { if ( this . readyState === 4 && this . status === 200 ) { members_obj = JSON . parse ( this . responseText ); console . log ( members_obj ); createList (); }}; xhttp . open ( \"GET\" , \"./data/members.json\" , true ); xhttp . send (); } function createList () { let members = members_obj . members ; console . log ( members_obj ); console . log ( members_obj . members ); let ul = document . getElementById ( 'ul1' ); for ( let i = 0 ; i < members . length ; i ++ ) { let li = document . createElement ( 'li' ); li . classList . add ( 'list-group-item' ); let a = document . createElement ( 'a' ); a . href = 'mailto:' + members [ i ]. email + '?subject=Webtech&body=Hallo%20FIW!' ; a . innerHTML = '<i class=\"fa fa-envelope\"> ' + 'to: ' + members [ i ]. forename + ' ' + members [ i ]. surname ; li . appendChild ( a ); ul . appendChild ( li ); } } </ script > </ body > </ html > Es entsteht eine Liste aus Hyperlinks, wobei jeder Hyperlink in der Form zusammengesetzt ist: mailto:email-adresse . Es sind sogar noch subject (also Betreff) und body (als Nachrichteninhalt) angeh\u00e4ngt, d.h. die Form ist mailto:email-adresse?subject=Webtech&body=Hallo%20FIW! . Beachten Sie, dass es sich dabei um eine URL handelt und diese deshalb URL encoded sein muss, d.h. dass z.B. Leerzeichen durch %20 ersetzt werden. Die Seite sieht dann so aus: Und wenn man auf einen Link klickt (z.B. Adam Anderson ), \u00f6ffnet sich das Mailprogramm: Ajax \u00b6 Ajax steht f\u00fcr Asynchronous JavaScript and XML . Es wird verwendet, um Daten vom Server zu laden oder an den Server zu senden, ohne die Seite neu zu laden. Ajax ist somit die Basis f\u00fcr eine Single Page Application . Obwohl XML im Namen von Ajax vorkommt, wird haupts\u00e4chlich JSON als Datenaustauschformat f\u00fcr das Senden und Empfangen von Daten zwischen Client und Server verwendet. Der Begriff asynchron beschreibt, dass der Austausch nicht die Webseite blockiert, d.h. dass weitere Nutzerinteraktionen m\u00f6glich sind w\u00e4hrend der Datenaustausch erfolgt. XMLHttpRequest \u00b6 Der Grundbaustein von Ajax ist ein XMLHttpRequest -Objekt. Ein solches Objekt stellt Methoden zur Verf\u00fcgung, um eine Webseite (per JavaScript) aktualisieren zu k\u00f6nnen, ohne sie neu zu laden, Daten vom Server anzufordern nachdem die Seite geladen ist, Daten zu einem Server im Hintergrund zu senden. Angenommen, folgende JSON-Datei liegt auf unserem Server ( DocumentRoot ist mein DocumentRoot-Ordner): DocumentRoot/Webtech20/georg.json { \"name\" : \"Georg\" , \"alter\" : 47 , \"verheiratet\" : false , \"beruf\" : null , \"kinder\" : { \"erstesKind\" : { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, \"zweitesKind\" : { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } } } Client-seitig besteht die Anfrage an einen Webeserver per XMLHttpRequest aus drei Schritten: XMLHttpRequest -Objekt erzeugen Anfrage (Request) an Server senden Antwort (Response) verarbeiten/ausgeben Wir schauen uns das an einem Beispiel an: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Ajax </ title > </ head > < body > < h2 > AJAX wird nachfolgend Daten aus einer JSON-Datei einf\u00fcgen </ h2 > < div id = \"div1\" ></ div > < button type = \"button\" onclick = \"loadJSON();\" > JSON lesen </ button > < script > function loadJSON () { let xhttp = new XMLHttpRequest (); xhttp . onreadystatechange = function () { if ( this . readyState === 4 && this . status === 200 ) { createFormular ( this ); }}; xhttp . open ( \"GET\" , \"http://localhost/Webtech20/georg.json\" , true ); xhttp . send (); } function createFormular ( json ) { let georg = JSON . parse ( json . responseText ); console . log ( georg ); console . log ( georg . name ); console . log ( georg . kinder . erstesKind . name ); } </ script > </ body > </ html > In Zeile 10 definieren wir uns einen Button, der an den EventListener f\u00fcr das click -Ereignis angemeldet ist. In der Ereignisbehandlung wird die Funktion loadJSON() aufgerufen. In Zeile 13 wird das XMLHttpRequest -Objekt erzeugt. Die Referenz darauf speichern wir in der Variablen xhttp . In Zeile 18 wird die Verbindung zum Webserver hergestellt und der Request konfiguriert. Die open() -Funktion des XMLHttpRequest -Objektes enth\u00e4lt drei Parameter: der erste Parameter beschreibt die http-Methode, mit der angefragt werden soll ( \"GET\" oder \"POST\" ) der zweite Parameter gibt die Zieladresse der angefragten Ressource auf dem Server an der dritte Parameter gibt die Art der Kommunikation an ( true : asynchron, `false: synchron) In Zeile 19 wird diese Anfrage (Request) gesendet In den Zeilen 14-17 wird f\u00fcr die onreadystatechange -Eigenschaft des XMLHttpRequest -Objektes eine Funktion definiert, die immer dann (automatisch) aufgerufen wird, wenn sich der readyState des XMLHttpRequest -Objektes \u00e4ndert. readyState kann folgende Werte annehmen: 0 ( UNSENT ): open() wurde noch nicht aufgerufen 1 ( OPENED ): send() wurde noch nicht aufgerufen 2 ( HEADERS_RECEIVED ): send() wurde aufgerufen und Headers sowie Status sind verf\u00fcgbar 3 ( LOADING ): Download ist im Gange; responseText enth\u00e4lt bereit sunvollst\u00e4ndige Daten 4 ( DONE ): Download-Vorgang abgeschlossen wenn readyState den Wert 4 hat und der http-Status 200 ( OK ) ist (Zeile 15 ), dann ist der Download der angefragten Ressource fertig und die Ressource kann verwendet werden. Dazu wird in Zeile 16 die Funktion createFormular(json) aufgerufen dabei das XMLHttpRequest -Objekt \u00fcbergeben in der Eigenschaft responseText des XMLHttpRequest -Objektes ist das heruntergeladene JSON enthalten. Dies wird in Zeile 23 in der Funktion createFormular(json) ausgelesen die JavaScript-Funktion JSON.parse() erzeugt aus einem JSON-formatierten Text ein entsprechendes Javascript-Objekt. Dies geschieht ebenfalls in Zeile 23 . Die referenz auf dieses JavaScript-Objekt wird in der Variablen georg gespeichert. in den Zeilen 24-26 sind einige Zugriffe auf das Objekt exemplarisch implementiert. Die Ausgabe erfolgt auf die Konsole. Wenn Sie das Beispiel also ausprobieren, dann schauen Sie auf die Konsole in Ihren DeveloperTools. fetch() -API \u00b6 In den letzten Jahren wurde eine sogenannte fetch() -API entwickelt, die leistungsf\u00e4higere und flexiblere Funktionen zur Verf\u00fcgung stellt, als ein XMLHttpRequest -Objekt. Da wir n\u00e4her auf Promises eingehen m\u00fcssten, erw\u00e4hnen wir das Thema hier nur und geben ein Beispiel an, das dem oberen sehr \u00e4hnlich ist: function loadJSONmitFetch () { fetch ( 'http://localhost/Webtech20/georg.json' ) . then ( function ( response ) { if ( response . status !== 200 ) { console . log ( 'Warning! Status Code: ' + response . status ); return ; } // Lese json aus der response aus response . json () . then ( function ( data ) { console . log ( data ); } ); } ) . catch ( function ( err ) { console . log ( 'Fetch Error :-S' , err ); }); }","title":"JSON"},{"location":"json/#javascript-object-notation-json","text":"Eine kurze Einf\u00fchrung zu Objekten in JavaScript haben wir bereits im JavaScript-Kapitel gegeben. Dort haben wir auch gesagt, dass wir auf die Notation solcher Objekte in JavaScript nochmal genauer eingehen wollen. Dies geschieht hier. JavaScript Object Notation (JSON) ist ein Datenaustauschformat, das einerseits einfach f\u00fcr Menschen zu lesen und zu schreiben ist und andererseits gut von Maschinen geparst (analysiert) und erzeugt werden kann. Ein Objekt in JSON beginnt mit einer geschweiften Klammer { und endet mit } . JSON besteht im wesentlichen aus Schl\u00fcssel-Werte-Paaren, die durch Komma getrennt sind. { \"schl\u00fcssel1\" : wert1, \"schl\u00fcssel2\" : wert2, } Die Schl\u00fcssel sind Strings in doppelten Hochkamma ( \"\" ), dann folgt ein Doppelpunkt : und dann folgt der Wert. Werte k\u00f6nnen Strings, Zahlen, Wahrheitswerte, Arrays, Funktionen und Objekte (und null ) sein. Hier ein Beispiel (erweitert aus ): 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 { \"name\" : \"Georg\" , \"alter\" : 47 , \"verheiratet\" : false , \"beruf\" : null , \"kinder\" : [ { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } ], \"biografie\" : function() { return this.name + \" ist \" + this.alter + \" und hat \" + this.kinder.length + \" Kinder.\" ; }, } Der Wert zum Schl\u00fcssel \"name\" in Zeile 2 ist ein String ( string ). Der Wert zum Schl\u00fcssel \"alter\" in Zeile 3 ist eine Zahl ( number ). Der Wert zum Schl\u00fcssel \"verheiratet\" in Zeile 4 ist ein Wahrheitswert ( boolean ). Der Wert zum Schl\u00fcssel \"kinder\" in Zeilen 6-17 ist Array. Die Elemente in diesem Array sind selbst wieder Objekte in JavaScript Object Notation, bestehend aus jeweils drei Schl\u00fcssel-Werte-Paaren. Das \"kinder\" ist numerisch indiziert, d.h. wir k\u00f6nnen \u00fcber den Index 0 auf das erste Kind ( \"Lukas\" ) und \u00fcber den Index 1 auf das zweite Kind ( \"Lisa\" ) zugreifen","title":"JavaScript Object Notation (JSON)"},{"location":"json/#zugriff-auf-ein-json","text":"Der Zugriff auf die Werte eines JSON erfolgt mittels Punktnotation \u00fcber den Schl\u00fcssel. Wir nehmen obiges Beispiel und speichern es in einer Variablen georg : 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 let georg = { \"name\" : \"Georg\" , \"alter\" : 47 , \"verheiratet\" : false , \"beruf\" : null , \"kinder\" : [ { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } ], \"biografie\" : function () { return this . name + \" ist \" + this . alter + \" und hat \" + this . kinder . length + \" Kinder.\" ; }, }; Dann k\u00f6nnen wir auf die einzelnen Werte wie folgt zugreifen: georg . name // \"Georg\" georg . alter // 47 let kinder = georg . kinder ; // Array aus 2 Objekten kinder [ 0 ]. name // \"Lukas\" kinder [ 1 ]. name // \"Lisa\" georg . biografie () // \"Georg ist 47 und hat 2 Kinder.\" Man kann \u00fcbrigens auch anstelle der Punktnotation ein JSON wie ein assoziatives Array auffassen und z.B. anstelle von georg.name \u00fcber georg['name'] auf den Wert \"Georg\" zugreifen. Es w\u00e4re auch m\u00f6glich, das \"Kinder\"-Array in ein weiteres JSON umzuwandeln: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // anstelle von: \"kinder\" : [ { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } ], // ginge z.B. auch: \"kinder\" : { \"erstesKind\" : { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, \"zweitesKind\" : { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } }, Dann ist der Zugriff \u00fcber den Index (also z.B. georg.kinder[0] ) nicht mehr m\u00f6glich. Stattdessen aber: georg . kinder . erstesKind . name georg . kinder . zweitesKind . alter","title":"Zugriff auf ein JSON"},{"location":"json/#viele-objekte-im-array","text":"Wenn Sie viele \"gleiche\" Objekte speichern, dann in einem Array. Die folgende Datei zeigt viele Objekte in JSON, die in einem Array abgelegt sind: data/members.json { \"members\" : [ { \"forename\" : \"Catherine\" , \"surname\" : \"Williams\" , \"email\" : \"cwilliamsl@360.cn\" }, { \"forename\" : \"Adam\" , \"surname\" : \"Anderson\" , \"email\" : \"aanderson8@google.fr\" }, { \"forename\" : \"Susan\" , \"surname\" : \"Andrews\" , \"email\" : \"sandrewsn@google.co.jp\" }, { \"forename\" : \"Catherine\" , \"surname\" : \"Andrews\" , \"email\" : \"candrewsp@noaa.gov\" }, { \"forename\" : \"Alan\" , \"surname\" : \"Bradley\" , \"email\" : \"abradley1c@globo.com\" }, { \"forename\" : \"Anne\" , \"surname\" : \"Brooks\" , \"email\" : \"abrooks16@bravesites.com\" }, { \"forename\" : \"Russell\" , \"surname\" : \"Brown\" , \"email\" : \"rbrownq@nifty.com\" }, { \"forename\" : \"Ryan\" , \"surname\" : \"Burton\" , \"email\" : \"rburton18@foxnews.com\" }, { \"forename\" : \"Roy\" , \"surname\" : \"Campbell\" , \"email\" : \"rcampbell1@geocities.com\" }, { \"forename\" : \"Russell\" , \"surname\" : \"Campbell\" , \"email\" : \"rcampbell17@eventbrite.com\" }, { \"forename\" : \"Bonnie\" , \"surname\" : \"Coleman\" , \"email\" : \"bcoleman11@fc2.com\" }, { \"forename\" : \"Ernest\" , \"surname\" : \"Coleman\" , \"email\" : \"ecoleman15@businessweek.com\" }, { \"forename\" : \"Richard\" , \"surname\" : \"Cruz\" , \"email\" : \"rcruz7@unc.edu\" }, { \"forename\" : \"Sean\" , \"surname\" : \"Cruz\" , \"email\" : \"scruz10@answers.com\" }, { \"forename\" : \"Rebecca\" , \"surname\" : \"Cunningham\" , \"email\" : \"rcunninghamd@mac.com\" }, { \"forename\" : \"Margaret\" , \"surname\" : \"Evans\" , \"email\" : \"mevansh@pcworld.com\" }, { \"forename\" : \"Jeffrey\" , \"surname\" : \"Ford\" , \"email\" : \"jford14@cnet.com\" }, { \"forename\" : \"Andrea\" , \"surname\" : \"Gardner\" , \"email\" : \"agardnerv@woothemes.com\" }, { \"forename\" : \"Deborah\" , \"surname\" : \"George\" , \"email\" : \"dgeorge6@furl.net\" }, { \"forename\" : \"Sean\" , \"surname\" : \"Gibson\" , \"email\" : \"sgibsony@alexa.com\" }, { \"forename\" : \"Virginia\" , \"surname\" : \"Graham\" , \"email\" : \"vgrahamk@aol.com\" }, { \"forename\" : \"Steven\" , \"surname\" : \"Hamilton\" , \"email\" : \"shamiltonu@state.tx.us\" }, { \"forename\" : \"Virginia\" , \"surname\" : \"Hawkins\" , \"email\" : \"vhawkinsf@ehow.com\" }, { \"forename\" : \"Edward\" , \"surname\" : \"Hicks\" , \"email\" : \"ehicksc@pcworld.com\" }, { \"forename\" : \"Mark\" , \"surname\" : \"Johnson\" , \"email\" : \"mjohnsonj@hostgator.com\" }, { \"forename\" : \"Ruth\" , \"surname\" : \"Jordan\" , \"email\" : \"rjordan1a@smugmug.com\" }, { \"forename\" : \"Antonio\" , \"surname\" : \"Kim\" , \"email\" : \"akim4@odnoklassniki.ru\" }, { \"forename\" : \"Jennifer\" , \"surname\" : \"Marshall\" , \"email\" : \"jmarshallt@gnu.org\" }, { \"forename\" : \"Eric\" , \"surname\" : \"Matthews\" , \"email\" : \"ematthews5@independent.co.uk\" }, { \"forename\" : \"Raymond\" , \"surname\" : \"Mcdonald\" , \"email\" : \"rmcdonald2@ihg.com\" }, { \"forename\" : \"Eric\" , \"surname\" : \"Miller\" , \"email\" : \"emillere@creativecommons.org\" }, { \"forename\" : \"Jonathan\" , \"surname\" : \"Morales\" , \"email\" : \"jmoralesa@ovh.net\" }, { \"forename\" : \"Marie\" , \"surname\" : \"Morgan\" , \"email\" : \"mmorganb@cloudflare.com\" }, { \"forename\" : \"Amanda\" , \"surname\" : \"Nelson\" , \"email\" : \"anelson13@indiatimes.com\" }, { \"forename\" : \"Lisa\" , \"surname\" : \"Olson\" , \"email\" : \"lolsonr@telegraph.co.uk\" }, { \"forename\" : \"Alice\" , \"surname\" : \"Ortiz\" , \"email\" : \"aortizw@histats.com\" }, { \"forename\" : \"Peter\" , \"surname\" : \"Phillips\" , \"email\" : \"pphillipss@1688.com\" }, { \"forename\" : \"Matthew\" , \"surname\" : \"Porter\" , \"email\" : \"mporter9@europa.eu\" }, { \"forename\" : \"Tammy\" , \"surname\" : \"Ray\" , \"email\" : \"trayx@weather.com\" }, { \"forename\" : \"Mark\" , \"surname\" : \"Richardson\" , \"email\" : \"mrichardson1d@ihg.com\" }, { \"forename\" : \"Joan\" , \"surname\" : \"Roberts\" , \"email\" : \"jroberts12@alibaba.com\" }, { \"forename\" : \"Kathleen\" , \"surname\" : \"Rose\" , \"email\" : \"kroseg@pinterest.com\" }, { \"forename\" : \"Steve\" , \"surname\" : \"Sanders\" , \"email\" : \"ssanders1b@wikispaces.com\" }, { \"forename\" : \"Shirley\" , \"surname\" : \"Scott\" , \"email\" : \"sscottm@macromedia.com\" }, { \"forename\" : \"Lillian\" , \"surname\" : \"Stephens\" , \"email\" : \"lstephens19@hugedomains.com\" }, { \"forename\" : \"Nicole\" , \"surname\" : \"Thompson\" , \"email\" : \"nthompson3@admin.ch\" }, { \"forename\" : \"Marie\" , \"surname\" : \"Thompson\" , \"email\" : \"mthompsonz@yelp.com\" }, { \"forename\" : \"Alan\" , \"surname\" : \"Vasquez\" , \"email\" : \"avasquezo@miibeian.gov.cn\" }, { \"forename\" : \"Mildred\" , \"surname\" : \"Watkins\" , \"email\" : \"mwatkins0@miibeian.gov.cn\" }, { \"forename\" : \"Eugene\" , \"surname\" : \"Williams\" , \"email\" : \"ewilliamsi@deliciousdays.com\" } ] } Ein Array ist stets numerisch indiziert, d.h. Sie k\u00f6nnen unter Verwendung des Index die einzelnen Objekte auslesen. Wir hatten das oben bereits f\u00fcr das \"kinder\" -Array gezeigt, geben hier aber noch ein Beispiel an: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < link rel = \"stylesheet\" href = \"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" > < title > JSON + Array </ title > </ head > < body onload = \"loadJSON()\" > < main class = \"container m-5\" > < ul id = \"ul1\" class = \"list-group\" > </ ul > </ main > < script > var members_obj ; function loadJSON () { let xhttp = new XMLHttpRequest (); xhttp . onreadystatechange = function () { if ( this . readyState === 4 && this . status === 200 ) { members_obj = JSON . parse ( this . responseText ); console . log ( members_obj ); createList (); }}; xhttp . open ( \"GET\" , \"./data/members.json\" , true ); xhttp . send (); } function createList () { let members = members_obj . members ; console . log ( members_obj ); console . log ( members_obj . members ); let ul = document . getElementById ( 'ul1' ); for ( let i = 0 ; i < members . length ; i ++ ) { let li = document . createElement ( 'li' ); li . classList . add ( 'list-group-item' ); let a = document . createElement ( 'a' ); a . href = 'mailto:' + members [ i ]. email + '?subject=Webtech&body=Hallo%20FIW!' ; a . innerHTML = '<i class=\"fa fa-envelope\"> ' + 'to: ' + members [ i ]. forename + ' ' + members [ i ]. surname ; li . appendChild ( a ); ul . appendChild ( li ); } } </ script > </ body > </ html > Es entsteht eine Liste aus Hyperlinks, wobei jeder Hyperlink in der Form zusammengesetzt ist: mailto:email-adresse . Es sind sogar noch subject (also Betreff) und body (als Nachrichteninhalt) angeh\u00e4ngt, d.h. die Form ist mailto:email-adresse?subject=Webtech&body=Hallo%20FIW! . Beachten Sie, dass es sich dabei um eine URL handelt und diese deshalb URL encoded sein muss, d.h. dass z.B. Leerzeichen durch %20 ersetzt werden. Die Seite sieht dann so aus: Und wenn man auf einen Link klickt (z.B. Adam Anderson ), \u00f6ffnet sich das Mailprogramm:","title":"Viele Objekte im Array"},{"location":"json/#ajax","text":"Ajax steht f\u00fcr Asynchronous JavaScript and XML . Es wird verwendet, um Daten vom Server zu laden oder an den Server zu senden, ohne die Seite neu zu laden. Ajax ist somit die Basis f\u00fcr eine Single Page Application . Obwohl XML im Namen von Ajax vorkommt, wird haupts\u00e4chlich JSON als Datenaustauschformat f\u00fcr das Senden und Empfangen von Daten zwischen Client und Server verwendet. Der Begriff asynchron beschreibt, dass der Austausch nicht die Webseite blockiert, d.h. dass weitere Nutzerinteraktionen m\u00f6glich sind w\u00e4hrend der Datenaustausch erfolgt.","title":"Ajax"},{"location":"json/#xmlhttprequest","text":"Der Grundbaustein von Ajax ist ein XMLHttpRequest -Objekt. Ein solches Objekt stellt Methoden zur Verf\u00fcgung, um eine Webseite (per JavaScript) aktualisieren zu k\u00f6nnen, ohne sie neu zu laden, Daten vom Server anzufordern nachdem die Seite geladen ist, Daten zu einem Server im Hintergrund zu senden. Angenommen, folgende JSON-Datei liegt auf unserem Server ( DocumentRoot ist mein DocumentRoot-Ordner): DocumentRoot/Webtech20/georg.json { \"name\" : \"Georg\" , \"alter\" : 47 , \"verheiratet\" : false , \"beruf\" : null , \"kinder\" : { \"erstesKind\" : { \"name\" : \"Lukas\" , \"alter\" : 19 , \"schulabschluss\" : \"Gymnasium\" }, \"zweitesKind\" : { \"name\" : \"Lisa\" , \"alter\" : 14 , \"schulabschluss\" : null } } } Client-seitig besteht die Anfrage an einen Webeserver per XMLHttpRequest aus drei Schritten: XMLHttpRequest -Objekt erzeugen Anfrage (Request) an Server senden Antwort (Response) verarbeiten/ausgeben Wir schauen uns das an einem Beispiel an: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Ajax </ title > </ head > < body > < h2 > AJAX wird nachfolgend Daten aus einer JSON-Datei einf\u00fcgen </ h2 > < div id = \"div1\" ></ div > < button type = \"button\" onclick = \"loadJSON();\" > JSON lesen </ button > < script > function loadJSON () { let xhttp = new XMLHttpRequest (); xhttp . onreadystatechange = function () { if ( this . readyState === 4 && this . status === 200 ) { createFormular ( this ); }}; xhttp . open ( \"GET\" , \"http://localhost/Webtech20/georg.json\" , true ); xhttp . send (); } function createFormular ( json ) { let georg = JSON . parse ( json . responseText ); console . log ( georg ); console . log ( georg . name ); console . log ( georg . kinder . erstesKind . name ); } </ script > </ body > </ html > In Zeile 10 definieren wir uns einen Button, der an den EventListener f\u00fcr das click -Ereignis angemeldet ist. In der Ereignisbehandlung wird die Funktion loadJSON() aufgerufen. In Zeile 13 wird das XMLHttpRequest -Objekt erzeugt. Die Referenz darauf speichern wir in der Variablen xhttp . In Zeile 18 wird die Verbindung zum Webserver hergestellt und der Request konfiguriert. Die open() -Funktion des XMLHttpRequest -Objektes enth\u00e4lt drei Parameter: der erste Parameter beschreibt die http-Methode, mit der angefragt werden soll ( \"GET\" oder \"POST\" ) der zweite Parameter gibt die Zieladresse der angefragten Ressource auf dem Server an der dritte Parameter gibt die Art der Kommunikation an ( true : asynchron, `false: synchron) In Zeile 19 wird diese Anfrage (Request) gesendet In den Zeilen 14-17 wird f\u00fcr die onreadystatechange -Eigenschaft des XMLHttpRequest -Objektes eine Funktion definiert, die immer dann (automatisch) aufgerufen wird, wenn sich der readyState des XMLHttpRequest -Objektes \u00e4ndert. readyState kann folgende Werte annehmen: 0 ( UNSENT ): open() wurde noch nicht aufgerufen 1 ( OPENED ): send() wurde noch nicht aufgerufen 2 ( HEADERS_RECEIVED ): send() wurde aufgerufen und Headers sowie Status sind verf\u00fcgbar 3 ( LOADING ): Download ist im Gange; responseText enth\u00e4lt bereit sunvollst\u00e4ndige Daten 4 ( DONE ): Download-Vorgang abgeschlossen wenn readyState den Wert 4 hat und der http-Status 200 ( OK ) ist (Zeile 15 ), dann ist der Download der angefragten Ressource fertig und die Ressource kann verwendet werden. Dazu wird in Zeile 16 die Funktion createFormular(json) aufgerufen dabei das XMLHttpRequest -Objekt \u00fcbergeben in der Eigenschaft responseText des XMLHttpRequest -Objektes ist das heruntergeladene JSON enthalten. Dies wird in Zeile 23 in der Funktion createFormular(json) ausgelesen die JavaScript-Funktion JSON.parse() erzeugt aus einem JSON-formatierten Text ein entsprechendes Javascript-Objekt. Dies geschieht ebenfalls in Zeile 23 . Die referenz auf dieses JavaScript-Objekt wird in der Variablen georg gespeichert. in den Zeilen 24-26 sind einige Zugriffe auf das Objekt exemplarisch implementiert. Die Ausgabe erfolgt auf die Konsole. Wenn Sie das Beispiel also ausprobieren, dann schauen Sie auf die Konsole in Ihren DeveloperTools.","title":"XMLHttpRequest"},{"location":"json/#fetch-api","text":"In den letzten Jahren wurde eine sogenannte fetch() -API entwickelt, die leistungsf\u00e4higere und flexiblere Funktionen zur Verf\u00fcgung stellt, als ein XMLHttpRequest -Objekt. Da wir n\u00e4her auf Promises eingehen m\u00fcssten, erw\u00e4hnen wir das Thema hier nur und geben ein Beispiel an, das dem oberen sehr \u00e4hnlich ist: function loadJSONmitFetch () { fetch ( 'http://localhost/Webtech20/georg.json' ) . then ( function ( response ) { if ( response . status !== 200 ) { console . log ( 'Warning! Status Code: ' + response . status ); return ; } // Lese json aus der response aus response . json () . then ( function ( data ) { console . log ( data ); } ); } ) . catch ( function ( err ) { console . log ( 'Fetch Error :-S' , err ); }); }","title":"fetch()-API"},{"location":"jwt/","text":"JSON Web Tokens (JWT) \u00b6 Mithilfe von JSON Web Tokens (JWT) verwalten wir den Zugriff auf Webseiten. Wir werden JWTs hier ganz einfach daf\u00fcr verwenden, um zu unterscheiden, ob eine Nutzerin bereits eingeloggt ist oder nicht. Zun\u00e4chst nochmal zur Wiederholung: HTTP ist ein zustandsloses Protokoll. Das bedeutet insbesondere, dass der Webserver vorherige Anfragen desselben Clients nirgendwo speichert und somit auch nicht kennt. Prinzipiell ist es also gar nicht m\u00f6glich, sich zun\u00e4chst mit einer Anfrage beim Webserver einzuloggen und sich bei den folgenden Anfragen dann darauf zu beziehen. Eine Abhilfe daf\u00fcr wird dadurch erreicht, dass der Webserver bei \"Einloggen\" ein sicheres Token generiert und dem Nutzer dieses Token \u00fcbermittelt. Danach schickt der Nutzer dieses Token bei jeder Anfrage an den Webserver (im Header der Anfrage) mit. Der Webserver kann mithilfe dieses Tokens die Nutzerin identifizieren und eine eigene Historie \u00fcber die Zugriffe anlegen, z.B. in einer Datenbank. Erst dadurch wird es m\u00f6glich, dass man z.B. einen virtuellen Einkaufskorb bef\u00fcllt. Ein JSON Web Token besteht aus drei Teilen: einem Header , der den Typ des Tokens enth\u00e4lt ( JWT ) und den Verschl\u00fcsselungsalgorithmus, der zur Verschl\u00fcsselung der Informationen verwendet wird, z.B. SHA256 . einem Paload , der die Informationen \u00fcber die Ntzerin enth\u00e4lt und eventuell weitere Informationen, wie z.B. Rolle der Nutzerin, z.B. admin einer Signatur , die mithilfe des angegebenen Verschl\u00fcsselungsalgorithmus die Inforationen des Headers und der Payload verschl\u00fcsselt. Mithilfe der Signatur kann \u00fcberpr\u00fcft werden, ob ide Informationen im Header oder im Payload ge\u00e4ndert wurden oder nicht. Die drei Teile werden jeweils durch einen Punkt getrennt, d.h. ein JWT hat die Form header.payload.signature . Mithilfe des Codierers/De-Codierers von JWT k\u00f6nnen Sie das Codieren bzw. Decodieren nachvollziehen. Angenommen, Ihr Header ist { \"alg\": \"HS256\", \"typ\": \"JWT\" } , d.h. Sie verwenden SHA256 zur Verschl\u00fcsselung und der Typ ist JWT . Dann ist der erste Teil des JWT eyJhbGciOiJIUzI 1 NiIsInR 5 cCI 6 IkpXVCJ 9 Angenommen, Ihr Payload ist { \"data\": [ { \"id\": 1, \"username\": \"test\", \"email\": \"test@test.de\", \"password\": \"098f6bcd4621d373cade4e832627b4f6\" } ], \"iat\": 1609061622 } Die data haben die gleiche Struktur, wie wir sie sp\u00e4ter auch verwenden werden. Das Passwort test ist md5 -verschl\u00fcsselt. iat steht f\u00fcr issued at und gibt die Zeit ( Unix-Time ) an, zu der das JWT erzeugt wurde (hier 27.12.2020). Dann ist der zweite Teil des JWT eyJkYXRhIjpbeyJpZCI 6 MSwidXNlcm 5 hbWUiOiJ 0 ZXN 0 IiwiZW 1 haWwiOiJ 0 ZXN 0 QHRlc 3 QuZGUiLCJwYXNzd 29 yZCI 6 IjA 5 OGY 2 YmNkNDYyMWQzNzNjYWRlNGU 4 MzI 2 MjdiNGY 2 In 1 dLCJpYXQiOjE 2 MDkwNjE 2 MjJ 9 Wenn Sie als \"sichere\" Passpharse secret w\u00e4hlen und damit die Signatur erstellen, dann ist der dritet Teil des JWT XBWOvX 8 OceGmx 8 u 77 YfsyQtupYYO 9 p 9 mUurvIqqwgdk Sie werden diesen JWT (andere Zeit) sp\u00e4ter in Ihrer Anwendung wiederfinden. Ausf\u00fchrliche Informationen \u00fcber JWT finden Sie hier . Wir werden JWT hier in der einfachsten Form anwenden: wir k\u00f6nnen uns registrieren und einloggen das Backend erzeugt beim Registrieren ein JWT und schickt es an den Client im Client speichern wir das JWT ab und verwenden es dann beim Zugriff auf die Webseite Login-Backend \u00b6 Wir erstellen ein Backend mit dem folgenden Endpunkten: Methode URL Bedeutung POST /user/register Registrierung - f\u00fcgt einen neuen Datensatz hinzu POST /user/login Login - pr\u00fcft, ob ein Nutzer in der Datenbank enthalten ist F\u00fcr das Registrieren wird ein JSON in der folgenden Form (Beispieldaten) an das Backend gesendet: { \"username\" : \"test\" , \"email\" : \"test@test.de\" , \"password\" : \"test\" } F\u00fcr das Login wird die E-Mail-Adresse weggelassen und nur username und password \u00fcbermittelt: { \"username\" : \"test\" , \"password\" : \"test\" } Existiert der Nutzer test mit dem Passwort test in der Datenbank, so wird das folgende JSON vom Backend zum Frontend zur\u00fcckgesendet: { \"status\" : 1 , \"data\" : [ { \"id\" : 1 , \"username\" : \"test\" , \"email\" : \"test@test.de\" , \"password\" : \"098f6bcd4621d373cade4e832627b4f6\" } ], \"token\" : \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjpbeyJpZCI6MSwidXNlcm5hbWUiOiJ0ZXN0IiwiZW1haWwiOiJ0ZXN0QHRlc3QuZGUiLCJwYXNzd29yZCI6IjA5OGY2YmNkNDYyMWQzNzNjYWRlNGU4MzI2MjdiNGY2In1dLCJpYXQiOjE2MDkwODIyMTF9.ou22aTCkagg_0hchSdO_dV5AHUDizPqp287dAUOpues\" } Das Passwort wird nicht als Klarname in der Datenbank abgelegt, sondern verschl\u00fcsselt (als Hash ) durch das md5 -Modul . login -Datenbank \u00b6 Unter localhost/phpmyadmin (oder auf dem studi.f4 -Server) eine Datenbank erstellen (z.B. login ). Darin eine Tabelle users anlegen: SQL-Query zum Erstellen der Tabelle `users` -- -- Tabellenstruktur f\u00fcr Tabelle `users` -- CREATE TABLE ` users ` ( ` id ` int ( 11 ) NOT NULL AUTO_INCREMENT , ` username ` varchar ( 255 ) NOT NULL , ` email ` varchar ( 255 ) NOT NULL , ` password ` varchar ( 255 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Indizes f\u00fcr die Tabelle `users` -- ALTER TABLE ` users ` ADD PRIMARY KEY ( ` id ` ); Backend erzeugen \u00b6 Wir erzeugen uns ein Backend namens loginbackend : mkdir loginbackend cd loginbackend npm init Nun installieren wir gleich alle node -Module, die wir im Backend ben\u00f6tigen: npm install express --save npm install nodemon npm install cors npm install mysql npm install jsonwebtoken npm install md5 Als erstes erstellen wir eine neue Datei app.js und geben ein: app.js 1 2 3 4 5 6 7 8 9 10 const express = require ( 'express' ); const index_router = require ( './controller/index' ); const cors = require ( 'cors' ); const app = express (); app . use ( cors ()) app . use ( express . json ()); app . use ( '/' , index_router ); app . listen ( 4000 , () => { console . log ( 'listening on port 4000' ); }) In Zeile 2 wird eine controller/index.js verwendet. Erzeugen Sie einen Ordner controller und darin eine index.js : controller/index.js 1 2 3 4 5 const express = require ( 'express' ); const router = express . Router (); const user = require ( '../model/user' ); router . use ( '/user' , user ); module . exports = router ; In Zeile 3 wird eine model/user.js verwendet. Erzeugen Sie einen Ordner model und darin eine user.js : model/user.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 const express = require ( 'express' ); const router = express . Router (); const md5 = require ( 'md5' ); const jwt = require ( 'jsonwebtoken' ); const mysql = require ( 'mysql' ); const con = mysql . createConnection ({ host : \"localhost\" , user : \"root\" , password : \"IhrPasswort\" , database : \"login\" }); router . post ( '/register' , async function ( req , res , next ) { try { let { username , email , password } = req . body ; const hashed_password = md5 ( password . toString ()) const checkUsername = `Select username FROM users WHERE username = ?` ; con . query ( checkUsername , [ username ], ( err , result , fields ) => { if ( ! result . length ){ const sql = `Insert Into users (username, email, password) VALUES ( ?, ?, ? )` con . query ( sql , [ username , email , hashed_password ], ( err , result , fields ) =>{ if ( err ){ res . send ({ status : 0 , data : err }); } else { let token = jwt . sign ({ data : result }, 'secret' ) res . send ({ status : 1 , data : result , token : token }); } }) } }); } catch ( error ) { res . send ({ status : 0 , error : error }); } }); router . post ( '/login' , async function ( req , res , next ) { try { let { username , password } = req . body ; const hashed_password = md5 ( password . toString ()) const sql = `SELECT * FROM users WHERE username = ? AND password = ?` con . query ( sql , [ username , hashed_password ], function ( err , result , fields ){ if ( err ){ res . send ({ status : 0 , data : err }); } else { let token = jwt . sign ({ data : result }, 'secret' ) res . send ({ status : 1 , data : result , token : token }); } }) } catch ( error ) { res . send ({ status : 0 , error : error }); } }); module . exports = router ; Diese Datei ist recht umfangreich. Wir schauen uns die Details gleich n\u00e4her an. Zun\u00e4chst passen wir noch die package.json an, um mithilfe von nodemon unsere Anwendung zu starten (unter script ): package.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 { \"name\" : \"loginbackend\" , \"version\" : \"1.0.0\" , \"description\" : \"\" , \"main\" : \"index.js\" , \"scripts\" : { \"test\" : \"echo \\\"Error: no test specified\\\" && exit 1\" , \"start\" : \"nodemon app.js\" }, \"author\" : \"\" , \"license\" : \"ISC\" , \"dependencies\" : { \"cors\" : \"^2.8.5\" , \"express\" : \"^4.17.1\" , \"jsonwebtoken\" : \"^8.5.1\" , \"md5\" : \"^2.3.0\" , \"mysql\" : \"^2.18.1\" , \"nodemon\" : \"^2.0.6\" } } Starten Sie die Anwendung mit npm start oder, noch besser, konfigurieren Sie das Ausf\u00fchrungskommando in Ihrer IDE, so dass Sie die Anwendung \u00fcber den entsprechenden Button starten k\u00f6nnen: . Wir verwenden dieses Mal nodemon zum Start der Anwenung. Das hat den Vorteil, dass wir node nicht jedes Mal aufrufen m\u00fcssen, um das Backend zu starten. nodemon ist noch nicht wirklich ausgetestet, funktioniert aber in den meisten F\u00e4llen schon recht gut, weshalb wir es hier ausprobieren. Es ist nur f\u00fcr die Entwicklung empfohlen. Das Backend sollte sich jetzt ausf\u00fchren lassen. Backend testen \u00b6 Wir testen das Backend mithilfe von Postman. Starten Sie das Backend und \u00f6ffnen Sie Postman. Geben Sie als POST -Anfrage http://localhost:4000/user/register ein und senden Sie im body (als JSON ) die Daten { \"username\" : \"test\" , \"email\" : \"test@test.de\" , \"password\" : \"test\" } mit: Der User test wird mit den entsprechenden Informationen in der Datenbank abgelegt. Das Passwort ist dabei verschl\u00fcsselt. Die Response des Servers ist etwas in der Art: { \"status\" : 1 , \"data\" : { \"fieldCount\" : 0 , \"affectedRows\" : 1 , \"insertId\" : 1 , \"serverStatus\" : 2 , \"warningCount\" : 0 , \"message\" : \"\" , \"protocol41\" : true , \"changedRows\" : 0 }, \"token\" : \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjpbeyJpZCI6MSwidXNlcm5hbWUiOiJ0ZXN0IiwiZW1haWwiOiJ0ZXN0QHRlc3QuZGUiLCJwYXNzd29yZCI6IjA5OGY2YmNkNDYyMWQzNzNjYWRlNGU4MzI2MjdiNGY2In1dLCJpYXQiOjE2MDkwNjE2MjJ9.XBWOvX8OceGmx8u77YfsyQtupYYO9p9mUurvIqqwgdk\" } In der Datenbank sehen Sie den Eintrag: Nach dem Registrieren k\u00f6nnen Sie auch das EInloggen testen. Geben Sie als POST -Anfrage http://localhost:4000/user/login ein und senden Sie im body (als JSON ) die Daten { \"username\" : \"test\" , \"password\" : \"test\" } mit: Die Response hat die folgende Form: { \"status\" : 1 , \"data\" : [ { \"id\" : 1 , \"username\" : \"test\" , \"email\" : \"test@test.de\" , \"password\" : \"098f6bcd4621d373cade4e832627b4f6\" } ], \"token\" : \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjpbeyJpZCI6MSwidXNlcm5hbWUiOiJ0ZXN0IiwiZW1haWwiOiJ0ZXN0QHRlc3QuZGUiLCJwYXNzd29yZCI6IjA5OGY2YmNkNDYyMWQzNzNjYWRlNGU4MzI2MjdiNGY2In1dLCJpYXQiOjE2MDkwNjE2MjJ9.XBWOvX8OceGmx8u77YfsyQtupYYO9p9mUurvIqqwgdk\" } Das Backend erzwugt den JWT bei jedem Login neu. Es gibt also ein Session-JWT . Eine andere M\u00f6glichkeit w\u00e4re, das JWT beim Registrieren zu erzeugen und eebenfalls in der Datenbank abzuspeichern und es dann immer mitzuschicken. Wir schauen uns nun nochmal die user.js genauer an: model/user.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 const express = require ( 'express' ); const router = express . Router (); const md5 = require ( 'md5' ); const jwt = require ( 'jsonwebtoken' ); const mysql = require ( 'mysql' ); const con = mysql . createConnection ({ host : \"localhost\" , user : \"root\" , password : \"IhrPasswort\" , database : \"login\" }); router . post ( '/register' , async function ( req , res , next ) { try { let { username , email , password } = req . body ; const hashed_password = md5 ( password . toString ()) const checkUsername = `Select username FROM users WHERE username = ?` ; con . query ( checkUsername , [ username ], ( err , result , fields ) => { if ( ! result . length ){ const sql = `Insert Into users (username, email, password) VALUES ( ?, ?, ? )` con . query ( sql , [ username , email , hashed_password ], ( err , result , fields ) =>{ if ( err ){ res . send ({ status : 0 , data : err }); } else { let token = jwt . sign ({ data : result }, 'secret' ) res . send ({ status : 1 , data : result , token : token }); } }) } }); } catch ( error ) { res . send ({ status : 0 , error : error }); } }); router . post ( '/login' , async function ( req , res , next ) { try { let { username , password } = req . body ; const hashed_password = md5 ( password . toString ()) const sql = `SELECT * FROM users WHERE username = ? AND password = ?` con . query ( sql , [ username , hashed_password ], function ( err , result , fields ){ if ( err ){ res . send ({ status : 0 , data : err }); } else { let token = jwt . sign ({ data : result }, 'secret' ) res . send ({ status : 1 , data : result , token : token }); } }) } catch ( error ) { res . send ({ status : 0 , error : error }); } }); module . exports = router ; In den Zeilen 6-11 definieren wir den Zugang zur Datenbank. Achten Sie hier auf das richtige Passwort und den korrekten Namen der Datenbank. In den zeilen 12-35 wird die Registrierungs -Funktion definiert und in den zeilen 37-55 die Login -Funktion. In der Registrierungsfunktion wird zun\u00e4chst \u00fcberpr\u00fcft, ob der username bereits in der Datenbank existiert (Zeilen 16-17 ). Wenn nicht, wird der Nutzer in der Datenbank angelegt (Zeilen 19-20 ) und das JWT wird erzeugt (Zeile 26 ). Die Daten und das JWT werden vom Backend zusammen mit dem status: 1 als Response zur\u00fcckgeschickt, wenn alles fehlerlos geklappt hat. Beachten Sie, dass beim Erstellen des JWT als \"sichere\" Passphrase das Wort secret verwendet wird (Zeile 26 ). Das Pasowrt wird mittels md5 gehasht - es wird also verschl\u00fcsselt abgelegt (Zeile 15 ). Die Login-Funktion ist der Registrierungs-Funktion sehr \u00e4hnlich. Es wird der passende username in der Datenbank gesucht und das gehashte Passowrt verglichen. Auch hier wird ein JWT erzeugt. Login-Frontend \u00b6 F\u00fcr das Frontend erstellen wir uns ein Formular zur Registrierung und ein Formular f\u00fcr das Login. Das JWT, das wir vom Webserver erhalten, speichern wir lokal ab. Dazu verwenden wir localStorage . Wir nennen unser Frontend loginfrontend : ng new loginfrontend Wir erzeugen uns zwei Komponenten, eine f\u00fcr die Registrierung und die andere f\u00fcr das Login: cd loginfrontend ng g c login ng g c register Wir binden beide Komponenten \u00fcber Routing ein. In der app-routing.module.ts definieren wir dazu: app-module.routing.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { LoginComponent } from './login/login.component' ; import { RegisterComponent } from './register/register.component' ; const routes : Routes = [ { path : 'login' , component : LoginComponent }, { path : 'register' , component : RegisterComponent }, ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } Damit die Formulare schicker aussehen, binden wir Bootstrap ein: npm install --save bootstrap npm install --save jquery npm install --save popper.js In der angular.json Bootstrap hinzuf\u00fcgen: angular.json (Auszug) 1 2 3 4 5 6 7 8 9 10 11 12 \"assets\" : [ \"src/favicon.ico\" , \"src/assets\" ] , \"styles\" : [ \"./node_modules/bootstrap/dist/css/bootstrap.css\" , \"src/styles.css\" ] , \"scripts\" : [ \"./node_modules/jquery/dist/jquery.js\" , \"./node_modules/bootstrap/dist/js/bootstrap.js\" ] Die Zeilen m\u00fcssen zwei Mal eingef\u00fcgt werden. Einmal unter \"build\" und einmal unter \"test\" . Achten Sie darauf, zun\u00e4chst jQuery einzubinden und erst dann bootstrap.js . Services im Frontend \u00b6 Wir erstellen uns zwei Services. Der eine Service api ist f\u00fcr die Kommunikation mit dem Backend zust\u00e4ndig. Der andere Service auth legt den Token im localStorage ab und holt ihn auch von dort. ng g service services/auth ng g service services/api In der services/api.service.ts : services/api.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Injectable } from '@angular/core' ; import { environment } from '../../environments/environment' ; import { HttpClient } from '@angular/common/http' ; import { map } from 'rxjs/operators' ; @ Injectable ({ providedIn : 'root' }) export class ApiService { baseUrl = 'http://localhost:4000/' ; constructor ( private http : HttpClient ) {} postTypeRequest ( url , payload ) : any { return this . http . post ( ` ${ this . baseUrl }${ url } ` , payload ). pipe ( map ( res => { return res ; })); } } In der services/auth.service.ts : services/auth.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import { Injectable } from '@angular/core' ; @ Injectable ({ providedIn : 'root' }) export class AuthService { constructor () { } getUserDetails () : any { return localStorage . getItem ( 'userData' ) ? JSON . parse ( localStorage . getItem ( 'userData' )) : null ; } setDataInLocalStorage ( variableName , data ) : any { localStorage . setItem ( variableName , data ); } clearStorage () : any { localStorage . clear (); } } Mit der getUserDetails() -Funktion laden wir die userData aus dem localStorage , mit der setDataInLocalStorage() -Funktion speichern wir die userData im localStorage und clearStorage() l\u00f6scht den gesamten localStorage . Registrierungs-Komponente \u00b6 In der Registrierungskomponente erstellen wir das Formular zur Registrierung und rufen mit den eingebgebenen Daten das Backend zur Registrierung auf. In der register.component.ts : src/app/register/register.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 import { Component , OnInit } from '@angular/core' ; import { ApiService } from './../services/api.service' ; import { AuthService } from './../services/auth.service' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Router } from '@angular/router' ; @ Component ({ selector : 'app-register' , templateUrl : './register.component.html' , styleUrls : [ './register.component.css' ] }) export class RegisterComponent implements OnInit { isLogin = false ; errorMessage ; registerForm : FormGroup ; submitted = false ; constructor ( private formBuilder : FormBuilder , private api : ApiService , private auth : AuthService , private router : Router ) { } // convenience getter for easy access to form fields get f () : any { return this . registerForm . controls ; } ngOnInit () : void { this . registerForm = this . formBuilder . group ({ username : [ '' , Validators . required ], email : [ '' , Validators . required ], password : [ '' , Validators . required ] }); this . isUserLogin (); } onSubmit () : void { this . submitted = true ; console . log ( 'Your form data : ' , this . registerForm . value ); this . api . postTypeRequest ( 'user/register' , this . registerForm . value ). subscribe (( res : any ) => { if ( res . status ) { console . log ( res ); this . auth . setDataInLocalStorage ( 'userData' , JSON . stringify ( res . data )); this . auth . setDataInLocalStorage ( 'token' , res . token ); this . router . navigate ([ 'login' ]); } else { console . log ( res ); alert ( res . msg ); } }, err => { this . errorMessage = err . error . message ; }); } isUserLogin () : void { if ( this . auth . getUserDetails () != null ){ this . isLogin = true ; } } } Im Konstruktor (Zeilen 18-23 ) werden die beiden Services, der FormBuilder und das Router -Modul per dependency injection eingebunden. In der ngOnInit() -Funktion (Zeilen 28-35 ) definieren wir das Formular bestehend aus den FormControls username , email und password . Das gesamte Formular ist in der Eigenschaft registerForm gespeichert (Zeile 15 ). F\u00fcr den Zugriff auf die einzelnen FormControls defineiren wir noch einen Getter f() , der uns Schreibarbeit in der register.component.html erspart ( f() gibt uns ein Objekt der drei FormControls des Formulars zur\u00fcck). Die Funktion onSubmit() wird aufgerufen, wenn das Formular abgeschickt wird. In Zeile 39 geben wir die Daten des Formulars auf die Konsole aus (nur f\u00fcr Debug-Zwecke). In den Zeilen 40-52 rufen wir die Funktion postTypeRequest aus unserem api -Service auf. Darin \u00fcbergeben wir alle Daten aus dem Formular. Wenn alles klappt ( status der Response ist 1 ), dann speichern wir alle Daten lokal unter userData (Zeile 43 ) und das JWT nochmal extra unter token (Zeile 44 ). Danach rufen wir die Route login auf, wechseln also zur Login-Komponente. Das Template der Registrierungs-Komponente sieht wie folgt aus: src/app/register/register.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 < div class = 'row m-0 w-100' > < div class = 'col-md-4 offset-4 mt-5' * ngIf = '!this.isLogin' > < h4 > Register </ h4 > < form [ formGroup ]=\" registerForm \" ( ngSubmit )=\" onSubmit ()\" > < div class = 'form-group' > < input class = 'form-control' type = \"text\" formControlName = \"username\" name = \"username\" placeholder = \"Username\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . username . errors }\" /> < div * ngIf = \"submitted && f.username.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.username.errors.required\" > Username is required </ div > </ div > </ div > < div class = 'form-group' > < input class = 'form-control' type = \"email\" formControlName = \"email\" name = \"email\" placeholder = \"Email\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . email . errors }\" /> < div * ngIf = \"submitted && f.email.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.email.errors.required\" > E-Mail is required </ div > </ div > </ div > < div class = 'form-group' > < input class = 'form-control' type = \"password\" formControlName = \"password\" name = \"password\" placeholder = \"Password\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . password . errors }\" /> < div * ngIf = \"submitted && f.password.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.password.errors.required\" > Password is required </ div > </ div > </ div > < input class = 'btn btn-outline-info' type = \"submit\" value = \"Register\" > </ form > </ div > < div class = 'col-md-4 offset-4 mt-5' * ngIf = 'this.isLogin' > < h5 > You are logged in </ h5 > </ div > </ div > Die Direktive *ngIf = '!this.isLogin' in Zeile 2 pr\u00fcft den Status der Eigenschaft isLogin . Diese ist am Angang false (siehe register.component.ts in Zeile 13 ). Durch die isUserLogin() -Funktion der register.component.ts (Zeilen 55-59 ) kann der Wert auf true gesetzt werden, wenn der auth -Service userData gespeichert hat. F\u00fcr den Fall. dass isLogin den Wert true hat, zeigt die Registrierungs-Komponente You are logged in an (Zeilen 26-28 ). Wenn nicht, erscheint das Registrierungsformular (Zeilen 2-25 ). Beim Absenden des Formulars wird die onSubmit() -Funktion aus register.component.ts aufgerufen. F\u00fcr die einzelnen Eingabefelder wird ein Atrributbinding definiert: Falls das Formular abgeschickt wurde ( submitted ) und aber Fehler existieren (z.B. f.username.errors ), wird dem entsprechenden Eingabefeld die Bootstrap-Klasse is-invalid zugeordnet und es erscheint die darunter definierte Fehlerausgabe. Hier findet auch die f() -Funktion ihre Anwendung. Login-Komponente \u00b6 Die Login-Komponente hat starke \u00c4hnlichkeit mit der Registrierungs-Komponente. Das Formular enth\u00e4lt jedoch keinen Eintrag f\u00fcr die E-Mail und es wird eine ander URL im Backend aufgerufen user/login anstelle von user/rgister . Au\u00dferdem stellt die Login-Komponente noch einen Button Log-out zur Verf\u00fcgung, der ein Ausloggen erm\u00f6glicht ( logout() -Funktion). Das Ausloggen wird hier dadurch simuliert, dass der localStorage gel\u00f6scht wird. Ansonsten sehen sich swohl die ts - als auch die html -Datei sehr \u00e4hnlich: src/app/login/login.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 import { Component , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { ApiService } from './../services/api.service' ; import { AuthService } from './../services/auth.service' ; import { Router } from '@angular/router' ; @ Component ({ selector : 'app-login' , templateUrl : './login.component.html' , styleUrls : [ './login.component.css' ] }) export class LoginComponent implements OnInit { isLogin = false ; errorMessage ; loginForm : FormGroup ; submitted = false ; constructor ( private formBuilder : FormBuilder , private api : ApiService , private auth : AuthService , private router : Router ) { } ngOnInit () : void { this . loginForm = this . formBuilder . group ({ username : [ '' , Validators . required ], password : [ '' , Validators . required ] }); this . isUserLogin (); } // convenience getter for easy access to form fields get f () : any { return this . loginForm . controls ; } onSubmit () : void { this . submitted = true ; console . log ( 'Your form data : ' , this . loginForm . value ); this . api . postTypeRequest ( 'user/login' , this . loginForm . value ). subscribe (( res : any ) => { if ( res . status ) { console . log ( res ); this . auth . setDataInLocalStorage ( 'userData' , JSON . stringify ( res . data )); this . auth . setDataInLocalStorage ( 'token' , res . token ); this . router . navigate ([ '' ]); } else { } }, err => { this . errorMessage = err . error . message ; }); } isUserLogin () : void { console . log ( this . auth . getUserDetails ()); if ( this . auth . getUserDetails () != null ){ this . isLogin = true ; } } logout () : void { this . auth . clearStorage (); this . router . navigate ([ '' ]); } } src/app/login/login.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 < div class = 'row m-0 w-100' > < div class = 'col-md-4 offset-4 mt-5' * ngIf = '!this.isLogin' > < h4 > Login </ h4 > < form [ formGroup ]=\" loginForm \" ( ngSubmit )=\" onSubmit ()\" > < div class = 'form-group' > < input class = 'form-control' type = \"text\" formControlName = \"username\" name = \"username\" placeholder = \"Username\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . username . errors }\" /> < div * ngIf = \"submitted && f.username.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.username.errors.required\" > Username is required </ div > </ div > </ div > < div class = 'form-group' > < input class = 'form-control' type = \"password\" formControlName = \"password\" name = \"password\" placeholder = \"Password\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . password . errors }\" /> < div * ngIf = \"submitted && f.password.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.password.errors.required\" > Password is required </ div > </ div > </ div > < input class = 'btn btn-outline-info' type = \"submit\" value = \"Login\" > </ form > </ div > < div class = 'col-md-4 offset-4 mt-5' * ngIf = 'this.isLogin' > < h1 > You are logged in </ h1 > < button class = 'btn btn-outline-info' ( click ) = ' logout ()' > Log-out </ button > </ div > </ div > Die app.component.html k\u00f6nnen Sie sich gestalten, wie Sie m\u00f6chten. Eine M\u00f6glichkeit w\u00e4re so: app.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 < nav class = \"navbar navbar-expand-lg navbar-light bg-light\" > < a class = \"navbar-brand\" [ routerLink ] = \"['/']\" routerLinkActive = \"active\" > Home </ a > < button class = \"navbar-toggler\" type = \"button\" data-toggle = \"collapse\" data-target = \"#navbarNav\" aria-controls = \"navbarNav\" aria-expanded = \"false\" aria-label = \"Toggle navigation\" > < span class = \"navbar-toggler-icon\" ></ span > </ button > < div class = \"collapse navbar-collapse\" id = \"navbarNav\" > < ul class = \"navbar-nav\" > < li class = \"nav-item\" > < a class = \"nav-link\" [ routerLink ] = \"[' login ']\" routerLinkActive = \"active\" > Login </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" [ routerLink ] = \"[' register ']\" routerLinkActive = \"active\" > Register </ a > </ li > </ ul > </ div > </ nav > < router-outlet ></ router-outlet > Die entsprechenden Seiten sehen dann so aus: Ausblick \u00b6 Beachten Sie, dass das Beispiel bewusst einfach gehalten wurde. Es fehlen mehrere Sachen: wir reagieren im Frontend gar nicht auf Fehler des Backends, d.h. es fehlen z.B. Reaktionen beim Registrieren, falls der username bereits existiert, Reaktionen beim Login, falls das Passwort nicht korrekt ist wir haben keine Zugriffssteuerung definiert, d.h. es fehlt noch eine Seite (Komponente), auf die nur dann zugegriffen werden kann, wenn der Nutzer eingeloggt ist Die Fehlerpunkte w\u00e4ren sicherlich eine gute \u00dcbung f\u00fcr Sie. Den letzten Punkt betrachten wir beim n\u00e4chsten Mal. Allerdings kann man JWT auch noch so erweitern, dass bestimmte Rollen hinterlegt und abgefraget werden k\u00f6nnen. Das werden wir uns nicht anschauen. Aber vielleicht haben Sie ja bereits selbst Ideen, wie das geschehen kann. Die Nutzerdaten m\u00fcssten ja nur im ein Attribut role erweitert und abgefragt werden. Umfassende Informationen dar\u00fcber finden Sie im JWT-Handbuch . Dowmloads der aktuellen Versionen \u00b6 Clonen von Github: loginfrontend loginbackend im Folgenden wird auf diesen Versionen aufgebaut. Zugriff nur bei Login \u00b6 UserService ng g s services/user UserComponent ng g c user Bearer Authentication","title":"JWT"},{"location":"jwt/#json-web-tokens-jwt","text":"Mithilfe von JSON Web Tokens (JWT) verwalten wir den Zugriff auf Webseiten. Wir werden JWTs hier ganz einfach daf\u00fcr verwenden, um zu unterscheiden, ob eine Nutzerin bereits eingeloggt ist oder nicht. Zun\u00e4chst nochmal zur Wiederholung: HTTP ist ein zustandsloses Protokoll. Das bedeutet insbesondere, dass der Webserver vorherige Anfragen desselben Clients nirgendwo speichert und somit auch nicht kennt. Prinzipiell ist es also gar nicht m\u00f6glich, sich zun\u00e4chst mit einer Anfrage beim Webserver einzuloggen und sich bei den folgenden Anfragen dann darauf zu beziehen. Eine Abhilfe daf\u00fcr wird dadurch erreicht, dass der Webserver bei \"Einloggen\" ein sicheres Token generiert und dem Nutzer dieses Token \u00fcbermittelt. Danach schickt der Nutzer dieses Token bei jeder Anfrage an den Webserver (im Header der Anfrage) mit. Der Webserver kann mithilfe dieses Tokens die Nutzerin identifizieren und eine eigene Historie \u00fcber die Zugriffe anlegen, z.B. in einer Datenbank. Erst dadurch wird es m\u00f6glich, dass man z.B. einen virtuellen Einkaufskorb bef\u00fcllt. Ein JSON Web Token besteht aus drei Teilen: einem Header , der den Typ des Tokens enth\u00e4lt ( JWT ) und den Verschl\u00fcsselungsalgorithmus, der zur Verschl\u00fcsselung der Informationen verwendet wird, z.B. SHA256 . einem Paload , der die Informationen \u00fcber die Ntzerin enth\u00e4lt und eventuell weitere Informationen, wie z.B. Rolle der Nutzerin, z.B. admin einer Signatur , die mithilfe des angegebenen Verschl\u00fcsselungsalgorithmus die Inforationen des Headers und der Payload verschl\u00fcsselt. Mithilfe der Signatur kann \u00fcberpr\u00fcft werden, ob ide Informationen im Header oder im Payload ge\u00e4ndert wurden oder nicht. Die drei Teile werden jeweils durch einen Punkt getrennt, d.h. ein JWT hat die Form header.payload.signature . Mithilfe des Codierers/De-Codierers von JWT k\u00f6nnen Sie das Codieren bzw. Decodieren nachvollziehen. Angenommen, Ihr Header ist { \"alg\": \"HS256\", \"typ\": \"JWT\" } , d.h. Sie verwenden SHA256 zur Verschl\u00fcsselung und der Typ ist JWT . Dann ist der erste Teil des JWT eyJhbGciOiJIUzI 1 NiIsInR 5 cCI 6 IkpXVCJ 9 Angenommen, Ihr Payload ist { \"data\": [ { \"id\": 1, \"username\": \"test\", \"email\": \"test@test.de\", \"password\": \"098f6bcd4621d373cade4e832627b4f6\" } ], \"iat\": 1609061622 } Die data haben die gleiche Struktur, wie wir sie sp\u00e4ter auch verwenden werden. Das Passwort test ist md5 -verschl\u00fcsselt. iat steht f\u00fcr issued at und gibt die Zeit ( Unix-Time ) an, zu der das JWT erzeugt wurde (hier 27.12.2020). Dann ist der zweite Teil des JWT eyJkYXRhIjpbeyJpZCI 6 MSwidXNlcm 5 hbWUiOiJ 0 ZXN 0 IiwiZW 1 haWwiOiJ 0 ZXN 0 QHRlc 3 QuZGUiLCJwYXNzd 29 yZCI 6 IjA 5 OGY 2 YmNkNDYyMWQzNzNjYWRlNGU 4 MzI 2 MjdiNGY 2 In 1 dLCJpYXQiOjE 2 MDkwNjE 2 MjJ 9 Wenn Sie als \"sichere\" Passpharse secret w\u00e4hlen und damit die Signatur erstellen, dann ist der dritet Teil des JWT XBWOvX 8 OceGmx 8 u 77 YfsyQtupYYO 9 p 9 mUurvIqqwgdk Sie werden diesen JWT (andere Zeit) sp\u00e4ter in Ihrer Anwendung wiederfinden. Ausf\u00fchrliche Informationen \u00fcber JWT finden Sie hier . Wir werden JWT hier in der einfachsten Form anwenden: wir k\u00f6nnen uns registrieren und einloggen das Backend erzeugt beim Registrieren ein JWT und schickt es an den Client im Client speichern wir das JWT ab und verwenden es dann beim Zugriff auf die Webseite","title":"JSON Web Tokens (JWT)"},{"location":"jwt/#login-backend","text":"Wir erstellen ein Backend mit dem folgenden Endpunkten: Methode URL Bedeutung POST /user/register Registrierung - f\u00fcgt einen neuen Datensatz hinzu POST /user/login Login - pr\u00fcft, ob ein Nutzer in der Datenbank enthalten ist F\u00fcr das Registrieren wird ein JSON in der folgenden Form (Beispieldaten) an das Backend gesendet: { \"username\" : \"test\" , \"email\" : \"test@test.de\" , \"password\" : \"test\" } F\u00fcr das Login wird die E-Mail-Adresse weggelassen und nur username und password \u00fcbermittelt: { \"username\" : \"test\" , \"password\" : \"test\" } Existiert der Nutzer test mit dem Passwort test in der Datenbank, so wird das folgende JSON vom Backend zum Frontend zur\u00fcckgesendet: { \"status\" : 1 , \"data\" : [ { \"id\" : 1 , \"username\" : \"test\" , \"email\" : \"test@test.de\" , \"password\" : \"098f6bcd4621d373cade4e832627b4f6\" } ], \"token\" : \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjpbeyJpZCI6MSwidXNlcm5hbWUiOiJ0ZXN0IiwiZW1haWwiOiJ0ZXN0QHRlc3QuZGUiLCJwYXNzd29yZCI6IjA5OGY2YmNkNDYyMWQzNzNjYWRlNGU4MzI2MjdiNGY2In1dLCJpYXQiOjE2MDkwODIyMTF9.ou22aTCkagg_0hchSdO_dV5AHUDizPqp287dAUOpues\" } Das Passwort wird nicht als Klarname in der Datenbank abgelegt, sondern verschl\u00fcsselt (als Hash ) durch das md5 -Modul .","title":"Login-Backend"},{"location":"jwt/#login-datenbank","text":"Unter localhost/phpmyadmin (oder auf dem studi.f4 -Server) eine Datenbank erstellen (z.B. login ). Darin eine Tabelle users anlegen: SQL-Query zum Erstellen der Tabelle `users` -- -- Tabellenstruktur f\u00fcr Tabelle `users` -- CREATE TABLE ` users ` ( ` id ` int ( 11 ) NOT NULL AUTO_INCREMENT , ` username ` varchar ( 255 ) NOT NULL , ` email ` varchar ( 255 ) NOT NULL , ` password ` varchar ( 255 ) NOT NULL ) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci ; -- -- Indizes f\u00fcr die Tabelle `users` -- ALTER TABLE ` users ` ADD PRIMARY KEY ( ` id ` );","title":"login-Datenbank"},{"location":"jwt/#backend-erzeugen","text":"Wir erzeugen uns ein Backend namens loginbackend : mkdir loginbackend cd loginbackend npm init Nun installieren wir gleich alle node -Module, die wir im Backend ben\u00f6tigen: npm install express --save npm install nodemon npm install cors npm install mysql npm install jsonwebtoken npm install md5 Als erstes erstellen wir eine neue Datei app.js und geben ein: app.js 1 2 3 4 5 6 7 8 9 10 const express = require ( 'express' ); const index_router = require ( './controller/index' ); const cors = require ( 'cors' ); const app = express (); app . use ( cors ()) app . use ( express . json ()); app . use ( '/' , index_router ); app . listen ( 4000 , () => { console . log ( 'listening on port 4000' ); }) In Zeile 2 wird eine controller/index.js verwendet. Erzeugen Sie einen Ordner controller und darin eine index.js : controller/index.js 1 2 3 4 5 const express = require ( 'express' ); const router = express . Router (); const user = require ( '../model/user' ); router . use ( '/user' , user ); module . exports = router ; In Zeile 3 wird eine model/user.js verwendet. Erzeugen Sie einen Ordner model und darin eine user.js : model/user.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 const express = require ( 'express' ); const router = express . Router (); const md5 = require ( 'md5' ); const jwt = require ( 'jsonwebtoken' ); const mysql = require ( 'mysql' ); const con = mysql . createConnection ({ host : \"localhost\" , user : \"root\" , password : \"IhrPasswort\" , database : \"login\" }); router . post ( '/register' , async function ( req , res , next ) { try { let { username , email , password } = req . body ; const hashed_password = md5 ( password . toString ()) const checkUsername = `Select username FROM users WHERE username = ?` ; con . query ( checkUsername , [ username ], ( err , result , fields ) => { if ( ! result . length ){ const sql = `Insert Into users (username, email, password) VALUES ( ?, ?, ? )` con . query ( sql , [ username , email , hashed_password ], ( err , result , fields ) =>{ if ( err ){ res . send ({ status : 0 , data : err }); } else { let token = jwt . sign ({ data : result }, 'secret' ) res . send ({ status : 1 , data : result , token : token }); } }) } }); } catch ( error ) { res . send ({ status : 0 , error : error }); } }); router . post ( '/login' , async function ( req , res , next ) { try { let { username , password } = req . body ; const hashed_password = md5 ( password . toString ()) const sql = `SELECT * FROM users WHERE username = ? AND password = ?` con . query ( sql , [ username , hashed_password ], function ( err , result , fields ){ if ( err ){ res . send ({ status : 0 , data : err }); } else { let token = jwt . sign ({ data : result }, 'secret' ) res . send ({ status : 1 , data : result , token : token }); } }) } catch ( error ) { res . send ({ status : 0 , error : error }); } }); module . exports = router ; Diese Datei ist recht umfangreich. Wir schauen uns die Details gleich n\u00e4her an. Zun\u00e4chst passen wir noch die package.json an, um mithilfe von nodemon unsere Anwendung zu starten (unter script ): package.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 { \"name\" : \"loginbackend\" , \"version\" : \"1.0.0\" , \"description\" : \"\" , \"main\" : \"index.js\" , \"scripts\" : { \"test\" : \"echo \\\"Error: no test specified\\\" && exit 1\" , \"start\" : \"nodemon app.js\" }, \"author\" : \"\" , \"license\" : \"ISC\" , \"dependencies\" : { \"cors\" : \"^2.8.5\" , \"express\" : \"^4.17.1\" , \"jsonwebtoken\" : \"^8.5.1\" , \"md5\" : \"^2.3.0\" , \"mysql\" : \"^2.18.1\" , \"nodemon\" : \"^2.0.6\" } } Starten Sie die Anwendung mit npm start oder, noch besser, konfigurieren Sie das Ausf\u00fchrungskommando in Ihrer IDE, so dass Sie die Anwendung \u00fcber den entsprechenden Button starten k\u00f6nnen: . Wir verwenden dieses Mal nodemon zum Start der Anwenung. Das hat den Vorteil, dass wir node nicht jedes Mal aufrufen m\u00fcssen, um das Backend zu starten. nodemon ist noch nicht wirklich ausgetestet, funktioniert aber in den meisten F\u00e4llen schon recht gut, weshalb wir es hier ausprobieren. Es ist nur f\u00fcr die Entwicklung empfohlen. Das Backend sollte sich jetzt ausf\u00fchren lassen.","title":"Backend erzeugen"},{"location":"jwt/#backend-testen","text":"Wir testen das Backend mithilfe von Postman. Starten Sie das Backend und \u00f6ffnen Sie Postman. Geben Sie als POST -Anfrage http://localhost:4000/user/register ein und senden Sie im body (als JSON ) die Daten { \"username\" : \"test\" , \"email\" : \"test@test.de\" , \"password\" : \"test\" } mit: Der User test wird mit den entsprechenden Informationen in der Datenbank abgelegt. Das Passwort ist dabei verschl\u00fcsselt. Die Response des Servers ist etwas in der Art: { \"status\" : 1 , \"data\" : { \"fieldCount\" : 0 , \"affectedRows\" : 1 , \"insertId\" : 1 , \"serverStatus\" : 2 , \"warningCount\" : 0 , \"message\" : \"\" , \"protocol41\" : true , \"changedRows\" : 0 }, \"token\" : \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjpbeyJpZCI6MSwidXNlcm5hbWUiOiJ0ZXN0IiwiZW1haWwiOiJ0ZXN0QHRlc3QuZGUiLCJwYXNzd29yZCI6IjA5OGY2YmNkNDYyMWQzNzNjYWRlNGU4MzI2MjdiNGY2In1dLCJpYXQiOjE2MDkwNjE2MjJ9.XBWOvX8OceGmx8u77YfsyQtupYYO9p9mUurvIqqwgdk\" } In der Datenbank sehen Sie den Eintrag: Nach dem Registrieren k\u00f6nnen Sie auch das EInloggen testen. Geben Sie als POST -Anfrage http://localhost:4000/user/login ein und senden Sie im body (als JSON ) die Daten { \"username\" : \"test\" , \"password\" : \"test\" } mit: Die Response hat die folgende Form: { \"status\" : 1 , \"data\" : [ { \"id\" : 1 , \"username\" : \"test\" , \"email\" : \"test@test.de\" , \"password\" : \"098f6bcd4621d373cade4e832627b4f6\" } ], \"token\" : \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjpbeyJpZCI6MSwidXNlcm5hbWUiOiJ0ZXN0IiwiZW1haWwiOiJ0ZXN0QHRlc3QuZGUiLCJwYXNzd29yZCI6IjA5OGY2YmNkNDYyMWQzNzNjYWRlNGU4MzI2MjdiNGY2In1dLCJpYXQiOjE2MDkwNjE2MjJ9.XBWOvX8OceGmx8u77YfsyQtupYYO9p9mUurvIqqwgdk\" } Das Backend erzwugt den JWT bei jedem Login neu. Es gibt also ein Session-JWT . Eine andere M\u00f6glichkeit w\u00e4re, das JWT beim Registrieren zu erzeugen und eebenfalls in der Datenbank abzuspeichern und es dann immer mitzuschicken. Wir schauen uns nun nochmal die user.js genauer an: model/user.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 const express = require ( 'express' ); const router = express . Router (); const md5 = require ( 'md5' ); const jwt = require ( 'jsonwebtoken' ); const mysql = require ( 'mysql' ); const con = mysql . createConnection ({ host : \"localhost\" , user : \"root\" , password : \"IhrPasswort\" , database : \"login\" }); router . post ( '/register' , async function ( req , res , next ) { try { let { username , email , password } = req . body ; const hashed_password = md5 ( password . toString ()) const checkUsername = `Select username FROM users WHERE username = ?` ; con . query ( checkUsername , [ username ], ( err , result , fields ) => { if ( ! result . length ){ const sql = `Insert Into users (username, email, password) VALUES ( ?, ?, ? )` con . query ( sql , [ username , email , hashed_password ], ( err , result , fields ) =>{ if ( err ){ res . send ({ status : 0 , data : err }); } else { let token = jwt . sign ({ data : result }, 'secret' ) res . send ({ status : 1 , data : result , token : token }); } }) } }); } catch ( error ) { res . send ({ status : 0 , error : error }); } }); router . post ( '/login' , async function ( req , res , next ) { try { let { username , password } = req . body ; const hashed_password = md5 ( password . toString ()) const sql = `SELECT * FROM users WHERE username = ? AND password = ?` con . query ( sql , [ username , hashed_password ], function ( err , result , fields ){ if ( err ){ res . send ({ status : 0 , data : err }); } else { let token = jwt . sign ({ data : result }, 'secret' ) res . send ({ status : 1 , data : result , token : token }); } }) } catch ( error ) { res . send ({ status : 0 , error : error }); } }); module . exports = router ; In den Zeilen 6-11 definieren wir den Zugang zur Datenbank. Achten Sie hier auf das richtige Passwort und den korrekten Namen der Datenbank. In den zeilen 12-35 wird die Registrierungs -Funktion definiert und in den zeilen 37-55 die Login -Funktion. In der Registrierungsfunktion wird zun\u00e4chst \u00fcberpr\u00fcft, ob der username bereits in der Datenbank existiert (Zeilen 16-17 ). Wenn nicht, wird der Nutzer in der Datenbank angelegt (Zeilen 19-20 ) und das JWT wird erzeugt (Zeile 26 ). Die Daten und das JWT werden vom Backend zusammen mit dem status: 1 als Response zur\u00fcckgeschickt, wenn alles fehlerlos geklappt hat. Beachten Sie, dass beim Erstellen des JWT als \"sichere\" Passphrase das Wort secret verwendet wird (Zeile 26 ). Das Pasowrt wird mittels md5 gehasht - es wird also verschl\u00fcsselt abgelegt (Zeile 15 ). Die Login-Funktion ist der Registrierungs-Funktion sehr \u00e4hnlich. Es wird der passende username in der Datenbank gesucht und das gehashte Passowrt verglichen. Auch hier wird ein JWT erzeugt.","title":"Backend testen"},{"location":"jwt/#login-frontend","text":"F\u00fcr das Frontend erstellen wir uns ein Formular zur Registrierung und ein Formular f\u00fcr das Login. Das JWT, das wir vom Webserver erhalten, speichern wir lokal ab. Dazu verwenden wir localStorage . Wir nennen unser Frontend loginfrontend : ng new loginfrontend Wir erzeugen uns zwei Komponenten, eine f\u00fcr die Registrierung und die andere f\u00fcr das Login: cd loginfrontend ng g c login ng g c register Wir binden beide Komponenten \u00fcber Routing ein. In der app-routing.module.ts definieren wir dazu: app-module.routing.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { LoginComponent } from './login/login.component' ; import { RegisterComponent } from './register/register.component' ; const routes : Routes = [ { path : 'login' , component : LoginComponent }, { path : 'register' , component : RegisterComponent }, ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } Damit die Formulare schicker aussehen, binden wir Bootstrap ein: npm install --save bootstrap npm install --save jquery npm install --save popper.js In der angular.json Bootstrap hinzuf\u00fcgen: angular.json (Auszug) 1 2 3 4 5 6 7 8 9 10 11 12 \"assets\" : [ \"src/favicon.ico\" , \"src/assets\" ] , \"styles\" : [ \"./node_modules/bootstrap/dist/css/bootstrap.css\" , \"src/styles.css\" ] , \"scripts\" : [ \"./node_modules/jquery/dist/jquery.js\" , \"./node_modules/bootstrap/dist/js/bootstrap.js\" ] Die Zeilen m\u00fcssen zwei Mal eingef\u00fcgt werden. Einmal unter \"build\" und einmal unter \"test\" . Achten Sie darauf, zun\u00e4chst jQuery einzubinden und erst dann bootstrap.js .","title":"Login-Frontend"},{"location":"jwt/#services-im-frontend","text":"Wir erstellen uns zwei Services. Der eine Service api ist f\u00fcr die Kommunikation mit dem Backend zust\u00e4ndig. Der andere Service auth legt den Token im localStorage ab und holt ihn auch von dort. ng g service services/auth ng g service services/api In der services/api.service.ts : services/api.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 import { Injectable } from '@angular/core' ; import { environment } from '../../environments/environment' ; import { HttpClient } from '@angular/common/http' ; import { map } from 'rxjs/operators' ; @ Injectable ({ providedIn : 'root' }) export class ApiService { baseUrl = 'http://localhost:4000/' ; constructor ( private http : HttpClient ) {} postTypeRequest ( url , payload ) : any { return this . http . post ( ` ${ this . baseUrl }${ url } ` , payload ). pipe ( map ( res => { return res ; })); } } In der services/auth.service.ts : services/auth.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 import { Injectable } from '@angular/core' ; @ Injectable ({ providedIn : 'root' }) export class AuthService { constructor () { } getUserDetails () : any { return localStorage . getItem ( 'userData' ) ? JSON . parse ( localStorage . getItem ( 'userData' )) : null ; } setDataInLocalStorage ( variableName , data ) : any { localStorage . setItem ( variableName , data ); } clearStorage () : any { localStorage . clear (); } } Mit der getUserDetails() -Funktion laden wir die userData aus dem localStorage , mit der setDataInLocalStorage() -Funktion speichern wir die userData im localStorage und clearStorage() l\u00f6scht den gesamten localStorage .","title":"Services im Frontend"},{"location":"jwt/#registrierungs-komponente","text":"In der Registrierungskomponente erstellen wir das Formular zur Registrierung und rufen mit den eingebgebenen Daten das Backend zur Registrierung auf. In der register.component.ts : src/app/register/register.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 import { Component , OnInit } from '@angular/core' ; import { ApiService } from './../services/api.service' ; import { AuthService } from './../services/auth.service' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { Router } from '@angular/router' ; @ Component ({ selector : 'app-register' , templateUrl : './register.component.html' , styleUrls : [ './register.component.css' ] }) export class RegisterComponent implements OnInit { isLogin = false ; errorMessage ; registerForm : FormGroup ; submitted = false ; constructor ( private formBuilder : FormBuilder , private api : ApiService , private auth : AuthService , private router : Router ) { } // convenience getter for easy access to form fields get f () : any { return this . registerForm . controls ; } ngOnInit () : void { this . registerForm = this . formBuilder . group ({ username : [ '' , Validators . required ], email : [ '' , Validators . required ], password : [ '' , Validators . required ] }); this . isUserLogin (); } onSubmit () : void { this . submitted = true ; console . log ( 'Your form data : ' , this . registerForm . value ); this . api . postTypeRequest ( 'user/register' , this . registerForm . value ). subscribe (( res : any ) => { if ( res . status ) { console . log ( res ); this . auth . setDataInLocalStorage ( 'userData' , JSON . stringify ( res . data )); this . auth . setDataInLocalStorage ( 'token' , res . token ); this . router . navigate ([ 'login' ]); } else { console . log ( res ); alert ( res . msg ); } }, err => { this . errorMessage = err . error . message ; }); } isUserLogin () : void { if ( this . auth . getUserDetails () != null ){ this . isLogin = true ; } } } Im Konstruktor (Zeilen 18-23 ) werden die beiden Services, der FormBuilder und das Router -Modul per dependency injection eingebunden. In der ngOnInit() -Funktion (Zeilen 28-35 ) definieren wir das Formular bestehend aus den FormControls username , email und password . Das gesamte Formular ist in der Eigenschaft registerForm gespeichert (Zeile 15 ). F\u00fcr den Zugriff auf die einzelnen FormControls defineiren wir noch einen Getter f() , der uns Schreibarbeit in der register.component.html erspart ( f() gibt uns ein Objekt der drei FormControls des Formulars zur\u00fcck). Die Funktion onSubmit() wird aufgerufen, wenn das Formular abgeschickt wird. In Zeile 39 geben wir die Daten des Formulars auf die Konsole aus (nur f\u00fcr Debug-Zwecke). In den Zeilen 40-52 rufen wir die Funktion postTypeRequest aus unserem api -Service auf. Darin \u00fcbergeben wir alle Daten aus dem Formular. Wenn alles klappt ( status der Response ist 1 ), dann speichern wir alle Daten lokal unter userData (Zeile 43 ) und das JWT nochmal extra unter token (Zeile 44 ). Danach rufen wir die Route login auf, wechseln also zur Login-Komponente. Das Template der Registrierungs-Komponente sieht wie folgt aus: src/app/register/register.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 < div class = 'row m-0 w-100' > < div class = 'col-md-4 offset-4 mt-5' * ngIf = '!this.isLogin' > < h4 > Register </ h4 > < form [ formGroup ]=\" registerForm \" ( ngSubmit )=\" onSubmit ()\" > < div class = 'form-group' > < input class = 'form-control' type = \"text\" formControlName = \"username\" name = \"username\" placeholder = \"Username\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . username . errors }\" /> < div * ngIf = \"submitted && f.username.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.username.errors.required\" > Username is required </ div > </ div > </ div > < div class = 'form-group' > < input class = 'form-control' type = \"email\" formControlName = \"email\" name = \"email\" placeholder = \"Email\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . email . errors }\" /> < div * ngIf = \"submitted && f.email.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.email.errors.required\" > E-Mail is required </ div > </ div > </ div > < div class = 'form-group' > < input class = 'form-control' type = \"password\" formControlName = \"password\" name = \"password\" placeholder = \"Password\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . password . errors }\" /> < div * ngIf = \"submitted && f.password.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.password.errors.required\" > Password is required </ div > </ div > </ div > < input class = 'btn btn-outline-info' type = \"submit\" value = \"Register\" > </ form > </ div > < div class = 'col-md-4 offset-4 mt-5' * ngIf = 'this.isLogin' > < h5 > You are logged in </ h5 > </ div > </ div > Die Direktive *ngIf = '!this.isLogin' in Zeile 2 pr\u00fcft den Status der Eigenschaft isLogin . Diese ist am Angang false (siehe register.component.ts in Zeile 13 ). Durch die isUserLogin() -Funktion der register.component.ts (Zeilen 55-59 ) kann der Wert auf true gesetzt werden, wenn der auth -Service userData gespeichert hat. F\u00fcr den Fall. dass isLogin den Wert true hat, zeigt die Registrierungs-Komponente You are logged in an (Zeilen 26-28 ). Wenn nicht, erscheint das Registrierungsformular (Zeilen 2-25 ). Beim Absenden des Formulars wird die onSubmit() -Funktion aus register.component.ts aufgerufen. F\u00fcr die einzelnen Eingabefelder wird ein Atrributbinding definiert: Falls das Formular abgeschickt wurde ( submitted ) und aber Fehler existieren (z.B. f.username.errors ), wird dem entsprechenden Eingabefeld die Bootstrap-Klasse is-invalid zugeordnet und es erscheint die darunter definierte Fehlerausgabe. Hier findet auch die f() -Funktion ihre Anwendung.","title":"Registrierungs-Komponente"},{"location":"jwt/#login-komponente","text":"Die Login-Komponente hat starke \u00c4hnlichkeit mit der Registrierungs-Komponente. Das Formular enth\u00e4lt jedoch keinen Eintrag f\u00fcr die E-Mail und es wird eine ander URL im Backend aufgerufen user/login anstelle von user/rgister . Au\u00dferdem stellt die Login-Komponente noch einen Button Log-out zur Verf\u00fcgung, der ein Ausloggen erm\u00f6glicht ( logout() -Funktion). Das Ausloggen wird hier dadurch simuliert, dass der localStorage gel\u00f6scht wird. Ansonsten sehen sich swohl die ts - als auch die html -Datei sehr \u00e4hnlich: src/app/login/login.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 import { Component , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { ApiService } from './../services/api.service' ; import { AuthService } from './../services/auth.service' ; import { Router } from '@angular/router' ; @ Component ({ selector : 'app-login' , templateUrl : './login.component.html' , styleUrls : [ './login.component.css' ] }) export class LoginComponent implements OnInit { isLogin = false ; errorMessage ; loginForm : FormGroup ; submitted = false ; constructor ( private formBuilder : FormBuilder , private api : ApiService , private auth : AuthService , private router : Router ) { } ngOnInit () : void { this . loginForm = this . formBuilder . group ({ username : [ '' , Validators . required ], password : [ '' , Validators . required ] }); this . isUserLogin (); } // convenience getter for easy access to form fields get f () : any { return this . loginForm . controls ; } onSubmit () : void { this . submitted = true ; console . log ( 'Your form data : ' , this . loginForm . value ); this . api . postTypeRequest ( 'user/login' , this . loginForm . value ). subscribe (( res : any ) => { if ( res . status ) { console . log ( res ); this . auth . setDataInLocalStorage ( 'userData' , JSON . stringify ( res . data )); this . auth . setDataInLocalStorage ( 'token' , res . token ); this . router . navigate ([ '' ]); } else { } }, err => { this . errorMessage = err . error . message ; }); } isUserLogin () : void { console . log ( this . auth . getUserDetails ()); if ( this . auth . getUserDetails () != null ){ this . isLogin = true ; } } logout () : void { this . auth . clearStorage (); this . router . navigate ([ '' ]); } } src/app/login/login.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 < div class = 'row m-0 w-100' > < div class = 'col-md-4 offset-4 mt-5' * ngIf = '!this.isLogin' > < h4 > Login </ h4 > < form [ formGroup ]=\" loginForm \" ( ngSubmit )=\" onSubmit ()\" > < div class = 'form-group' > < input class = 'form-control' type = \"text\" formControlName = \"username\" name = \"username\" placeholder = \"Username\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . username . errors }\" /> < div * ngIf = \"submitted && f.username.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.username.errors.required\" > Username is required </ div > </ div > </ div > < div class = 'form-group' > < input class = 'form-control' type = \"password\" formControlName = \"password\" name = \"password\" placeholder = \"Password\" [ ngClass ]=\"{ ' is-invalid ' : submitted && f . password . errors }\" /> < div * ngIf = \"submitted && f.password.errors\" class = \"invalid-feedback\" > < div * ngIf = \"f.password.errors.required\" > Password is required </ div > </ div > </ div > < input class = 'btn btn-outline-info' type = \"submit\" value = \"Login\" > </ form > </ div > < div class = 'col-md-4 offset-4 mt-5' * ngIf = 'this.isLogin' > < h1 > You are logged in </ h1 > < button class = 'btn btn-outline-info' ( click ) = ' logout ()' > Log-out </ button > </ div > </ div > Die app.component.html k\u00f6nnen Sie sich gestalten, wie Sie m\u00f6chten. Eine M\u00f6glichkeit w\u00e4re so: app.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 < nav class = \"navbar navbar-expand-lg navbar-light bg-light\" > < a class = \"navbar-brand\" [ routerLink ] = \"['/']\" routerLinkActive = \"active\" > Home </ a > < button class = \"navbar-toggler\" type = \"button\" data-toggle = \"collapse\" data-target = \"#navbarNav\" aria-controls = \"navbarNav\" aria-expanded = \"false\" aria-label = \"Toggle navigation\" > < span class = \"navbar-toggler-icon\" ></ span > </ button > < div class = \"collapse navbar-collapse\" id = \"navbarNav\" > < ul class = \"navbar-nav\" > < li class = \"nav-item\" > < a class = \"nav-link\" [ routerLink ] = \"[' login ']\" routerLinkActive = \"active\" > Login </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" [ routerLink ] = \"[' register ']\" routerLinkActive = \"active\" > Register </ a > </ li > </ ul > </ div > </ nav > < router-outlet ></ router-outlet > Die entsprechenden Seiten sehen dann so aus:","title":"Login-Komponente"},{"location":"jwt/#ausblick","text":"Beachten Sie, dass das Beispiel bewusst einfach gehalten wurde. Es fehlen mehrere Sachen: wir reagieren im Frontend gar nicht auf Fehler des Backends, d.h. es fehlen z.B. Reaktionen beim Registrieren, falls der username bereits existiert, Reaktionen beim Login, falls das Passwort nicht korrekt ist wir haben keine Zugriffssteuerung definiert, d.h. es fehlt noch eine Seite (Komponente), auf die nur dann zugegriffen werden kann, wenn der Nutzer eingeloggt ist Die Fehlerpunkte w\u00e4ren sicherlich eine gute \u00dcbung f\u00fcr Sie. Den letzten Punkt betrachten wir beim n\u00e4chsten Mal. Allerdings kann man JWT auch noch so erweitern, dass bestimmte Rollen hinterlegt und abgefraget werden k\u00f6nnen. Das werden wir uns nicht anschauen. Aber vielleicht haben Sie ja bereits selbst Ideen, wie das geschehen kann. Die Nutzerdaten m\u00fcssten ja nur im ein Attribut role erweitert und abgefragt werden. Umfassende Informationen dar\u00fcber finden Sie im JWT-Handbuch .","title":"Ausblick"},{"location":"jwt/#dowmloads-der-aktuellen-versionen","text":"Clonen von Github: loginfrontend loginbackend im Folgenden wird auf diesen Versionen aufgebaut.","title":"Dowmloads der aktuellen Versionen"},{"location":"jwt/#zugriff-nur-bei-login","text":"UserService ng g s services/user UserComponent ng g c user Bearer Authentication","title":"Zugriff nur bei Login"},{"location":"material/","text":"Material f\u00fcr Angular \u00b6 Wir haben f\u00fcr unser frontend in \u00dcbung 6 bereits Material als CSS-Framework verwendet und wollen dieses hier n\u00e4her untersuchen, um Angular unter Zuhilfenahme von Material besser kennenzulernen. Zun\u00e4chst nochmal, wie man einer existierenden Anwendung Material hinzuf\u00fcgt: ng add @angular/material In der angular.json werden dann unter \"projects\"-->\"architect\"-->\"build\" und unter \"projects\"-->\"architect\"-->\"test\" die \"styles\" wie folgt konfiguriert: \"styles\" : [ \"./node_modules/@angular/material/prebuilt-themes/indigo-pink.css\" , \"src/styles.css\" ] , Dabei h\u00e4ngt es jedoch davon ab, welches prebuilt-theme Sie gew\u00e4hlt haben. Es gibt diese vier vorgefertigten Themen: deeppurple-amber.css indigo-pink.css pink-bluegrey.css purple-green.css Einen \u00dcberblick \u00fcber die unterschiedlichen Komponenten, die Material bereitstellt, finden Sie hier . Wir werden einige davon im folgenden verwenden. Material Schematics \u00b6 Ein gro\u00dfer Vorteil von Material ist, dass dieses Framework bereits sogenannte Schematics liefert, welche vorgefertigte Komponenten erstellen k\u00f6nnen. In \u00dcbung 6 haben wir bereits das Schema navigation verwendet. Wir setzen auf die L\u00f6sung von \u00dcbung 6 auf. Wir betrachten zun\u00e4chst nochmal den aktuellen Stand dieser L\u00f6sung. Die app.component.html sah so aus (je, nachdem, wie Sie Ihren Projekt-Prefix gew\u00e4hlt haben - hier jf ): /src/app/app.component.html < jf-nav ></ jf-nav > < h1 > Tis is app </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < router-outlet ></ router-outlet > Es wird also zun\u00e4chst die Navigationskomponente eingebunden und dann kommen noch eine \u00dcberschrift und ein Slider. In der Anwendung sieht man aber diese Sachen nicht mehr: Das liegt daran, dass wir unsere Inhalte nun in die Navigationskomponente einf\u00fcgen m\u00fcssen. Die App-Komponente enth\u00e4lt nur noch den Komponentenselektor f\u00fcr die Navigationskomponente: /src/app/app.component.html < jf-nav ></ jf-nav > /src/app/nav/nav.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 < mat-sidenav-container class = \"sidenav-container\" > < mat-sidenav # drawer class = \"sidenav\" fixedInViewport [ attr . role ]=\"( isHandset $ | async ) ? ' dialog ' : ' navigation '\" [ mode ]=\"( isHandset $ | async ) ? ' over ' : ' side '\" [ opened ]=\"( isHandset $ | async ) === false \" > < mat-toolbar > Menu </ mat-toolbar > < mat-nav-list > < a mat-list-item href = \"#\" > Link 1 </ a > < a mat-list-item href = \"#\" > Link 2 </ a > < a mat-list-item href = \"#\" > Link 3 </ a > </ mat-nav-list > </ mat-sidenav > < mat-sidenav-content > < mat-toolbar color = \"primary\" > < button type = \"button\" aria-label = \"Toggle sidenav\" mat-icon-button ( click )=\" drawer . toggle ()\" * ngIf = \"isHandset$ | async\" > < mat-icon aria-label = \"Side nav toggle icon\" > menu </ mat-icon > </ button > < span > Frontend </ span > </ mat-toolbar > <!-- Add Content Here --> < h1 > Tis is nav-Content </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < router-outlet ></ router-outlet > <!-- end of nav-Content --> </ mat-sidenav-content > </ mat-sidenav-container > Das ist dann auch sichtbar: Ehe wir uns mit dem Routing besch\u00e4ftigen, erstellen wir zun\u00e4chst noch zwei weitere Komponenten. Table \u00b6 Ein weiteres Schema, das wir verwenden wollen, ist das table -Schema von Material. In unserem Ordner frontend2 rufen wir ng generate @angular/material:table table Um diese Komponente zu testen, binden wir sie zun\u00e4chst in unsere nav -Komponente ein (Beachten Sie, dass Ihr Prefix anders ist). /src/app/nav/nav.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 < mat-sidenav-container class = \"sidenav-container\" > < mat-sidenav # drawer class = \"sidenav\" fixedInViewport [ attr . role ]=\"( isHandset $ | async ) ? ' dialog ' : ' navigation '\" [ mode ]=\"( isHandset $ | async ) ? ' over ' : ' side '\" [ opened ]=\"( isHandset $ | async ) === false \" > < mat-toolbar > Menu </ mat-toolbar > < mat-nav-list > < a mat-list-item href = \"#\" > Link 1 </ a > < a mat-list-item href = \"#\" > Link 2 </ a > < a mat-list-item href = \"#\" > Link 3 </ a > </ mat-nav-list > </ mat-sidenav > < mat-sidenav-content > < mat-toolbar color = \"primary\" > < button type = \"button\" aria-label = \"Toggle sidenav\" mat-icon-button ( click )=\" drawer . toggle ()\" * ngIf = \"isHandset$ | async\" > < mat-icon aria-label = \"Side nav toggle icon\" > menu </ mat-icon > </ button > < span > Frontend </ span > </ mat-toolbar > <!-- Add Content Here --> < h1 > Tis is nav-Content </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < jf-table ></ jf-table > < router-outlet ></ router-outlet > <!-- end of nav-Content --> </ mat-sidenav-content > </ mat-sidenav-container > Die Tabelle erscheint so: Wir \u00e4ndern die Tabelle und f\u00fcgen eigene Daten ein, um uns mit der Komponente vertraut zu machen. Wir \u00f6ffnen src/app/table/table-datasource.ts . Je nach verwendeter Angular-Version sehen einige von Ihnen, dass diese Datei Fehler enth\u00e4lt. Die Funktionen sind rot unterstrichen. Das liegt daran, dass nun auch Funktionen typisiert werden m\u00fcssen. Wir f\u00fcgen die R\u00fcckgabetypen f\u00fcr die Funktionen deshalb zun\u00e4chst ein: src/app/table/table-datasource.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 import { DataSource } from '@angular/cdk/collections' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { map } from 'rxjs/operators' ; import { Observable , of as observableOf , merge } from 'rxjs' ; // TODO: Replace this with your own data model type export interface TableItem { name : string ; id : number ; } // TODO: replace this with real data from your application const EXAMPLE_DATA : TableItem [] = [ { id : 1 , name : 'Hydrogen' }, { id : 2 , name : 'Helium' }, { id : 3 , name : 'Lithium' }, { id : 4 , name : 'Beryllium' }, { id : 5 , name : 'Boron' }, { id : 6 , name : 'Carbon' }, { id : 7 , name : 'Nitrogen' }, { id : 8 , name : 'Oxygen' }, { id : 9 , name : 'Fluorine' }, { id : 10 , name : 'Neon' }, { id : 11 , name : 'Sodium' }, { id : 12 , name : 'Magnesium' }, { id : 13 , name : 'Aluminum' }, { id : 14 , name : 'Silicon' }, { id : 15 , name : 'Phosphorus' }, { id : 16 , name : 'Sulfur' }, { id : 17 , name : 'Chlorine' }, { id : 18 , name : 'Argon' }, { id : 19 , name : 'Potassium' }, { id : 20 , name : 'Calcium' }, ]; /** * Data source for the Table view. This class should * encapsulate all logic for fetching and manipulating the displayed data * (including sorting, pagination, and filtering). */ export class TableDataSource extends DataSource < TableItem > { data : TableItem [] = EXAMPLE_DATA ; paginator : MatPaginator ; sort : MatSort ; constructor () { super (); } /** * Connect this data source to the table. The table will only update when * the returned stream emits new items. * @returns A stream of the items to be rendered. */ connect () : Observable < TableItem [] > { // Combine everything that affects the rendered data into one update // stream for the data-table to consume. const dataMutations = [ observableOf ( this . data ), this . paginator . page , this . sort . sortChange ]; return merge (... dataMutations ). pipe ( map (() => { return this . getPagedData ( this . getSortedData ([... this . data ])); })); } /** * Called when the table is being destroyed. Use this function, to clean up * any open connections or free any held resources that were set up during connect. */ disconnect () : void {} /** * Paginate the data (client-side). If you're using server-side pagination, * this would be replaced by requesting the appropriate data from the server. */ private getPagedData ( data : TableItem []) : TableItem [] { const startIndex = this . paginator . pageIndex * this . paginator . pageSize ; return data . splice ( startIndex , this . paginator . pageSize ); } /** * Sort the data (client-side). If you're using server-side sorting, * this would be replaced by requesting the appropriate data from the server. */ private getSortedData ( data : TableItem []) : TableItem [] { if ( ! this . sort . active || this . sort . direction === '' ) { return data ; } return data . sort (( a , b ) => { const isAsc = this . sort . direction === 'asc' ; switch ( this . sort . active ) { case 'name' : return compare ( a . name , b . name , isAsc ); case 'id' : return compare ( + a . id , + b . id , isAsc ); default : return 0 ; } }); } } /** Simple sort comparator for example ID/Name columns (for client-side sorting). */ function compare ( a : string | number , b : string | number , isAsc : boolean ) : number { return ( a < b ? - 1 : 1 ) * ( isAsc ? 1 : - 1 ); } Wir werden die Komponente nun dahingehend \u00e4ndern, dass unsere Mockup-Daten aus den vorherigen \u00dcbungen dargestellt werden, also diese hier: mockup-data aus den vorherigen \u00dcbungen [ { id: 1, forename: 'Catherine', surname: 'Williams', email: 'cwilliamsl@360.cn' }, { id: 2, forename: 'Adam', surname: 'Anderson', email: 'aanderson8@google.fr' }, { id: 3, forename: 'Susan', surname: 'Andrews', email: 'sandrewsn@google.co.jp' }, { id: 4, forename: 'Catherine', surname: 'Andrews', email: 'candrewsp@noaa.gov' }, { id: 5, forename: 'Alan', surname: 'Bradley', email: 'abradley1c@globo.com' }, { id: 6, forename: 'Anne', surname: 'Brooks', email: 'abrooks16@bravesites.com' }, { id: 7, forename: 'Russell', surname: 'Brown', email: 'rbrownq@nifty.com' }, { id: 8, forename: 'Ryan', surname: 'Burton', email: 'rburton18@foxnews.com' }, { id: 9, forename: 'Roy', surname: 'Campbell', email: 'rcampbell1@geocities.com' }, { id: 10, forename: 'Russell', surname: 'Campbell', email: 'rcampbell17@eventbrite.com' }, { id: 11, forename: 'Bonnie', surname: 'Coleman', email: 'bcoleman11@fc2.com' }, { id: 12, forename: 'Ernest', surname: 'Coleman', email: 'ecoleman15@businessweek.com' }, { id: 13, forename: 'Richard', surname: 'Cruz', email: 'rcruz7@unc.edu' }, { id: 14, forename: 'Sean', surname: 'Cruz', email: 'scruz10@answers.com' }, { id: 15, forename: 'Rebecca', surname: 'Cunningham', email: 'rcunninghamd@mac.com' }, { id: 16, forename: 'Margaret', surname: 'Evans', email: 'mevansh@pcworld.com' }, { id: 17, forename: 'Jeffrey', surname: 'Ford', email: 'jford14@cnet.com' }, { id: 18, forename: 'Andrea', surname: 'Gardner', email: 'agardnerv@woothemes.com' }, { id: 19, forename: 'Deborah', surname: 'George', email: 'dgeorge6@furl.net' }, { id: 20, forename: 'Sean', surname: 'Gibson', email: 'sgibsony@alexa.com' }, { id: 21, forename: 'Virginia', surname: 'Graham', email: 'vgrahamk@aol.com' }, { id: 22, forename: 'Steven', surname: 'Hamilton', email: 'shamiltonu@state.tx.us' }, { id: 23, forename: 'Virginia', surname: 'Hawkins', email: 'vhawkinsf@ehow.com' }, { id: 24, forename: 'Edward', surname: 'Hicks', email: 'ehicksc@pcworld.com' }, { id: 25, forename: 'Mark', surname: 'Johnson', email: 'mjohnsonj@hostgator.com' }, { id: 26, forename: 'Ruth', surname: 'Jordan', email: 'rjordan1a@smugmug.com' }, { id: 27, forename: 'Antonio', surname: 'Kim', email: 'akim4@odnoklassniki.ru' }, { id: 28, forename: 'Jennifer', surname: 'Marshall', email: 'jmarshallt@gnu.org' }, { id: 29, forename: 'Eric', surname: 'Matthews', email: 'ematthews5@independent.co.uk' }, { id: 30, forename: 'Raymond', surname: 'Mcdonald', email: 'rmcdonald2@ihg.com' }, { id: 31, forename: 'Eric', surname: 'Miller', email: 'emillere@creativecommons.org' }, { id: 32, forename: 'Jonathan', surname: 'Morales', email: 'jmoralesa@ovh.net' }, { id: 33, forename: 'Marie', surname: 'Morgan', email: 'mmorganb@cloudflare.com' }, { id: 34, forename: 'Amanda', surname: 'Nelson', email: 'anelson13@indiatimes.com' }, { id: 35, forename: 'Lisa', surname: 'Olson', email: 'lolsonr@telegraph.co.uk' }, { id: 36, forename: 'Alice', surname: 'Ortiz', email: 'aortizw@histats.com' }, { id: 37, forename: 'Peter', surname: 'Phillips', email: 'pphillipss@1688.com' }, { id: 38, forename: 'Matthew', surname: 'Porter', email: 'mporter9@europa.eu' }, { id: 39, forename: 'Tammy', surname: 'Ray', email: 'trayx@weather.com' }, { id: 40, forename: 'Mark', surname: 'Richardson', email: 'mrichardson1d@ihg.com' }, { id: 41, forename: 'Joan', surname: 'Roberts', email: 'jroberts12@alibaba.com' }, { id: 42, forename: 'Kathleen', surname: 'Rose', email: 'kroseg@pinterest.com' }, { id: 43, forename: 'Steve', surname: 'Sanders', email: 'ssanders1b@wikispaces.com' }, { id: 44, forename: 'Shirley', surname: 'Scott', email: 'sscottm@macromedia.com' }, { id: 45, forename: 'Lillian', surname: 'Stephens', email: 'lstephens19@hugedomains.com' }, { id: 46, forename: 'Nicole', surname: 'Thompson', email: 'nthompson3@admin.ch' }, { id: 47, forename: 'Marie', surname: 'Thompson', email: 'mthompsonz@yelp.com' }, { id: 48, forename: 'Alan', surname: 'Vasquez', email: 'avasquezo@miibeian.gov.cn' }, { id: 49, forename: 'Mildred', surname: 'Watkins', email: 'mwatkins0@miibeian.gov.cn' }, { id: 50, forename: 'Eugene', surname: 'Williams', email: 'ewilliamsi@deliciousdays.com' } ] ; Ersetzen Sie das EXAMPLE_DATA -Array in table-datasource.ts durch obiges Array. Das Ersetzen der Arrays f\u00fchrt zu vielen Fehlern in table-datasource.ts . Insbesondere sind z.B. die forename -Eigenschaften rot unterstrichen. Das liegt daran, dass das interface TableItem nicht mit dem Datenmodell der Mockup-Daten \u00fcbereinstimmt. Wir m\u00fcssen also das Interface wie folgt anpassen: // TODO: Replace this with your own data model type export interface TableItem { id : number ; forename : string ; surname : string ; email : string ; } Jetzt stimmt die Sortiermethode sort() nicht mehr, da dort auf die Eigenschaft name zugegriffen wird, diese Eigenschaft aber nicht mehr existiert. Wir passen also die Sortierfunktion entsprechend an: private getSortedData ( data : TableItem []) : TableItem [] { if ( ! this . sort . active || this . sort . direction === '' ) { return data ; } return data . sort (( a , b ) => { const isAsc = this . sort . direction === 'asc' ; switch ( this . sort . active ) { case 'forename' : return compare ( a . forename , b . forename , isAsc ); case 'surname' : return compare ( a . surname , b . surname , isAsc ); case 'email' : return compare ( a . email , b . email , isAsc ); case 'id' : return compare ( + a . id , + b . id , isAsc ); default : return 0 ; } }); } Die Datei table-datasource.ts sollte nun fehlerfrei sein. Nun passen wir noch die table.component.html an. In ihr sind derzeit zwei Spalten f\u00fcr die Tabelle definiert, die id -Spalte und die name -Spalte (jeweils unter den entsprechenden HTML-Kommentaren). Kopieren Sie die name -Spalte und f\u00fcgern Sie sie zwei Mal in die table.component.html ein. Passen Sie die Eintr\u00e4ge entsprechend an. Die table.component.html sollte dann so aussehen: src/app/table/table.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 < div class = \"mat-elevation-z8\" > < table mat-table class = \"full-width-table\" matSort aria-label = \"Elements\" > <!-- Id Column --> < ng-container matColumnDef = \"id\" > < th mat-header-cell * matHeaderCellDef mat-sort-header > Id </ th > < td mat-cell * matCellDef = \"let row\" > {{row.id}} </ td > </ ng-container > <!-- forename Column --> < ng-container matColumnDef = \"forename\" > < th mat-header-cell * matHeaderCellDef mat-sort-header > Vorname </ th > < td mat-cell * matCellDef = \"let row\" > {{row.forename}} </ td > </ ng-container > <!-- surname Column --> < ng-container matColumnDef = \"surname\" > < th mat-header-cell * matHeaderCellDef mat-sort-header > Nachname </ th > < td mat-cell * matCellDef = \"let row\" > {{row.surname}} </ td > </ ng-container > <!-- email Column --> < ng-container matColumnDef = \"email\" > < th mat-header-cell * matHeaderCellDef mat-sort-header > E-Mail-Adresse </ th > < td mat-cell * matCellDef = \"let row\" > {{row.email}} </ td > </ ng-container > < tr mat-header-row * matHeaderRowDef = \"displayedColumns\" ></ tr > < tr mat-row * matRowDef = \"let row; columns: displayedColumns;\" ></ tr > </ table > < mat-paginator # paginator [ length ]=\" dataSource ?. data . length \" [ pageIndex ]=\" 0 \" [ pageSize ]=\" 50 \" [ pageSizeOptions ]=\"[ 25 , 50 , 100 , 250 ]\" > </ mat-paginator > </ div > Nun passen wir nur noch die table.componen.ts an. Dort m\u00fcssen wir mitteilen, welche Eigenschaften unseres Datensatzes f\u00fcr die einzelnen Spalten der Tabelle verwendet und entsprechend dargestellt werden. /** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */ displayedColumns = [ 'id' , 'forename' , 'surname' , 'email' ]; Auch in der table.component.ts sollten wir die Methoden noch typisieren. Beide Methoden sind void -Methoden. Es handelt sich dabei um sogenannte Lifecycle-Hooks . Die ngOnInit() -Funktion wird aufgerufen, wenn die Komponente initialisiert wird. Die ngAfterViewInit() -Funktion wird aufgerufen, nachdem unsere View , also die Tabellenansicht, initialisisert wurde. Die table.component.ts sollte nun so aussehen: src/app/table/table.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import { AfterViewInit , Component , OnInit , ViewChild } from '@angular/core' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { MatTable } from '@angular/material/table' ; import { TableDataSource , TableItem } from './table-datasource' ; @ Component ({ selector : 'jf-table' , templateUrl : './table.component.html' , styleUrls : [ './table.component.css' ] }) export class TableComponent implements AfterViewInit , OnInit { @ ViewChild ( MatPaginator ) paginator : MatPaginator ; @ ViewChild ( MatSort ) sort : MatSort ; @ ViewChild ( MatTable ) table : MatTable < TableItem > ; dataSource : TableDataSource ; /** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */ displayedColumns = [ 'id' , 'forename' , 'surname' , 'email' ]; ngOnInit () : void { this . dataSource = new TableDataSource (); } ngAfterViewInit () : void { this . dataSource . sort = this . sort ; this . dataSource . paginator = this . paginator ; this . table . dataSource = this . dataSource ; } } Unsere Seite sieht jetzt so aus: Beachten Sie, dass Sie die Tabellenzeilen sortieren k\u00f6nnen. Neben den Spalten\u00fcberschriften erscheinen bei Mouseover jeweils kleine Pfeile. Wenn Sie darauf klicken, werden die Tabellenzeilen entsprechend der Spaltensortierung angezeigt. Beachten Sie auch das Paginieren. Rechts unterhalb der Tabelle k\u00f6nnen Sie die Anzahl der Tabellenseite auf einer Seite \u00e4ndern (siehe in table.component.html die [pageSizeOptions]=\"[25, 50, 100, 250] f\u00fcr den paginator ) und Sie k\u00f6nnen durch die Seiten bl\u00e4ttern. Ausblick: Wir haben die Daten hier clientseitig geladen, also nicht vom Server. Das werden wir sp\u00e4ter \u00e4ndern. Zun\u00e4chst schauen wir uns aber mal das Routing an. Routing \u00b6 Sie haben sich vielleicht schon gefragt, wozu der <router-outlet></router-outlet> -Selektor da ist, der bei uns in der nav.component.html enthalten ist. Wir wollen jetzt Komponenten \u00fcber die URL ansprechen, also z.B. im Browser localhost:4200/table angeben und nur unter dieser URL soll unsere Tabelle erscheinen. In Vorbereitung darauf, entfernen wir zun\u00e4chst den Komponentenselektor f\u00fcr die Tabellen-Komponente aus der nav.component.html : Ausschnitt aus nav.component.html 25 26 27 28 29 30 31 32 <!-- Add Content Here --> < h1 > Tis is nav-Content </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > <!-- <jf-table></jf-table> geloescht --> < router-outlet ></ router-outlet > <!-- end of nav-Content --> Jetzt sieht man die Tabelle nicht mehr. Wir binden Sie aber gleich \u00fcber den <router-outlet></router-outlet> -Selektor wieder ein, wenn wir n\u00e4mlich die URL localhost:4200/table aufrufen. Dies wird Routing genannt. Um eine solche Route anzulegen, \u00f6ffnen wir die Datei src/app/app-routing.module.ts . src/app/app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { TableComponent } from './table/table.component' ; const routes : Routes = [ { path : 'table' , component : TableComponent } ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } Geben Sie Zeile 6 ein und lassen Sie den Import (Zeile 3 ) durch Ihre IDE erledigen. Wir haben uns eine neue Route angelegt. Wenn wir nun im Browser an die URL localhost:4200 noch /table anh\u00e4ngen, wird die Tabellen-Komponente \u00fcber den <router-outlet></router-outlet> -Selektor eingebunden und angezeigt. \u00d6ffnen Sie die nav.component.html . Darin passen wir die Liste der Links ( <mat-nav-list> ) an. F\u00fcr Routen verwenden wir nicht href , sondern routerLinks . Die Liste soll so aussehen: Ausschnitt aus nav.component.html 7 8 9 10 11 < mat - nav - list > < a mat - list - item routerLink = \"/\" > Home < /a> < a mat - list - item routerLink = \"/table\" > Tabelle < /a> < a mat - list - item href = \"#\" > Link 3 < /a> < /mat-nav-list> Nun k\u00f6nnen wir die Navigations-komponente verwenden, um zwischen den Routen / und /table zu wechseln. Service \u00b6 Derzeit sind unsere MockUp-Daten statisch in der table-datasource.ts gespeichert. Wir wollen aber die Datenverwaltung (Speicherung und Bereitstellung) unabh\u00e4ngig von einer Komponente gestalten und allen Komponenten einen entsprechenden Service anbieten. Dazu erstellen wir uns einen solchen und legen diesen unter shared ab, da sich alle Komponenten diesen Service teilen (k\u00f6nnen). ng g service shared/data Es entsteht der shared -Ordner, der zwei Dateien enth\u00e4lt, die data.service.ts und die data.service.spec.ts . Letztere ist zum Testen und interessiert uns erstmal nicht. Schauen wir uns die data.service.ts einmal an: src/shared/data.service.ts 1 2 3 4 5 6 7 8 9 import { Injectable } from '@angular/core' ; @ Injectable ({ providedIn : 'root' }) export class DataService { constructor () { } } F\u00fcr Services gibt es keine Lifecycle-Hooks. Wir finden hier deshalb auch keine ngOnInit() -Methode. W\u00e4hrend Komponenten den Decorator @Component() aufweisen, wird f\u00fcr Services der Decorator @Injectable() verwendet. Mit diesem Decorator geben wir an, dass der Service weitere Abh\u00e4ngigkeiten einbinden kann. Dies geschieht typischerweise \u00fcber einen Parameter im Konstruktor - eine soganannte dependency injection (wenn \u00fcber den Konstruktor, dann constructor injection ). Auch wenn wir eine solche Abh\u00e4ngigkeit nicht einbinden, sollte der Decorator @Injectable() stets f\u00fcr einen Service angegeben werden. Dies liegt daran, dass wir diesen Decorator um die providedIn -Eigenschaft erweitern. Mit providedIn: 'root' geben wir an, dass der Service allen Komponenten (im gesamten Root-Modul) zur Verf\u00fcgung steht, er also von allen Komponenten genutzt werden kann. Bevor wir uns weiter um diesen Service k\u00fcmmern, erstellen wir uns erst noch ein Datenmodell, auf das alle Komponenten zugreifen k\u00f6nnen. Datenmodell \u00b6 Derzeit haben wir unser Datenmodell ebenfalls statisch in der table-datasource.ts als interface TableItem definiert. Wir wollen das Interface auslagern (d.h. das Interface wird aus table-datasource.ts gel\u00f6scht und in das neue data.ts eingef\u00fcgt) und ebenfalls allen Komponenten zur Verf\u00fcgung stellen. Wir erstellen das Interface Data (der Name ist sehr generisch gehalten - f\u00fcr Ihr eigenes Datenmodell sollten Sie einen besseren Namen w\u00e4hlen): ng g interface shared/data In die data.ts tragen wir nun unser Datenmodell ein: src/app/shared/data.ts 1 2 3 4 5 6 export interface Data { id : number ; forename : string ; surname : string ; email : string ; } Wir wollen nun dieses Datenmodell verwenden und nicht mehr TableItem . Dazu \u00e4ndern wir nun zun\u00e4chst die table-source.ts . L\u00f6schen Sie dort am besten das gesamte interface TableItem . Jetzt sehen Sie, an welchen Stellen Sie TableItem durch Data ersetzen m\u00fcssen. Ersetzen Sie dann \u00fcberall TableItem durch Data . Passen Sie beim Importieren des Interfaces auf, dass Sie das richtige importieren, Ihre IDE bietet Ihnen auch andere Importm\u00f6glichkeiten an (das liegt an dem generisch gew\u00e4hlten Namen). Die richtige import -Anweisung ist: import { Data } from '../shared/data'; In der table.component.ts muss an der Stelle @ViewChild(MatTable) table: MatTable<TableItem>; ebenfalls TableItem durch Data ersetzt werden. In der Anweisung import { TableDataSource, TableItem } from './table-datasource'; entfernen Sie , TableItem und f\u00fcgen die Anweisung import { Data } from '../shared/data'; hinzu. Unsere aktualisierten table-datasource.ts und table.component.ts sehen nun so aus: aktualisierte Dateien src/table/table-datasource.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 import { DataSource } from '@angular/cdk/collections' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { map } from 'rxjs/operators' ; import { Observable , of as observableOf , merge } from 'rxjs' ; import { Data } from '../shared/data' ; // TODO: replace this with real data from your application const EXAMPLE_DATA : Data [] = [ { id : 1 , forename : 'Catherine' , surname : 'Williams' , email : 'cwilliamsl@360.cn' }, { id : 2 , forename : 'Adam' , surname : 'Anderson' , email : 'aanderson8@google.fr' }, { id : 3 , forename : 'Susan' , surname : 'Andrews' , email : 'sandrewsn@google.co.jp' }, { id : 4 , forename : 'Catherine' , surname : 'Andrews' , email : 'candrewsp@noaa.gov' }, { id : 5 , forename : 'Alan' , surname : 'Bradley' , email : 'abradley1c@globo.com' }, { id : 6 , forename : 'Anne' , surname : 'Brooks' , email : 'abrooks16@bravesites.com' }, { id : 7 , forename : 'Russell' , surname : 'Brown' , email : 'rbrownq@nifty.com' }, { id : 8 , forename : 'Ryan' , surname : 'Burton' , email : 'rburton18@foxnews.com' }, { id : 9 , forename : 'Roy' , surname : 'Campbell' , email : 'rcampbell1@geocities.com' }, { id : 10 , forename : 'Russell' , surname : 'Campbell' , email : 'rcampbell17@eventbrite.com' }, { id : 11 , forename : 'Bonnie' , surname : 'Coleman' , email : 'bcoleman11@fc2.com' }, { id : 12 , forename : 'Ernest' , surname : 'Coleman' , email : 'ecoleman15@businessweek.com' }, { id : 13 , forename : 'Richard' , surname : 'Cruz' , email : 'rcruz7@unc.edu' }, { id : 14 , forename : 'Sean' , surname : 'Cruz' , email : 'scruz10@answers.com' }, { id : 15 , forename : 'Rebecca' , surname : 'Cunningham' , email : 'rcunninghamd@mac.com' }, { id : 16 , forename : 'Margaret' , surname : 'Evans' , email : 'mevansh@pcworld.com' }, { id : 17 , forename : 'Jeffrey' , surname : 'Ford' , email : 'jford14@cnet.com' }, { id : 18 , forename : 'Andrea' , surname : 'Gardner' , email : 'agardnerv@woothemes.com' }, { id : 19 , forename : 'Deborah' , surname : 'George' , email : 'dgeorge6@furl.net' }, { id : 20 , forename : 'Sean' , surname : 'Gibson' , email : 'sgibsony@alexa.com' }, { id : 21 , forename : 'Virginia' , surname : 'Graham' , email : 'vgrahamk@aol.com' }, { id : 22 , forename : 'Steven' , surname : 'Hamilton' , email : 'shamiltonu@state.tx.us' }, { id : 23 , forename : 'Virginia' , surname : 'Hawkins' , email : 'vhawkinsf@ehow.com' }, { id : 24 , forename : 'Edward' , surname : 'Hicks' , email : 'ehicksc@pcworld.com' }, { id : 25 , forename : 'Mark' , surname : 'Johnson' , email : 'mjohnsonj@hostgator.com' }, { id : 26 , forename : 'Ruth' , surname : 'Jordan' , email : 'rjordan1a@smugmug.com' }, { id : 27 , forename : 'Antonio' , surname : 'Kim' , email : 'akim4@odnoklassniki.ru' }, { id : 28 , forename : 'Jennifer' , surname : 'Marshall' , email : 'jmarshallt@gnu.org' }, { id : 29 , forename : 'Eric' , surname : 'Matthews' , email : 'ematthews5@independent.co.uk' }, { id : 30 , forename : 'Raymond' , surname : 'Mcdonald' , email : 'rmcdonald2@ihg.com' }, { id : 31 , forename : 'Eric' , surname : 'Miller' , email : 'emillere@creativecommons.org' }, { id : 32 , forename : 'Jonathan' , surname : 'Morales' , email : 'jmoralesa@ovh.net' }, { id : 33 , forename : 'Marie' , surname : 'Morgan' , email : 'mmorganb@cloudflare.com' }, { id : 34 , forename : 'Amanda' , surname : 'Nelson' , email : 'anelson13@indiatimes.com' }, { id : 35 , forename : 'Lisa' , surname : 'Olson' , email : 'lolsonr@telegraph.co.uk' }, { id : 36 , forename : 'Alice' , surname : 'Ortiz' , email : 'aortizw@histats.com' }, { id : 37 , forename : 'Peter' , surname : 'Phillips' , email : 'pphillipss@1688.com' }, { id : 38 , forename : 'Matthew' , surname : 'Porter' , email : 'mporter9@europa.eu' }, { id : 39 , forename : 'Tammy' , surname : 'Ray' , email : 'trayx@weather.com' }, { id : 40 , forename : 'Mark' , surname : 'Richardson' , email : 'mrichardson1d@ihg.com' }, { id : 41 , forename : 'Joan' , surname : 'Roberts' , email : 'jroberts12@alibaba.com' }, { id : 42 , forename : 'Kathleen' , surname : 'Rose' , email : 'kroseg@pinterest.com' }, { id : 43 , forename : 'Steve' , surname : 'Sanders' , email : 'ssanders1b@wikispaces.com' }, { id : 44 , forename : 'Shirley' , surname : 'Scott' , email : 'sscottm@macromedia.com' }, { id : 45 , forename : 'Lillian' , surname : 'Stephens' , email : 'lstephens19@hugedomains.com' }, { id : 46 , forename : 'Nicole' , surname : 'Thompson' , email : 'nthompson3@admin.ch' }, { id : 47 , forename : 'Marie' , surname : 'Thompson' , email : 'mthompsonz@yelp.com' }, { id : 48 , forename : 'Alan' , surname : 'Vasquez' , email : 'avasquezo@miibeian.gov.cn' }, { id : 49 , forename : 'Mildred' , surname : 'Watkins' , email : 'mwatkins0@miibeian.gov.cn' }, { id : 50 , forename : 'Eugene' , surname : 'Williams' , email : 'ewilliamsi@deliciousdays.com' } ]; /** * Data source for the Table view. This class should * encapsulate all logic for fetching and manipulating the displayed data * (including sorting, pagination, and filtering). */ export class TableDataSource extends DataSource < Data > { data : Data [] = EXAMPLE_DATA ; paginator : MatPaginator ; sort : MatSort ; constructor () { super (); } /** * Connect this data source to the table. The table will only update when * the returned stream emits new items. * @returns A stream of the items to be rendered. */ connect () : Observable < Data [] > { // Combine everything that affects the rendered data into one update // stream for the data-table to consume. const dataMutations = [ observableOf ( this . data ), this . paginator . page , this . sort . sortChange ]; return merge (... dataMutations ). pipe ( map (() => { return this . getPagedData ( this . getSortedData ([... this . data ])); })); } /** * Called when the table is being destroyed. Use this function, to clean up * any open connections or free any held resources that were set up during connect. */ disconnect () : void {} /** * Paginate the data (client-side). If you're using server-side pagination, * this would be replaced by requesting the appropriate data from the server. */ private getPagedData ( data : Data []) : Data [] { const startIndex = this . paginator . pageIndex * this . paginator . pageSize ; return data . splice ( startIndex , this . paginator . pageSize ); } /** * Sort the data (client-side). If you're using server-side sorting, * this would be replaced by requesting the appropriate data from the server. */ private getSortedData ( data : Data []) : Data [] { if ( ! this . sort . active || this . sort . direction === '' ) { return data ; } return data . sort (( a , b ) => { const isAsc = this . sort . direction === 'asc' ; switch ( this . sort . active ) { case 'forename' : return compare ( a . forename , b . forename , isAsc ); case 'surname' : return compare ( a . surname , b . surname , isAsc ); case 'email' : return compare ( a . email , b . email , isAsc ); case 'id' : return compare ( + a . id , + b . id , isAsc ); default : return 0 ; } }); } } /** Simple sort comparator for example ID/Name columns (for client-side sorting). */ function compare ( a : string | number , b : string | number , isAsc : boolean ) : number { return ( a < b ? - 1 : 1 ) * ( isAsc ? 1 : - 1 ); } src/table/table.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 import { AfterViewInit , Component , OnInit , ViewChild } from '@angular/core' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { MatTable } from '@angular/material/table' ; import { TableDataSource } from './table-datasource' ; import { Data } from '../shared/data' ; @ Component ({ selector : 'jf-table' , templateUrl : './table.component.html' , styleUrls : [ './table.component.css' ] }) export class TableComponent implements AfterViewInit , OnInit { @ ViewChild ( MatPaginator ) paginator : MatPaginator ; @ ViewChild ( MatSort ) sort : MatSort ; @ ViewChild ( MatTable ) table : MatTable < Data > ; dataSource : TableDataSource ; /** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */ displayedColumns = [ 'id' , 'forename' , 'surname' , 'email' ]; ngOnInit () : void { this . dataSource = new TableDataSource (); } ngAfterViewInit () : void { this . dataSource . sort = this . sort ; this . dataSource . paginator = this . paginator ; this . table . dataSource = this . dataSource ; } onRowClicked ( row ) : void { console . log ( 'Row clicked: ' , row ); } highlight ( event ) : void { event . target . style . backgroundColor = 'green' ; } } Jetzt funktioniert unsere Seite wieder. Unter localhost:4200/table wird die Tabelle wieder korrekt angezeigt. Das Datenmodell wurde als eigenst\u00e4ndiges interface ausgelagert und kann von allen Komponenten verwendet werden. Wir werden nun unseren data.service erweitern. Dazu \u00f6ffnen wir die Datei data.service.ts . Wir f\u00fcgen eine Eigenschaft data vom Typ Data[] hinzu, also den interface -Typ als Array. Bei der Erstellung des Services (im Konstruktor) werden die Daten eingelesen und data initialisiert. Au\u00dferdem erstellen wir eine Funktion getAll() , die das Data[] zur\u00fcckgibt. data.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 import { Injectable } from '@angular/core' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class DataService { data : Data []; constructor () { this . data = [ { id : 1 , forename : 'Catherine' , surname : 'Williams' , email : 'cwilliamsl@360.cn' }, /* hier das gesamte Array einf\u00fcgen! - an dieser Stelle gek\u00fcrzt */ { id : 50 , forename : 'Eugene' , surname : 'Williams' , email : 'ewilliamsi@deliciousdays.com' } ]; } getAll () : Data [] { return this . data ; } } Nun lassen wir die table -Komponente den Service nutzen. Dazu \u00f6ffnen wir zun\u00e4chst die table-datasource.ts . Darin l\u00f6schen wir die komplette Deklaration und Initialsisierung der const EXAMPLE_DATA: Data[] , da wir die Daten ja jetzt \u00fcber die getAll() -Funktion des Services holen wollen. Dazu binden wir den Service per dependency injection in den Konstruktor von TableDatasource ein und rufen in dem Konstruktor die getAll() -Funktion des DataService auf: table-datasource.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 import { DataSource } from '@angular/cdk/collections' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { map } from 'rxjs/operators' ; import { Observable , of as observableOf , merge } from 'rxjs' ; import { Data } from '../shared/data' ; import { DataService } from '../shared/data.service' ; /** * Data source for the Table view. This class should * encapsulate all logic for fetching and manipulating the displayed data * (including sorting, pagination, and filtering). */ export class TableDataSource extends DataSource < Data > { data : Data []; paginator : MatPaginator ; sort : MatSort ; constructor ( private ds : DataService ) { super (); this . data = this . ds . getAll (); } /* * hier noch der Rest der Klasse * connect(), disconnect(), sort(), usw. */ Jetzt muss in der table.component.ts nur noch der Aufruf des Konstruktors vom DataService als Parmeter der TableDataSource() -Konstruktors erfolgen: table.component.ts 23 24 25 ngOnInit () : void { this . dataSource = new TableDataSource ( new DataService ()); } Der DataService muss dazu in table.component.ts importiert werden. Lassen Sie das durch Ihre IDE erledigen. Nun werden die Daten \u00fcber den Service bereitgestellt. Success Wir haben ein Datenmodell f\u00fcr unsere Daten erstellt und einen Service, der diese Daten \u00fcber die getAll() -Funktion zur Verf\u00fcgung stellt. Wir werden den Service um weitere Funktionen erweitern und weitere Routen zu unserer Anwendung hinzuf\u00fcgen. Parametrisierte Routen \u00b6 Bis jetzt zeigen wir alle Daten zugleich in einer Tabelle an. Nun wollen wir auf einzelne Datens\u00e4tze zugreifen. Dies soll \u00fcber die id aus unserem Datensatz geschehen. Wir wollen die einzelnen Datens\u00e4tze \u00fcber die URL localhost:4200/table/id erreichen, wobei id f\u00fcr eine Zahl steht. Dazu erzeugen wir uns zun\u00e4chst eine neue Komponente single : ng g c single Diese Komponente soll ein Formular mit den Daten eines einzelnen Datensatzes aus unseren Mock-Up-Daten enthalten. Zun\u00e4chst k\u00fcmmern wir uns um die Route, \u00fcber die die Single-Komponente erreichbar sein soll. Dazu \u00f6ffnen wir die app-routing.module.ts und erweitern das routes -Array: const routes : Routes = [ { path : 'table' , component : TableComponent }, { path : 'table/:id' , component : SingleComponent } ]; Die id wird als Parameter f\u00fcr die Route vorgesehen, deshalb wird die Syntax :id verwendet. Damit der entsprechende Wert f\u00fcr :id aus der URL ausgelesen werden kann, ben\u00f6tigen wir in der Single-Komponente ein Objekt der Klasse ActivatedRoute . Dieses Objekt binden wir per dependency injection in den Konstruktor der Single-Komponente ein und fragen die URL in der ngOnInit() -Methode ab. Beachten Sie, wenn wir Objekte als private in den Konstruktor injizieren, dann wird daraus eine Eigenschaft der Klasse, d.h. wir k\u00f6nnen route und ds mithilfe von this in jeder Funktion der Klasse verwenden.: single.component.ts (Ausschnitt) 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 import { ActivatedRoute } from '@angular/router' ; import { DataService } from '../shared/data.service' ; import { Data } from '../shared/data' ; export class SingleComponent implements OnInit { id : string ; data : Data ; constructor ( private route : ActivatedRoute , private ds : DataService ) { } ngOnInit () : void { this . id = this . route . snapshot . paramMap . get ( 'id' ); this . data = this . ds . getSingleId ( this . id ); } Wir lesen aus der URL den Parameter id aus und speichern den Wert in this.id (siehe Zeile 26 ). Mit dem Wert rufen wir die getSingleId() -Funktion aus dem DataService auf. Diese Funktion gibt den Datensatz mit der entsprechenden id zur\u00fcck: data.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import { Injectable } from '@angular/core' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class DataService { data : Data []; constructor () { this . data = [ /* hier das gesamte Array */ ]; } getAll () : Data [] { return this . data ; } getSingleId ( id : string ) : Data { return this . data . find ( data => ( data . id . toString () === id )); } } F\u00fcr Arrow-Funktionen siehe hier . Die Single-Komponente gestalten wir als Formular: single.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 < form [ formGroup ]=\" singleFormGroup \" ( ngSubmit )=\" onSubmit ( singleFormGroup . value )\" > < mat-form-field appearance = \"fill\" > < mat-label > Vorname </ mat-label > < input matInput placeholder = \"Vorname\" formControlName = \"forenameControl\" > </ mat-form-field > < br /> < mat-form-field appearance = \"fill\" > < mat-label > Nachname </ mat-label > < input matInput placeholder = \"Nachname\" formControlName = \"surnameControl\" > </ mat-form-field > < br /> < mat-form-field appearance = \"fill\" > < mat-label > E-Mail </ mat-label > < input matInput placeholder = \"E-Mail\" formControlName = \"emailControl\" > </ mat-form-field > < br /> < button mat-raised-button type = \"submit\" > Change </ button > </ form > single.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 import { Component , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { ActivatedRoute } from '@angular/router' ; import { DataService } from '../shared/data.service' ; import { Data } from '../shared/data' ; @ Component ({ selector : 'jf-single' , templateUrl : './single.component.html' , styleUrls : [ './single.component.css' ] }) export class SingleComponent implements OnInit { singleFormGroup : FormGroup ; id : string ; data : Data ; constructor ( private fb : FormBuilder , private route : ActivatedRoute , private ds : DataService ) { } ngOnInit () : void { this . id = this . route . snapshot . paramMap . get ( 'id' ); console . log ( this . id ); this . data = this . ds . getSingleId ( this . id ); this . singleFormGroup = this . createFormGroup (); this . singleFormGroup . setValue ({ forenameControl : this . data . forename , surnameControl : this . data . surname , emailControl : this . data . email }); } createFormGroup () : FormGroup { return this . fb . group ({ forenameControl : [ '' , Validators . required ], surnameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ] }); } onSubmit ( formData ) : void { this . singleFormGroup . reset (); console . warn ( 'Submitted: ' , formData ); } } Das Formular ist als reaktives Formular definiert (im Gegensatz zu Template-Formularen ). Wir verwenden den FormBuilder und dessen group -Funktion, um ein Formular zu erstellen. Das Formular selbst ist eine FormGroup . Es enth\u00e4lt drei FormControl -Elemente: forenameControl , surnameControl und emailControl . Mithilfe der setValue() -Funktion wird f\u00fcr diese Elemente ein value gesetzt. Unter dem Aufruf http://localhost:4200/table/11 sieht das Frontend jetzt z.B. so aus (Sie k\u00f6nnen nat\u00fcrlich auch den Slider und die \u00dcberschrift entfernen): Success Wir haben das Metrial-Schema f\u00fcr eine Tabelle ausprobiert, in der alle unsere Mockup-Daten angezeigt werden. In der Tablle kann nach allen Spalten sortiert werden. Au\u00dferdem ist die Tabelle paginiert. Wir haben Routing eingef\u00fchrt, um \u00fcber \"sprechende\" URLs auf unsere Komponenten zuzugreifen. Die Routen wurden auch mithife der IDs aus dem Datensatz parametrisiert. Wir haben ein Formular verwendet, um einen einzelnen Datensatz anzuzeigen. Die Verwaltung der Daten erfolgt \u00fcber einen Service, der allen Komponenten zur Verf\u00fcgung steht. Noch sind unsere Daten client-seitig gespeichert. Das soll in der n\u00e4chsten Lektion ge\u00e4ndert werden.","title":"Material"},{"location":"material/#material-fur-angular","text":"Wir haben f\u00fcr unser frontend in \u00dcbung 6 bereits Material als CSS-Framework verwendet und wollen dieses hier n\u00e4her untersuchen, um Angular unter Zuhilfenahme von Material besser kennenzulernen. Zun\u00e4chst nochmal, wie man einer existierenden Anwendung Material hinzuf\u00fcgt: ng add @angular/material In der angular.json werden dann unter \"projects\"-->\"architect\"-->\"build\" und unter \"projects\"-->\"architect\"-->\"test\" die \"styles\" wie folgt konfiguriert: \"styles\" : [ \"./node_modules/@angular/material/prebuilt-themes/indigo-pink.css\" , \"src/styles.css\" ] , Dabei h\u00e4ngt es jedoch davon ab, welches prebuilt-theme Sie gew\u00e4hlt haben. Es gibt diese vier vorgefertigten Themen: deeppurple-amber.css indigo-pink.css pink-bluegrey.css purple-green.css Einen \u00dcberblick \u00fcber die unterschiedlichen Komponenten, die Material bereitstellt, finden Sie hier . Wir werden einige davon im folgenden verwenden.","title":"Material f\u00fcr Angular"},{"location":"material/#material-schematics","text":"Ein gro\u00dfer Vorteil von Material ist, dass dieses Framework bereits sogenannte Schematics liefert, welche vorgefertigte Komponenten erstellen k\u00f6nnen. In \u00dcbung 6 haben wir bereits das Schema navigation verwendet. Wir setzen auf die L\u00f6sung von \u00dcbung 6 auf. Wir betrachten zun\u00e4chst nochmal den aktuellen Stand dieser L\u00f6sung. Die app.component.html sah so aus (je, nachdem, wie Sie Ihren Projekt-Prefix gew\u00e4hlt haben - hier jf ): /src/app/app.component.html < jf-nav ></ jf-nav > < h1 > Tis is app </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < router-outlet ></ router-outlet > Es wird also zun\u00e4chst die Navigationskomponente eingebunden und dann kommen noch eine \u00dcberschrift und ein Slider. In der Anwendung sieht man aber diese Sachen nicht mehr: Das liegt daran, dass wir unsere Inhalte nun in die Navigationskomponente einf\u00fcgen m\u00fcssen. Die App-Komponente enth\u00e4lt nur noch den Komponentenselektor f\u00fcr die Navigationskomponente: /src/app/app.component.html < jf-nav ></ jf-nav > /src/app/nav/nav.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 < mat-sidenav-container class = \"sidenav-container\" > < mat-sidenav # drawer class = \"sidenav\" fixedInViewport [ attr . role ]=\"( isHandset $ | async ) ? ' dialog ' : ' navigation '\" [ mode ]=\"( isHandset $ | async ) ? ' over ' : ' side '\" [ opened ]=\"( isHandset $ | async ) === false \" > < mat-toolbar > Menu </ mat-toolbar > < mat-nav-list > < a mat-list-item href = \"#\" > Link 1 </ a > < a mat-list-item href = \"#\" > Link 2 </ a > < a mat-list-item href = \"#\" > Link 3 </ a > </ mat-nav-list > </ mat-sidenav > < mat-sidenav-content > < mat-toolbar color = \"primary\" > < button type = \"button\" aria-label = \"Toggle sidenav\" mat-icon-button ( click )=\" drawer . toggle ()\" * ngIf = \"isHandset$ | async\" > < mat-icon aria-label = \"Side nav toggle icon\" > menu </ mat-icon > </ button > < span > Frontend </ span > </ mat-toolbar > <!-- Add Content Here --> < h1 > Tis is nav-Content </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < router-outlet ></ router-outlet > <!-- end of nav-Content --> </ mat-sidenav-content > </ mat-sidenav-container > Das ist dann auch sichtbar: Ehe wir uns mit dem Routing besch\u00e4ftigen, erstellen wir zun\u00e4chst noch zwei weitere Komponenten.","title":"Material Schematics"},{"location":"material/#table","text":"Ein weiteres Schema, das wir verwenden wollen, ist das table -Schema von Material. In unserem Ordner frontend2 rufen wir ng generate @angular/material:table table Um diese Komponente zu testen, binden wir sie zun\u00e4chst in unsere nav -Komponente ein (Beachten Sie, dass Ihr Prefix anders ist). /src/app/nav/nav.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 < mat-sidenav-container class = \"sidenav-container\" > < mat-sidenav # drawer class = \"sidenav\" fixedInViewport [ attr . role ]=\"( isHandset $ | async ) ? ' dialog ' : ' navigation '\" [ mode ]=\"( isHandset $ | async ) ? ' over ' : ' side '\" [ opened ]=\"( isHandset $ | async ) === false \" > < mat-toolbar > Menu </ mat-toolbar > < mat-nav-list > < a mat-list-item href = \"#\" > Link 1 </ a > < a mat-list-item href = \"#\" > Link 2 </ a > < a mat-list-item href = \"#\" > Link 3 </ a > </ mat-nav-list > </ mat-sidenav > < mat-sidenav-content > < mat-toolbar color = \"primary\" > < button type = \"button\" aria-label = \"Toggle sidenav\" mat-icon-button ( click )=\" drawer . toggle ()\" * ngIf = \"isHandset$ | async\" > < mat-icon aria-label = \"Side nav toggle icon\" > menu </ mat-icon > </ button > < span > Frontend </ span > </ mat-toolbar > <!-- Add Content Here --> < h1 > Tis is nav-Content </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < jf-table ></ jf-table > < router-outlet ></ router-outlet > <!-- end of nav-Content --> </ mat-sidenav-content > </ mat-sidenav-container > Die Tabelle erscheint so: Wir \u00e4ndern die Tabelle und f\u00fcgen eigene Daten ein, um uns mit der Komponente vertraut zu machen. Wir \u00f6ffnen src/app/table/table-datasource.ts . Je nach verwendeter Angular-Version sehen einige von Ihnen, dass diese Datei Fehler enth\u00e4lt. Die Funktionen sind rot unterstrichen. Das liegt daran, dass nun auch Funktionen typisiert werden m\u00fcssen. Wir f\u00fcgen die R\u00fcckgabetypen f\u00fcr die Funktionen deshalb zun\u00e4chst ein: src/app/table/table-datasource.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 import { DataSource } from '@angular/cdk/collections' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { map } from 'rxjs/operators' ; import { Observable , of as observableOf , merge } from 'rxjs' ; // TODO: Replace this with your own data model type export interface TableItem { name : string ; id : number ; } // TODO: replace this with real data from your application const EXAMPLE_DATA : TableItem [] = [ { id : 1 , name : 'Hydrogen' }, { id : 2 , name : 'Helium' }, { id : 3 , name : 'Lithium' }, { id : 4 , name : 'Beryllium' }, { id : 5 , name : 'Boron' }, { id : 6 , name : 'Carbon' }, { id : 7 , name : 'Nitrogen' }, { id : 8 , name : 'Oxygen' }, { id : 9 , name : 'Fluorine' }, { id : 10 , name : 'Neon' }, { id : 11 , name : 'Sodium' }, { id : 12 , name : 'Magnesium' }, { id : 13 , name : 'Aluminum' }, { id : 14 , name : 'Silicon' }, { id : 15 , name : 'Phosphorus' }, { id : 16 , name : 'Sulfur' }, { id : 17 , name : 'Chlorine' }, { id : 18 , name : 'Argon' }, { id : 19 , name : 'Potassium' }, { id : 20 , name : 'Calcium' }, ]; /** * Data source for the Table view. This class should * encapsulate all logic for fetching and manipulating the displayed data * (including sorting, pagination, and filtering). */ export class TableDataSource extends DataSource < TableItem > { data : TableItem [] = EXAMPLE_DATA ; paginator : MatPaginator ; sort : MatSort ; constructor () { super (); } /** * Connect this data source to the table. The table will only update when * the returned stream emits new items. * @returns A stream of the items to be rendered. */ connect () : Observable < TableItem [] > { // Combine everything that affects the rendered data into one update // stream for the data-table to consume. const dataMutations = [ observableOf ( this . data ), this . paginator . page , this . sort . sortChange ]; return merge (... dataMutations ). pipe ( map (() => { return this . getPagedData ( this . getSortedData ([... this . data ])); })); } /** * Called when the table is being destroyed. Use this function, to clean up * any open connections or free any held resources that were set up during connect. */ disconnect () : void {} /** * Paginate the data (client-side). If you're using server-side pagination, * this would be replaced by requesting the appropriate data from the server. */ private getPagedData ( data : TableItem []) : TableItem [] { const startIndex = this . paginator . pageIndex * this . paginator . pageSize ; return data . splice ( startIndex , this . paginator . pageSize ); } /** * Sort the data (client-side). If you're using server-side sorting, * this would be replaced by requesting the appropriate data from the server. */ private getSortedData ( data : TableItem []) : TableItem [] { if ( ! this . sort . active || this . sort . direction === '' ) { return data ; } return data . sort (( a , b ) => { const isAsc = this . sort . direction === 'asc' ; switch ( this . sort . active ) { case 'name' : return compare ( a . name , b . name , isAsc ); case 'id' : return compare ( + a . id , + b . id , isAsc ); default : return 0 ; } }); } } /** Simple sort comparator for example ID/Name columns (for client-side sorting). */ function compare ( a : string | number , b : string | number , isAsc : boolean ) : number { return ( a < b ? - 1 : 1 ) * ( isAsc ? 1 : - 1 ); } Wir werden die Komponente nun dahingehend \u00e4ndern, dass unsere Mockup-Daten aus den vorherigen \u00dcbungen dargestellt werden, also diese hier: mockup-data aus den vorherigen \u00dcbungen [ { id: 1, forename: 'Catherine', surname: 'Williams', email: 'cwilliamsl@360.cn' }, { id: 2, forename: 'Adam', surname: 'Anderson', email: 'aanderson8@google.fr' }, { id: 3, forename: 'Susan', surname: 'Andrews', email: 'sandrewsn@google.co.jp' }, { id: 4, forename: 'Catherine', surname: 'Andrews', email: 'candrewsp@noaa.gov' }, { id: 5, forename: 'Alan', surname: 'Bradley', email: 'abradley1c@globo.com' }, { id: 6, forename: 'Anne', surname: 'Brooks', email: 'abrooks16@bravesites.com' }, { id: 7, forename: 'Russell', surname: 'Brown', email: 'rbrownq@nifty.com' }, { id: 8, forename: 'Ryan', surname: 'Burton', email: 'rburton18@foxnews.com' }, { id: 9, forename: 'Roy', surname: 'Campbell', email: 'rcampbell1@geocities.com' }, { id: 10, forename: 'Russell', surname: 'Campbell', email: 'rcampbell17@eventbrite.com' }, { id: 11, forename: 'Bonnie', surname: 'Coleman', email: 'bcoleman11@fc2.com' }, { id: 12, forename: 'Ernest', surname: 'Coleman', email: 'ecoleman15@businessweek.com' }, { id: 13, forename: 'Richard', surname: 'Cruz', email: 'rcruz7@unc.edu' }, { id: 14, forename: 'Sean', surname: 'Cruz', email: 'scruz10@answers.com' }, { id: 15, forename: 'Rebecca', surname: 'Cunningham', email: 'rcunninghamd@mac.com' }, { id: 16, forename: 'Margaret', surname: 'Evans', email: 'mevansh@pcworld.com' }, { id: 17, forename: 'Jeffrey', surname: 'Ford', email: 'jford14@cnet.com' }, { id: 18, forename: 'Andrea', surname: 'Gardner', email: 'agardnerv@woothemes.com' }, { id: 19, forename: 'Deborah', surname: 'George', email: 'dgeorge6@furl.net' }, { id: 20, forename: 'Sean', surname: 'Gibson', email: 'sgibsony@alexa.com' }, { id: 21, forename: 'Virginia', surname: 'Graham', email: 'vgrahamk@aol.com' }, { id: 22, forename: 'Steven', surname: 'Hamilton', email: 'shamiltonu@state.tx.us' }, { id: 23, forename: 'Virginia', surname: 'Hawkins', email: 'vhawkinsf@ehow.com' }, { id: 24, forename: 'Edward', surname: 'Hicks', email: 'ehicksc@pcworld.com' }, { id: 25, forename: 'Mark', surname: 'Johnson', email: 'mjohnsonj@hostgator.com' }, { id: 26, forename: 'Ruth', surname: 'Jordan', email: 'rjordan1a@smugmug.com' }, { id: 27, forename: 'Antonio', surname: 'Kim', email: 'akim4@odnoklassniki.ru' }, { id: 28, forename: 'Jennifer', surname: 'Marshall', email: 'jmarshallt@gnu.org' }, { id: 29, forename: 'Eric', surname: 'Matthews', email: 'ematthews5@independent.co.uk' }, { id: 30, forename: 'Raymond', surname: 'Mcdonald', email: 'rmcdonald2@ihg.com' }, { id: 31, forename: 'Eric', surname: 'Miller', email: 'emillere@creativecommons.org' }, { id: 32, forename: 'Jonathan', surname: 'Morales', email: 'jmoralesa@ovh.net' }, { id: 33, forename: 'Marie', surname: 'Morgan', email: 'mmorganb@cloudflare.com' }, { id: 34, forename: 'Amanda', surname: 'Nelson', email: 'anelson13@indiatimes.com' }, { id: 35, forename: 'Lisa', surname: 'Olson', email: 'lolsonr@telegraph.co.uk' }, { id: 36, forename: 'Alice', surname: 'Ortiz', email: 'aortizw@histats.com' }, { id: 37, forename: 'Peter', surname: 'Phillips', email: 'pphillipss@1688.com' }, { id: 38, forename: 'Matthew', surname: 'Porter', email: 'mporter9@europa.eu' }, { id: 39, forename: 'Tammy', surname: 'Ray', email: 'trayx@weather.com' }, { id: 40, forename: 'Mark', surname: 'Richardson', email: 'mrichardson1d@ihg.com' }, { id: 41, forename: 'Joan', surname: 'Roberts', email: 'jroberts12@alibaba.com' }, { id: 42, forename: 'Kathleen', surname: 'Rose', email: 'kroseg@pinterest.com' }, { id: 43, forename: 'Steve', surname: 'Sanders', email: 'ssanders1b@wikispaces.com' }, { id: 44, forename: 'Shirley', surname: 'Scott', email: 'sscottm@macromedia.com' }, { id: 45, forename: 'Lillian', surname: 'Stephens', email: 'lstephens19@hugedomains.com' }, { id: 46, forename: 'Nicole', surname: 'Thompson', email: 'nthompson3@admin.ch' }, { id: 47, forename: 'Marie', surname: 'Thompson', email: 'mthompsonz@yelp.com' }, { id: 48, forename: 'Alan', surname: 'Vasquez', email: 'avasquezo@miibeian.gov.cn' }, { id: 49, forename: 'Mildred', surname: 'Watkins', email: 'mwatkins0@miibeian.gov.cn' }, { id: 50, forename: 'Eugene', surname: 'Williams', email: 'ewilliamsi@deliciousdays.com' } ] ; Ersetzen Sie das EXAMPLE_DATA -Array in table-datasource.ts durch obiges Array. Das Ersetzen der Arrays f\u00fchrt zu vielen Fehlern in table-datasource.ts . Insbesondere sind z.B. die forename -Eigenschaften rot unterstrichen. Das liegt daran, dass das interface TableItem nicht mit dem Datenmodell der Mockup-Daten \u00fcbereinstimmt. Wir m\u00fcssen also das Interface wie folgt anpassen: // TODO: Replace this with your own data model type export interface TableItem { id : number ; forename : string ; surname : string ; email : string ; } Jetzt stimmt die Sortiermethode sort() nicht mehr, da dort auf die Eigenschaft name zugegriffen wird, diese Eigenschaft aber nicht mehr existiert. Wir passen also die Sortierfunktion entsprechend an: private getSortedData ( data : TableItem []) : TableItem [] { if ( ! this . sort . active || this . sort . direction === '' ) { return data ; } return data . sort (( a , b ) => { const isAsc = this . sort . direction === 'asc' ; switch ( this . sort . active ) { case 'forename' : return compare ( a . forename , b . forename , isAsc ); case 'surname' : return compare ( a . surname , b . surname , isAsc ); case 'email' : return compare ( a . email , b . email , isAsc ); case 'id' : return compare ( + a . id , + b . id , isAsc ); default : return 0 ; } }); } Die Datei table-datasource.ts sollte nun fehlerfrei sein. Nun passen wir noch die table.component.html an. In ihr sind derzeit zwei Spalten f\u00fcr die Tabelle definiert, die id -Spalte und die name -Spalte (jeweils unter den entsprechenden HTML-Kommentaren). Kopieren Sie die name -Spalte und f\u00fcgern Sie sie zwei Mal in die table.component.html ein. Passen Sie die Eintr\u00e4ge entsprechend an. Die table.component.html sollte dann so aussehen: src/app/table/table.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 < div class = \"mat-elevation-z8\" > < table mat-table class = \"full-width-table\" matSort aria-label = \"Elements\" > <!-- Id Column --> < ng-container matColumnDef = \"id\" > < th mat-header-cell * matHeaderCellDef mat-sort-header > Id </ th > < td mat-cell * matCellDef = \"let row\" > {{row.id}} </ td > </ ng-container > <!-- forename Column --> < ng-container matColumnDef = \"forename\" > < th mat-header-cell * matHeaderCellDef mat-sort-header > Vorname </ th > < td mat-cell * matCellDef = \"let row\" > {{row.forename}} </ td > </ ng-container > <!-- surname Column --> < ng-container matColumnDef = \"surname\" > < th mat-header-cell * matHeaderCellDef mat-sort-header > Nachname </ th > < td mat-cell * matCellDef = \"let row\" > {{row.surname}} </ td > </ ng-container > <!-- email Column --> < ng-container matColumnDef = \"email\" > < th mat-header-cell * matHeaderCellDef mat-sort-header > E-Mail-Adresse </ th > < td mat-cell * matCellDef = \"let row\" > {{row.email}} </ td > </ ng-container > < tr mat-header-row * matHeaderRowDef = \"displayedColumns\" ></ tr > < tr mat-row * matRowDef = \"let row; columns: displayedColumns;\" ></ tr > </ table > < mat-paginator # paginator [ length ]=\" dataSource ?. data . length \" [ pageIndex ]=\" 0 \" [ pageSize ]=\" 50 \" [ pageSizeOptions ]=\"[ 25 , 50 , 100 , 250 ]\" > </ mat-paginator > </ div > Nun passen wir nur noch die table.componen.ts an. Dort m\u00fcssen wir mitteilen, welche Eigenschaften unseres Datensatzes f\u00fcr die einzelnen Spalten der Tabelle verwendet und entsprechend dargestellt werden. /** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */ displayedColumns = [ 'id' , 'forename' , 'surname' , 'email' ]; Auch in der table.component.ts sollten wir die Methoden noch typisieren. Beide Methoden sind void -Methoden. Es handelt sich dabei um sogenannte Lifecycle-Hooks . Die ngOnInit() -Funktion wird aufgerufen, wenn die Komponente initialisiert wird. Die ngAfterViewInit() -Funktion wird aufgerufen, nachdem unsere View , also die Tabellenansicht, initialisisert wurde. Die table.component.ts sollte nun so aussehen: src/app/table/table.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import { AfterViewInit , Component , OnInit , ViewChild } from '@angular/core' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { MatTable } from '@angular/material/table' ; import { TableDataSource , TableItem } from './table-datasource' ; @ Component ({ selector : 'jf-table' , templateUrl : './table.component.html' , styleUrls : [ './table.component.css' ] }) export class TableComponent implements AfterViewInit , OnInit { @ ViewChild ( MatPaginator ) paginator : MatPaginator ; @ ViewChild ( MatSort ) sort : MatSort ; @ ViewChild ( MatTable ) table : MatTable < TableItem > ; dataSource : TableDataSource ; /** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */ displayedColumns = [ 'id' , 'forename' , 'surname' , 'email' ]; ngOnInit () : void { this . dataSource = new TableDataSource (); } ngAfterViewInit () : void { this . dataSource . sort = this . sort ; this . dataSource . paginator = this . paginator ; this . table . dataSource = this . dataSource ; } } Unsere Seite sieht jetzt so aus: Beachten Sie, dass Sie die Tabellenzeilen sortieren k\u00f6nnen. Neben den Spalten\u00fcberschriften erscheinen bei Mouseover jeweils kleine Pfeile. Wenn Sie darauf klicken, werden die Tabellenzeilen entsprechend der Spaltensortierung angezeigt. Beachten Sie auch das Paginieren. Rechts unterhalb der Tabelle k\u00f6nnen Sie die Anzahl der Tabellenseite auf einer Seite \u00e4ndern (siehe in table.component.html die [pageSizeOptions]=\"[25, 50, 100, 250] f\u00fcr den paginator ) und Sie k\u00f6nnen durch die Seiten bl\u00e4ttern. Ausblick: Wir haben die Daten hier clientseitig geladen, also nicht vom Server. Das werden wir sp\u00e4ter \u00e4ndern. Zun\u00e4chst schauen wir uns aber mal das Routing an.","title":"Table"},{"location":"material/#routing","text":"Sie haben sich vielleicht schon gefragt, wozu der <router-outlet></router-outlet> -Selektor da ist, der bei uns in der nav.component.html enthalten ist. Wir wollen jetzt Komponenten \u00fcber die URL ansprechen, also z.B. im Browser localhost:4200/table angeben und nur unter dieser URL soll unsere Tabelle erscheinen. In Vorbereitung darauf, entfernen wir zun\u00e4chst den Komponentenselektor f\u00fcr die Tabellen-Komponente aus der nav.component.html : Ausschnitt aus nav.component.html 25 26 27 28 29 30 31 32 <!-- Add Content Here --> < h1 > Tis is nav-Content </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > <!-- <jf-table></jf-table> geloescht --> < router-outlet ></ router-outlet > <!-- end of nav-Content --> Jetzt sieht man die Tabelle nicht mehr. Wir binden Sie aber gleich \u00fcber den <router-outlet></router-outlet> -Selektor wieder ein, wenn wir n\u00e4mlich die URL localhost:4200/table aufrufen. Dies wird Routing genannt. Um eine solche Route anzulegen, \u00f6ffnen wir die Datei src/app/app-routing.module.ts . src/app/app-routing.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 import { NgModule } from '@angular/core' ; import { Routes , RouterModule } from '@angular/router' ; import { TableComponent } from './table/table.component' ; const routes : Routes = [ { path : 'table' , component : TableComponent } ]; @ NgModule ({ imports : [ RouterModule . forRoot ( routes )], exports : [ RouterModule ] }) export class AppRoutingModule { } Geben Sie Zeile 6 ein und lassen Sie den Import (Zeile 3 ) durch Ihre IDE erledigen. Wir haben uns eine neue Route angelegt. Wenn wir nun im Browser an die URL localhost:4200 noch /table anh\u00e4ngen, wird die Tabellen-Komponente \u00fcber den <router-outlet></router-outlet> -Selektor eingebunden und angezeigt. \u00d6ffnen Sie die nav.component.html . Darin passen wir die Liste der Links ( <mat-nav-list> ) an. F\u00fcr Routen verwenden wir nicht href , sondern routerLinks . Die Liste soll so aussehen: Ausschnitt aus nav.component.html 7 8 9 10 11 < mat - nav - list > < a mat - list - item routerLink = \"/\" > Home < /a> < a mat - list - item routerLink = \"/table\" > Tabelle < /a> < a mat - list - item href = \"#\" > Link 3 < /a> < /mat-nav-list> Nun k\u00f6nnen wir die Navigations-komponente verwenden, um zwischen den Routen / und /table zu wechseln.","title":"Routing"},{"location":"material/#service","text":"Derzeit sind unsere MockUp-Daten statisch in der table-datasource.ts gespeichert. Wir wollen aber die Datenverwaltung (Speicherung und Bereitstellung) unabh\u00e4ngig von einer Komponente gestalten und allen Komponenten einen entsprechenden Service anbieten. Dazu erstellen wir uns einen solchen und legen diesen unter shared ab, da sich alle Komponenten diesen Service teilen (k\u00f6nnen). ng g service shared/data Es entsteht der shared -Ordner, der zwei Dateien enth\u00e4lt, die data.service.ts und die data.service.spec.ts . Letztere ist zum Testen und interessiert uns erstmal nicht. Schauen wir uns die data.service.ts einmal an: src/shared/data.service.ts 1 2 3 4 5 6 7 8 9 import { Injectable } from '@angular/core' ; @ Injectable ({ providedIn : 'root' }) export class DataService { constructor () { } } F\u00fcr Services gibt es keine Lifecycle-Hooks. Wir finden hier deshalb auch keine ngOnInit() -Methode. W\u00e4hrend Komponenten den Decorator @Component() aufweisen, wird f\u00fcr Services der Decorator @Injectable() verwendet. Mit diesem Decorator geben wir an, dass der Service weitere Abh\u00e4ngigkeiten einbinden kann. Dies geschieht typischerweise \u00fcber einen Parameter im Konstruktor - eine soganannte dependency injection (wenn \u00fcber den Konstruktor, dann constructor injection ). Auch wenn wir eine solche Abh\u00e4ngigkeit nicht einbinden, sollte der Decorator @Injectable() stets f\u00fcr einen Service angegeben werden. Dies liegt daran, dass wir diesen Decorator um die providedIn -Eigenschaft erweitern. Mit providedIn: 'root' geben wir an, dass der Service allen Komponenten (im gesamten Root-Modul) zur Verf\u00fcgung steht, er also von allen Komponenten genutzt werden kann. Bevor wir uns weiter um diesen Service k\u00fcmmern, erstellen wir uns erst noch ein Datenmodell, auf das alle Komponenten zugreifen k\u00f6nnen.","title":"Service"},{"location":"material/#datenmodell","text":"Derzeit haben wir unser Datenmodell ebenfalls statisch in der table-datasource.ts als interface TableItem definiert. Wir wollen das Interface auslagern (d.h. das Interface wird aus table-datasource.ts gel\u00f6scht und in das neue data.ts eingef\u00fcgt) und ebenfalls allen Komponenten zur Verf\u00fcgung stellen. Wir erstellen das Interface Data (der Name ist sehr generisch gehalten - f\u00fcr Ihr eigenes Datenmodell sollten Sie einen besseren Namen w\u00e4hlen): ng g interface shared/data In die data.ts tragen wir nun unser Datenmodell ein: src/app/shared/data.ts 1 2 3 4 5 6 export interface Data { id : number ; forename : string ; surname : string ; email : string ; } Wir wollen nun dieses Datenmodell verwenden und nicht mehr TableItem . Dazu \u00e4ndern wir nun zun\u00e4chst die table-source.ts . L\u00f6schen Sie dort am besten das gesamte interface TableItem . Jetzt sehen Sie, an welchen Stellen Sie TableItem durch Data ersetzen m\u00fcssen. Ersetzen Sie dann \u00fcberall TableItem durch Data . Passen Sie beim Importieren des Interfaces auf, dass Sie das richtige importieren, Ihre IDE bietet Ihnen auch andere Importm\u00f6glichkeiten an (das liegt an dem generisch gew\u00e4hlten Namen). Die richtige import -Anweisung ist: import { Data } from '../shared/data'; In der table.component.ts muss an der Stelle @ViewChild(MatTable) table: MatTable<TableItem>; ebenfalls TableItem durch Data ersetzt werden. In der Anweisung import { TableDataSource, TableItem } from './table-datasource'; entfernen Sie , TableItem und f\u00fcgen die Anweisung import { Data } from '../shared/data'; hinzu. Unsere aktualisierten table-datasource.ts und table.component.ts sehen nun so aus: aktualisierte Dateien src/table/table-datasource.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 import { DataSource } from '@angular/cdk/collections' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { map } from 'rxjs/operators' ; import { Observable , of as observableOf , merge } from 'rxjs' ; import { Data } from '../shared/data' ; // TODO: replace this with real data from your application const EXAMPLE_DATA : Data [] = [ { id : 1 , forename : 'Catherine' , surname : 'Williams' , email : 'cwilliamsl@360.cn' }, { id : 2 , forename : 'Adam' , surname : 'Anderson' , email : 'aanderson8@google.fr' }, { id : 3 , forename : 'Susan' , surname : 'Andrews' , email : 'sandrewsn@google.co.jp' }, { id : 4 , forename : 'Catherine' , surname : 'Andrews' , email : 'candrewsp@noaa.gov' }, { id : 5 , forename : 'Alan' , surname : 'Bradley' , email : 'abradley1c@globo.com' }, { id : 6 , forename : 'Anne' , surname : 'Brooks' , email : 'abrooks16@bravesites.com' }, { id : 7 , forename : 'Russell' , surname : 'Brown' , email : 'rbrownq@nifty.com' }, { id : 8 , forename : 'Ryan' , surname : 'Burton' , email : 'rburton18@foxnews.com' }, { id : 9 , forename : 'Roy' , surname : 'Campbell' , email : 'rcampbell1@geocities.com' }, { id : 10 , forename : 'Russell' , surname : 'Campbell' , email : 'rcampbell17@eventbrite.com' }, { id : 11 , forename : 'Bonnie' , surname : 'Coleman' , email : 'bcoleman11@fc2.com' }, { id : 12 , forename : 'Ernest' , surname : 'Coleman' , email : 'ecoleman15@businessweek.com' }, { id : 13 , forename : 'Richard' , surname : 'Cruz' , email : 'rcruz7@unc.edu' }, { id : 14 , forename : 'Sean' , surname : 'Cruz' , email : 'scruz10@answers.com' }, { id : 15 , forename : 'Rebecca' , surname : 'Cunningham' , email : 'rcunninghamd@mac.com' }, { id : 16 , forename : 'Margaret' , surname : 'Evans' , email : 'mevansh@pcworld.com' }, { id : 17 , forename : 'Jeffrey' , surname : 'Ford' , email : 'jford14@cnet.com' }, { id : 18 , forename : 'Andrea' , surname : 'Gardner' , email : 'agardnerv@woothemes.com' }, { id : 19 , forename : 'Deborah' , surname : 'George' , email : 'dgeorge6@furl.net' }, { id : 20 , forename : 'Sean' , surname : 'Gibson' , email : 'sgibsony@alexa.com' }, { id : 21 , forename : 'Virginia' , surname : 'Graham' , email : 'vgrahamk@aol.com' }, { id : 22 , forename : 'Steven' , surname : 'Hamilton' , email : 'shamiltonu@state.tx.us' }, { id : 23 , forename : 'Virginia' , surname : 'Hawkins' , email : 'vhawkinsf@ehow.com' }, { id : 24 , forename : 'Edward' , surname : 'Hicks' , email : 'ehicksc@pcworld.com' }, { id : 25 , forename : 'Mark' , surname : 'Johnson' , email : 'mjohnsonj@hostgator.com' }, { id : 26 , forename : 'Ruth' , surname : 'Jordan' , email : 'rjordan1a@smugmug.com' }, { id : 27 , forename : 'Antonio' , surname : 'Kim' , email : 'akim4@odnoklassniki.ru' }, { id : 28 , forename : 'Jennifer' , surname : 'Marshall' , email : 'jmarshallt@gnu.org' }, { id : 29 , forename : 'Eric' , surname : 'Matthews' , email : 'ematthews5@independent.co.uk' }, { id : 30 , forename : 'Raymond' , surname : 'Mcdonald' , email : 'rmcdonald2@ihg.com' }, { id : 31 , forename : 'Eric' , surname : 'Miller' , email : 'emillere@creativecommons.org' }, { id : 32 , forename : 'Jonathan' , surname : 'Morales' , email : 'jmoralesa@ovh.net' }, { id : 33 , forename : 'Marie' , surname : 'Morgan' , email : 'mmorganb@cloudflare.com' }, { id : 34 , forename : 'Amanda' , surname : 'Nelson' , email : 'anelson13@indiatimes.com' }, { id : 35 , forename : 'Lisa' , surname : 'Olson' , email : 'lolsonr@telegraph.co.uk' }, { id : 36 , forename : 'Alice' , surname : 'Ortiz' , email : 'aortizw@histats.com' }, { id : 37 , forename : 'Peter' , surname : 'Phillips' , email : 'pphillipss@1688.com' }, { id : 38 , forename : 'Matthew' , surname : 'Porter' , email : 'mporter9@europa.eu' }, { id : 39 , forename : 'Tammy' , surname : 'Ray' , email : 'trayx@weather.com' }, { id : 40 , forename : 'Mark' , surname : 'Richardson' , email : 'mrichardson1d@ihg.com' }, { id : 41 , forename : 'Joan' , surname : 'Roberts' , email : 'jroberts12@alibaba.com' }, { id : 42 , forename : 'Kathleen' , surname : 'Rose' , email : 'kroseg@pinterest.com' }, { id : 43 , forename : 'Steve' , surname : 'Sanders' , email : 'ssanders1b@wikispaces.com' }, { id : 44 , forename : 'Shirley' , surname : 'Scott' , email : 'sscottm@macromedia.com' }, { id : 45 , forename : 'Lillian' , surname : 'Stephens' , email : 'lstephens19@hugedomains.com' }, { id : 46 , forename : 'Nicole' , surname : 'Thompson' , email : 'nthompson3@admin.ch' }, { id : 47 , forename : 'Marie' , surname : 'Thompson' , email : 'mthompsonz@yelp.com' }, { id : 48 , forename : 'Alan' , surname : 'Vasquez' , email : 'avasquezo@miibeian.gov.cn' }, { id : 49 , forename : 'Mildred' , surname : 'Watkins' , email : 'mwatkins0@miibeian.gov.cn' }, { id : 50 , forename : 'Eugene' , surname : 'Williams' , email : 'ewilliamsi@deliciousdays.com' } ]; /** * Data source for the Table view. This class should * encapsulate all logic for fetching and manipulating the displayed data * (including sorting, pagination, and filtering). */ export class TableDataSource extends DataSource < Data > { data : Data [] = EXAMPLE_DATA ; paginator : MatPaginator ; sort : MatSort ; constructor () { super (); } /** * Connect this data source to the table. The table will only update when * the returned stream emits new items. * @returns A stream of the items to be rendered. */ connect () : Observable < Data [] > { // Combine everything that affects the rendered data into one update // stream for the data-table to consume. const dataMutations = [ observableOf ( this . data ), this . paginator . page , this . sort . sortChange ]; return merge (... dataMutations ). pipe ( map (() => { return this . getPagedData ( this . getSortedData ([... this . data ])); })); } /** * Called when the table is being destroyed. Use this function, to clean up * any open connections or free any held resources that were set up during connect. */ disconnect () : void {} /** * Paginate the data (client-side). If you're using server-side pagination, * this would be replaced by requesting the appropriate data from the server. */ private getPagedData ( data : Data []) : Data [] { const startIndex = this . paginator . pageIndex * this . paginator . pageSize ; return data . splice ( startIndex , this . paginator . pageSize ); } /** * Sort the data (client-side). If you're using server-side sorting, * this would be replaced by requesting the appropriate data from the server. */ private getSortedData ( data : Data []) : Data [] { if ( ! this . sort . active || this . sort . direction === '' ) { return data ; } return data . sort (( a , b ) => { const isAsc = this . sort . direction === 'asc' ; switch ( this . sort . active ) { case 'forename' : return compare ( a . forename , b . forename , isAsc ); case 'surname' : return compare ( a . surname , b . surname , isAsc ); case 'email' : return compare ( a . email , b . email , isAsc ); case 'id' : return compare ( + a . id , + b . id , isAsc ); default : return 0 ; } }); } } /** Simple sort comparator for example ID/Name columns (for client-side sorting). */ function compare ( a : string | number , b : string | number , isAsc : boolean ) : number { return ( a < b ? - 1 : 1 ) * ( isAsc ? 1 : - 1 ); } src/table/table.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 import { AfterViewInit , Component , OnInit , ViewChild } from '@angular/core' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { MatTable } from '@angular/material/table' ; import { TableDataSource } from './table-datasource' ; import { Data } from '../shared/data' ; @ Component ({ selector : 'jf-table' , templateUrl : './table.component.html' , styleUrls : [ './table.component.css' ] }) export class TableComponent implements AfterViewInit , OnInit { @ ViewChild ( MatPaginator ) paginator : MatPaginator ; @ ViewChild ( MatSort ) sort : MatSort ; @ ViewChild ( MatTable ) table : MatTable < Data > ; dataSource : TableDataSource ; /** Columns displayed in the table. Columns IDs can be added, removed, or reordered. */ displayedColumns = [ 'id' , 'forename' , 'surname' , 'email' ]; ngOnInit () : void { this . dataSource = new TableDataSource (); } ngAfterViewInit () : void { this . dataSource . sort = this . sort ; this . dataSource . paginator = this . paginator ; this . table . dataSource = this . dataSource ; } onRowClicked ( row ) : void { console . log ( 'Row clicked: ' , row ); } highlight ( event ) : void { event . target . style . backgroundColor = 'green' ; } } Jetzt funktioniert unsere Seite wieder. Unter localhost:4200/table wird die Tabelle wieder korrekt angezeigt. Das Datenmodell wurde als eigenst\u00e4ndiges interface ausgelagert und kann von allen Komponenten verwendet werden. Wir werden nun unseren data.service erweitern. Dazu \u00f6ffnen wir die Datei data.service.ts . Wir f\u00fcgen eine Eigenschaft data vom Typ Data[] hinzu, also den interface -Typ als Array. Bei der Erstellung des Services (im Konstruktor) werden die Daten eingelesen und data initialisiert. Au\u00dferdem erstellen wir eine Funktion getAll() , die das Data[] zur\u00fcckgibt. data.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 import { Injectable } from '@angular/core' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class DataService { data : Data []; constructor () { this . data = [ { id : 1 , forename : 'Catherine' , surname : 'Williams' , email : 'cwilliamsl@360.cn' }, /* hier das gesamte Array einf\u00fcgen! - an dieser Stelle gek\u00fcrzt */ { id : 50 , forename : 'Eugene' , surname : 'Williams' , email : 'ewilliamsi@deliciousdays.com' } ]; } getAll () : Data [] { return this . data ; } } Nun lassen wir die table -Komponente den Service nutzen. Dazu \u00f6ffnen wir zun\u00e4chst die table-datasource.ts . Darin l\u00f6schen wir die komplette Deklaration und Initialsisierung der const EXAMPLE_DATA: Data[] , da wir die Daten ja jetzt \u00fcber die getAll() -Funktion des Services holen wollen. Dazu binden wir den Service per dependency injection in den Konstruktor von TableDatasource ein und rufen in dem Konstruktor die getAll() -Funktion des DataService auf: table-datasource.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 import { DataSource } from '@angular/cdk/collections' ; import { MatPaginator } from '@angular/material/paginator' ; import { MatSort } from '@angular/material/sort' ; import { map } from 'rxjs/operators' ; import { Observable , of as observableOf , merge } from 'rxjs' ; import { Data } from '../shared/data' ; import { DataService } from '../shared/data.service' ; /** * Data source for the Table view. This class should * encapsulate all logic for fetching and manipulating the displayed data * (including sorting, pagination, and filtering). */ export class TableDataSource extends DataSource < Data > { data : Data []; paginator : MatPaginator ; sort : MatSort ; constructor ( private ds : DataService ) { super (); this . data = this . ds . getAll (); } /* * hier noch der Rest der Klasse * connect(), disconnect(), sort(), usw. */ Jetzt muss in der table.component.ts nur noch der Aufruf des Konstruktors vom DataService als Parmeter der TableDataSource() -Konstruktors erfolgen: table.component.ts 23 24 25 ngOnInit () : void { this . dataSource = new TableDataSource ( new DataService ()); } Der DataService muss dazu in table.component.ts importiert werden. Lassen Sie das durch Ihre IDE erledigen. Nun werden die Daten \u00fcber den Service bereitgestellt. Success Wir haben ein Datenmodell f\u00fcr unsere Daten erstellt und einen Service, der diese Daten \u00fcber die getAll() -Funktion zur Verf\u00fcgung stellt. Wir werden den Service um weitere Funktionen erweitern und weitere Routen zu unserer Anwendung hinzuf\u00fcgen.","title":"Datenmodell"},{"location":"material/#parametrisierte-routen","text":"Bis jetzt zeigen wir alle Daten zugleich in einer Tabelle an. Nun wollen wir auf einzelne Datens\u00e4tze zugreifen. Dies soll \u00fcber die id aus unserem Datensatz geschehen. Wir wollen die einzelnen Datens\u00e4tze \u00fcber die URL localhost:4200/table/id erreichen, wobei id f\u00fcr eine Zahl steht. Dazu erzeugen wir uns zun\u00e4chst eine neue Komponente single : ng g c single Diese Komponente soll ein Formular mit den Daten eines einzelnen Datensatzes aus unseren Mock-Up-Daten enthalten. Zun\u00e4chst k\u00fcmmern wir uns um die Route, \u00fcber die die Single-Komponente erreichbar sein soll. Dazu \u00f6ffnen wir die app-routing.module.ts und erweitern das routes -Array: const routes : Routes = [ { path : 'table' , component : TableComponent }, { path : 'table/:id' , component : SingleComponent } ]; Die id wird als Parameter f\u00fcr die Route vorgesehen, deshalb wird die Syntax :id verwendet. Damit der entsprechende Wert f\u00fcr :id aus der URL ausgelesen werden kann, ben\u00f6tigen wir in der Single-Komponente ein Objekt der Klasse ActivatedRoute . Dieses Objekt binden wir per dependency injection in den Konstruktor der Single-Komponente ein und fragen die URL in der ngOnInit() -Methode ab. Beachten Sie, wenn wir Objekte als private in den Konstruktor injizieren, dann wird daraus eine Eigenschaft der Klasse, d.h. wir k\u00f6nnen route und ds mithilfe von this in jeder Funktion der Klasse verwenden.: single.component.ts (Ausschnitt) 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 import { ActivatedRoute } from '@angular/router' ; import { DataService } from '../shared/data.service' ; import { Data } from '../shared/data' ; export class SingleComponent implements OnInit { id : string ; data : Data ; constructor ( private route : ActivatedRoute , private ds : DataService ) { } ngOnInit () : void { this . id = this . route . snapshot . paramMap . get ( 'id' ); this . data = this . ds . getSingleId ( this . id ); } Wir lesen aus der URL den Parameter id aus und speichern den Wert in this.id (siehe Zeile 26 ). Mit dem Wert rufen wir die getSingleId() -Funktion aus dem DataService auf. Diese Funktion gibt den Datensatz mit der entsprechenden id zur\u00fcck: data.service.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import { Injectable } from '@angular/core' ; import { Data } from './data' ; @ Injectable ({ providedIn : 'root' }) export class DataService { data : Data []; constructor () { this . data = [ /* hier das gesamte Array */ ]; } getAll () : Data [] { return this . data ; } getSingleId ( id : string ) : Data { return this . data . find ( data => ( data . id . toString () === id )); } } F\u00fcr Arrow-Funktionen siehe hier . Die Single-Komponente gestalten wir als Formular: single.component.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 < form [ formGroup ]=\" singleFormGroup \" ( ngSubmit )=\" onSubmit ( singleFormGroup . value )\" > < mat-form-field appearance = \"fill\" > < mat-label > Vorname </ mat-label > < input matInput placeholder = \"Vorname\" formControlName = \"forenameControl\" > </ mat-form-field > < br /> < mat-form-field appearance = \"fill\" > < mat-label > Nachname </ mat-label > < input matInput placeholder = \"Nachname\" formControlName = \"surnameControl\" > </ mat-form-field > < br /> < mat-form-field appearance = \"fill\" > < mat-label > E-Mail </ mat-label > < input matInput placeholder = \"E-Mail\" formControlName = \"emailControl\" > </ mat-form-field > < br /> < button mat-raised-button type = \"submit\" > Change </ button > </ form > single.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 import { Component , OnInit } from '@angular/core' ; import { FormBuilder , FormGroup , Validators } from '@angular/forms' ; import { ActivatedRoute } from '@angular/router' ; import { DataService } from '../shared/data.service' ; import { Data } from '../shared/data' ; @ Component ({ selector : 'jf-single' , templateUrl : './single.component.html' , styleUrls : [ './single.component.css' ] }) export class SingleComponent implements OnInit { singleFormGroup : FormGroup ; id : string ; data : Data ; constructor ( private fb : FormBuilder , private route : ActivatedRoute , private ds : DataService ) { } ngOnInit () : void { this . id = this . route . snapshot . paramMap . get ( 'id' ); console . log ( this . id ); this . data = this . ds . getSingleId ( this . id ); this . singleFormGroup = this . createFormGroup (); this . singleFormGroup . setValue ({ forenameControl : this . data . forename , surnameControl : this . data . surname , emailControl : this . data . email }); } createFormGroup () : FormGroup { return this . fb . group ({ forenameControl : [ '' , Validators . required ], surnameControl : [ '' , Validators . required ], emailControl : [ '' , Validators . required ] }); } onSubmit ( formData ) : void { this . singleFormGroup . reset (); console . warn ( 'Submitted: ' , formData ); } } Das Formular ist als reaktives Formular definiert (im Gegensatz zu Template-Formularen ). Wir verwenden den FormBuilder und dessen group -Funktion, um ein Formular zu erstellen. Das Formular selbst ist eine FormGroup . Es enth\u00e4lt drei FormControl -Elemente: forenameControl , surnameControl und emailControl . Mithilfe der setValue() -Funktion wird f\u00fcr diese Elemente ein value gesetzt. Unter dem Aufruf http://localhost:4200/table/11 sieht das Frontend jetzt z.B. so aus (Sie k\u00f6nnen nat\u00fcrlich auch den Slider und die \u00dcberschrift entfernen): Success Wir haben das Metrial-Schema f\u00fcr eine Tabelle ausprobiert, in der alle unsere Mockup-Daten angezeigt werden. In der Tablle kann nach allen Spalten sortiert werden. Au\u00dferdem ist die Tabelle paginiert. Wir haben Routing eingef\u00fchrt, um \u00fcber \"sprechende\" URLs auf unsere Komponenten zuzugreifen. Die Routen wurden auch mithife der IDs aus dem Datensatz parametrisiert. Wir haben ein Formular verwendet, um einen einzelnen Datensatz anzuzeigen. Die Verwaltung der Daten erfolgt \u00fcber einen Service, der allen Komponenten zur Verf\u00fcgung steht. Noch sind unsere Daten client-seitig gespeichert. Das soll in der n\u00e4chsten Lektion ge\u00e4ndert werden.","title":"Parametrisierte Routen"},{"location":"node/","text":"Node.js \u00b6 Viele der folgenden Beispiele sind dem Buch Sebastian Springer: \"Node.js. Das umfassende Handbuch\" 3., aktualisierte und erweiterte Auflage 2018, Rheinwerk Computing, ISBN 978-3-8362-6255-2 Link entnommen (und nur unwesentlich ge\u00e4ndert). Installation \u00b6 Installationsanweisungen f\u00fcr Ihr Betriebssystem finden Sie auf der Node.js-Webseite https://nodejs.org/ . Nach der Installation k\u00f6nnen Sie \u00fcberpr\u00fcfen, ob node erfolgreich installiert wurde. Geben Sie dazu im Terminal node -v ein. Es sollte die Versionsnummer erscheinen, z.B. v13.3.0 . Da es sich bei JavaScript um eine Skriptsprache handelt, kann jede Anweisung durch den Interpreter interpretiert und ausgef\u00fchrt werden. Deshalb l\u00e4sst sich Node.js auch als im interaktiven Modus auf der Kommandozeile testen. Geben Sie dazu im Terminal node ein. Es erscheint etwas in der Art Welcome to Node.js v13.3.0. Type \".help\" for more information. > Node.js befindet sich dann im Read-Eval-Print-Loop (REPL) . Die im Terminal eingegebenen Kommandos werden gelesen ( read ), evaluiert ( eval ), ausgegeben ( print ) und auf das n\u00e4chste Kommando gewartet ( loop ). Geben Sie im Terminal console.log(\"Hello FIW!\"); ein. Es erscheint Hello FIW! undefined Sie verlassen REPL durch Eingabe von .exit . Success Somit ist Node.js installiert. Der erste eigene Webserver \u00b6 Wir verwenden Node.js, um einen Webserver zu implementieren. Insbesondere wird dieser Webserver Anfragen ( requests ) unserer Webanwendung (des Clients) empfangen und verarbeiten. Die Verarbeitung wird meistens ein Zugriff auf eine Datenbank sein. Als Antwort ( response ) wird der Webserver die angefragten Daten an unsere Anwendung zur\u00fccksenden. Wir werden nun unseren ersten einfachen Webserver mithilfe von Node.js implementieren. Erstellen Sie sich in Ihrem workspace ein Verzeichnis backend und darin eine Datei server.js (das kann nat\u00fcrlich alles auch anders hei\u00dfen). \u00d6ffnen Sie die Datei mit Ihrer IDE und geben Sie folgendes ein: server.js 1 2 3 4 5 6 7 8 9 10 11 const http = require ( 'http' ); const server = http . createServer ( function ( request , response ) { response . writeHead ( 200 , { 'content-type' : 'text/plain; charset=utf-8' }); response . write ( 'Hello ' ); response . end ( 'FIW!\\n' ); }); server . listen ( 8080 , function () { console . log ( 'Server is listening to http://localhost:8080' ); }); Wechseln Sie im Terminal in Ihr backend -Verzeichnis. Darin befindet sich die server.js . Geben Sie ein: node server.js Sie erhalten die Ausgabe Server is listening to http://localhost:8080 . Port bereits belegt Sollten Sie den Fehler Error: listen EADDRINUSE:::8080 erhalten, so ist der Port 8080 bei Ihnen bereits durch eine andere Anwendung belegt. Dann w\u00e4hlen Sie einen anderen Port, z.B. 8081 . Success Ihr Webserver l\u00e4uft nun! Dies k\u00f6nnen wir auf verschiedene Arten testen: Geben Sie http://localhost:8080 in Ihren Browser ein. Es erscheint Hello FIW! im Browser. Nutzen Sie curl und geben Sie im Terminal curl http://localhost:8080 ein. Es erscheint Hello FIW! im Terminal. Nutzen Sie 'Postman' und geben Sie in das Eingabefeld neben GET die URL http://localhost:8080 ein und klicken auf Send . Es erscheint Hello FIW! im unteren Teil des Fensters (Reiter Body ). Der Webserver l\u00e4uft nun so lange, bis wir ihn beenden. Wir betrachten das obige Listing im Detail. In Zeilennummer 1 wird das http -Modul von Node.js geladen und der Variablen http zugewiesen. Das Laden von Modulen erfolgt in Node.js mithilfe der Funktion require() . In Zeilennummer 3 wird ein Webserver mithilfe des http -Moduls erzeugt ( createServer() ). Das http -Modul bietet auch die M\u00f6glichkeit, einen Client zu erzeugen - aber das machen wir nicht mit Node.js sondern mit Angular. In Zeile 9 geben wir an, dass der Webserver nun permanent am Port 8080 auf Anfragen lauschen soll. Als 2. Parameter der listen() -Funktion h\u00e4tte auch ein HOST angegeben werden k\u00f6nnen, also die IP-Adresse des Webservers. Wird keine IP-Adresse angegeben, so wie hier, ist es in unserem Fall localhost . Dann folgt eine Callback -Funktion , die einen String auf die Konsole ausgibt, sobald die Verbindung steht. In den Zeilen 4 bis 6 ist die Antwort ( response ) des Webservers auf eine Anfrage ( request ) des Clients definiert. Die Funktion, die diese Antwort erstellt, ist eine Callback-Funktion der createServer -Funktion (in Zeile 3). Diese Callback-Funktion besitzt die beiden Parameter request und response . In diesem ersten Beispiel wird nur eine Response definiert. Diese besteht aus einem HTTP-Header ( writeHead() ) und einem HTTP-Body ( write() + end() ). Die Funktion writeHead() , die den HTTP-Header erzeugt, besitzt 2 Parameter. Der erste Parameter ist der HTTP-Status-Code . Der Status-Code 200 besagt, dass die Anfrage ( request ) vom Server empfangen wurde und die Antwort ( response ) in dieser Nachricht enthalten ist. Der eigentliche HTTP-Header wird mit dem zweiten Parameter \u00fcbertragen. In diesem Fall \u00fcbermittelt der Server dem Client die Informationen, dass es sich bei der Antwort um reinen Text handelt ( content-type:text-plain ) und dass der HTTP-Body unter Verwendung des Zeichensatzes UTF-8 ( charset=utf-8 ) kodiert ist. Der HTTP-Body wird mit der write() -Funktion \u00fcbertragen und mit der end() -Funktion abgeschlossen. In diesem Fall besteht der Body aus der Zeichenkette Hello FIW! . Eine Erweiterung der Antwort \u00b6 Im obigen Beispiel bestand die Antwort aus reinem Text. Wir erweitern die Antwort nun und senden vom Webserver an den Client als Body eine vollst\u00e4ndige HTML-Seite. server.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const http = require ( 'http' ); const server = http . createServer ( function ( request , response ) { response . writeHead ( 200 , { 'content-type' : 'text/html; charset=utf-8' }); const body = `<!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title>WebTech - Node.js</title> </head> <body> <h1 style=\"color:#76B900\">Hello FIW!</h1> </body> </html>` ; response . end ( body ); }); server . listen ( 8080 , function () { console . log ( 'Server is listening to http://localhost:8080' ); }); Achten Sie darauf, dass der content-type nun text/html ist, nicht mehr text/plain (Zeile 4). Sollte Ihr Server aus dem vorherigen Beispiel noch laufen, so m\u00fcssen Sie ihn zun\u00e4chst beenden. Geben Sie im Termina zum Beenden des Prozesses node server.js einfach Strg+C ( Ctrl+C ) und sarten Sie den Server unter Eingabe von node server.js erneut. Rufen Sie im Browser http://localhost:8080/ auf. Es erscheint Sie k\u00f6nnen ja auch mal den content-type erneut auf text/plain setzen und den Server erneut starten (1. Ctrl+C und 2. node server.js ), um zu sehen, welche Bedeutung die Angabe des content-type hat. Template-String \u00b6 Im obigen Beispiel ist der String body in Backtick-Zeichen ` eingeschlossen. Das nennt man Template-String und erm\u00f6glicht mithilfe von ${} Ausdr\u00fccke bzw. Variablen auszuwerten. Im Folgenden ist eine solche Verwendung einer Variable gezeigt. Template-String 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 const http = require ( 'http' ); const server = http . createServer ( function ( request , response ) { response . writeHead ( 200 , { 'content-type' : 'text/html; charset=utf-8' }); const name = 'FIW!' ; const body = `<!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title>WebTech - Node.js</title> </head> <body> <h1 style=\"color:#76B900\">Hello ${ name } </h1> </body> </html>` ; response . end ( body ); }); server . listen ( 8080 , function () { console . log ( 'Server is listening to http://localhost:8080' ); }); In Zeile 6 wird eine Variable name definiert, der der String FIW! zugewiesen wird. In Zeile 14 wird mithilfe von ${ name } der Wert der Variable name in das HTML eingebunden, so dass der Inhalt der \u00dcberschrift <h1> zu Hello FIW! ausgewertet wird. URLs auswerten \u00b6 Eine URL kann um Schl\u00fcssel-Werte-Paare ( Parameter ) erweitert werden, um Daten mit der URL an den Webserver zu senden (siehe HTML \u2192 URLs ). Ein Schl\u00fcssel-Werte-Paar wird immer durch ein = verbunden: key = value Das erste Schl\u00fcssel-Werte-Paar wird hinter ein ? an die URL geh\u00e4ngt. Jedes weitere Paar wird mit einem & angebunden: http://www.example.org/?key1 = value1 & key2 = value2 & key3 = value3 Wir werden jetzt diese Parameter auswerten. Dazu laden wir einerseits ein weiteres Modul, n\u00e4mlich das url -Modul und wir werten die Anfrage ( request ) dahingehend aus, dass wir die Parameter der URL auswerten. server.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 const http = require ( 'http' ); const url = require ( 'url' ); const server = http . createServer ( function ( request , response ) { response . writeHead ( 200 , { 'content-type' : 'text/html; charset=utf-8' }); const parsedUrl = url . parse ( request . url , true ); const params = parsedUrl . query ; const body = `<!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title>WebTech - Node.js</title> </head> <body> <h1 style=\"color:#76B900\">Hello ${ params . name } in ${ params . ort } </h1> </body> </html>` ; response . end ( body ); }); server . listen ( 8080 , function () { console . log ( 'Server is listening to http://localhost:8080' ); }); Nach dem restart des Webservers (1. Ctrl+C und 2. node server.js ) und der Eingabe folgender URL: http://localhost:8080/?name=FIW&ort=Berlin wird im Browser Folgendes angezeigt: Chrome Developer Tools \u00b6 Die Chrome Developer Tools k\u00f6nnen auch zum Debuggen von Node.js-Anwendungen verwendet werden. Rufen Sie daf\u00fcr Ihre Node.js-Anwendung im Terminal mit dem --inspect -Flag auf: node --inspect server.js Im Terminal erscheint eine Ausgabe in der Form: Debugger listening on ws://127.0.0.1:9229/dc995a6a-61eb-4143-af7e-ac8e4599dcd7 For help, see: https://nodejs.org/en/docs/inspector Server is listening to http://localhost:8080 Im Chrome-Browser k\u00f6nnen Sie nun einerseits wie gewohnt die URL http://localhost:8080/?name=FIW&ort=Berlin eingeben, aber das Debuggen kann unter Eingabe der URL chrome://inspect/ erfolgen. Es erscheint folgende Seite im Browser: F\u00fcr weitere Informationen zum Debuggen siehe z.B. https://nodejs.org/en/docs/guides/debugging-getting-started/ . Success Wir haben mithilfe von Node.js einen ersten eigenen Webserver erstellt. Wir haben uns mit dem Konzept von Request und Response vertraut gemacht und eine eigene Response erstellt. Wir haben Argumente aus der URL ausgelesen und somit dynamisch unsere Response angepasst. Wir wollen nun zun\u00e4chst ein Framework kennenlernen, das uns manche Arbeiten erleichtert: Express. Express \u00b6 Express ist ein Node.js-Framework, das einerseits recht einfach gehalten wurde, andererseits aber alle wesentlichen Funktionen f\u00fcr eine Web-Anwendung bereith\u00e4lt. So m\u00fcssen wir uns beispielsweise bei der Verwendung von Express nicht mehr selbst um das Parsen der URL k\u00fcmmern. Wir werden im Folgenden ein kleines Projekt zu Verwaltung von Filmen erstellen. Dies geschieht mithilfe von npm . npm ist der Node package manager . Bisher enth\u00e4lt unser Ordner backend nur die Datei server.js . Das ist jedoch insofern noch kein wirkliches Node.js-Projekt, da es noch nicht vom Paketmanager, also npm verwaltet wird. Um dies zu tun wechseln wir in den Ordner backend und initialisieren dann unser Node.js-Projekt: im Ordner backend npm init Sie werden nun einige Sachen gefragt und k\u00f6nnen eigentlich immer jeweils mit Enter best\u00e4tigen. Es erfolgt also ungef\u00e4hr ein solcher Dialog im Terminal: % npm init This utility will walk you through creating a package.json file. It only covers the most common items, and tries to guess sensible defaults. See ` npm help init ` for definitive documentation on these fields and exactly what they do . Use ` npm install <pkg> ` afterwards to install a package and save it as a dependency in the package.json file. Press ^C at any time to quit. package name: ( backend ) backend version: ( 1 .0.0 ) description: Node.js-Backend entry point: ( server.js ) test command: git repository: keywords: author: license: ( ISC ) About to write to /Users/jornfreiheit/workspace/backend/package.json: { \"name\" : \"backend\" , \"version\" : \"1.0.0\" , \"description\" : \"Node.js-Backend\" , \"main\" : \"server.js\" , \"scripts\" : { \"test\" : \"echo \\\"Error: no test specified\\\" && exit 1\" , \"start\" : \"node server.js\" } , \"author\" : \"\" , \"license\" : \"ISC\" } Is this OK? ( yes ) Das wesentliche Ergebnis der Initialisierung ist die Erstellung der package.json -Datei. Darin k\u00f6nnen wir Paketabh\u00e4ngigkeiten definieren. Au\u00dferdem ist in dem Ordner backend ein Unterordner node_modules entstanden, der die Node.js-Module enth\u00e4lt, die wir ben\u00f6tigen. Als erstes installieren wir Express: npm install express Nun bauen wir uns eine kleine index.js -Datei, die unsere erste Express-Anwendung darstellt. 1 2 3 4 5 6 7 8 9 10 const express = require ( 'express' ); const app = express (); app . get ( '/' , ( req , res ) => { res . send ( 'My first express application' ); }); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); In Zeile 1 wird das Express-Paket eingebunden. In Zeile 2 wird eine Express-App mit Basiskonfiguration erzeugt (hier ein app -Objekt). Die get() -Funktion des app -Objektes erzeugt eine Route, \u00fcber die man sich mit dem Browser mit der App verbinden kann (Zeilen 4 - 6 ). Als Response ( res ) wird einfach eine Zeichenkette gesendet ( send ). In den Zeilen 8 - 10 wird die App an den Port 8080 gebunden. Hier erfolgt intern die Erstellung eines Node.js-Servers mit http -Modul. Wenn Sie nun node index.js innerhalb des backend -Ordners aufrufen, wird der Node.js-Server erstellt und Sie k\u00f6nnen im Browser unter der URL localhost:8080 darauf zugreifen. Es erscheint: Im obigen Beispiel erkennt man in Zeile 4 zwei Parameter der Routing-Callback-Funktion innerhalb der app.get() -Methode: das Request -Objekt req und das Response -Objekt res . Beide Objekte geh\u00f6ren zu den elementaren Elementen einer Applikation. Request \u00b6 Die Eigenschaften des Request -Objektes req sind in https://expressjs.com/de/api.html#req erl\u00e4utert. Hier folgt eine kurze unvollst\u00e4ndige Auflistung: Eigenschaft Bedeutung method HTTP-Methode, mit der die Anfrage gesendet wurde (z.B. GET oder POST) originalUrl enth\u00e4lt die Anfrage-URL params enth\u00e4lt die variablen Anteile der Anfrage-URL protocol enth\u00e4lt das Protokoll der Anfrage (z.B. http oder https) query ist ein Objekt, das alle Parameter der Anfrage-URL enth\u00e4lt Response \u00b6 Die Eigenschaften des Response -Objektes res sind in https://expressjs.com/de/api.html#res erl\u00e4utert. Hier folgt eine kurze unvollst\u00e4ndige Auflistung: Methode Bedeutung get(field) gibt den Response-Header von field zur\u00fcck (z.B. get('Content-Type') ) set(field[,value]) setzt den Wert des angegebenen Header-Feldes json([body]) sendet eine JSON-Response ( [body] ist das JSON-Objekt) cookie(name,value[,options]) setzt einen Cookie-Wert name=value redirect([status,]path) Weiterleitung der Anfrage nach path status(code) setzt den Status der Antwort auf code send([body]) sendet die HTTP-Antwort end([data][,encoding]) beendet den Antwortprozess Router \u00b6 Wie man der API-Dokumentation von Express entnehmen kann, sind die Grundelemente einer Express-Anwendung die express() -Funktion , die die Express-Anwendung erstellt, die Eigenschaften und Methoden , die dieser Anwendung zur Verf\u00fcgung stehen, das Request -Objekt , das Response -Objekt sowie der Router . Mit Letzterem besch\u00e4ftigen wir uns jetzt. Unser Projekt soll folgende Struktur aufweisen: backend +---- movie | +---- model.js | +---- view.js | +---- controller.js | +---- movierouter.js +---- node_modules +---- index.js +---- package.json backend , movie und node_modules sind jeweils Ordner. node_modules wurde automatisch erzeugt (durch npm init und enth\u00e4lt alle eingebundenen Node.js-Pakete). Wir erstellen zun\u00e4chst die Datei movie/movierouter.js 1 und \"specken\" die index.js etwas ab (die get() -Funktion wird gel\u00f6scht). movie/movierouter.js 1 2 3 4 5 6 7 8 9 10 const express = require ( 'express' ); const router = express . Router (); const data = [ /* siehe Reiter \"const data\" */ ]; router . get ( '/' , ( req , res ) => { res . send ( data ); }); module . exports = router ; index.js 1 2 3 4 5 6 7 const express = require ( 'express' ); const app = express (); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); const data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const data = [ { id : 1 , title : 'Die Verurteilten' , year : '1994' }, { id : 2 , title : 'Der Pate' , year : '1972' }, { id : 3 , title : 'Der Pate 2' , year : '1974' }, { id : 4 , title : 'The Dark Knight' , year : '2008' }, { id : 5 , title : 'Die zw\u00f6lf Geschworenen' , year : '1957' }, { id : 6 , title : 'Schindlers Liste' , year : '1993' }, { id : 7 , title : 'Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs' , year : '2003' }, { id : 8 , title : 'Pulp Fiction' , year : '1994' }, { id : 9 , title : 'Zwei glorreiche Halunken' , year : '1966' }, { id : 10 , title : 'Fight Club' , year : '1999' }, { id : 11 , title : 'Der Herr der Ringe: Die Gef\u00e4hrten' , year : '2001' }, { id : 12 , title : 'Forrest Gump' , year : '1994' }, { id : 13 , title : 'Inception' , year : '2010' }, { id : 14 , title : 'Das Imperium schl\u00e4gt zur\u00fcck' , year : '1980' }, { id : 15 , title : 'Der Herr der Ringe: Die zwei T\u00fcrme' , year : '2002' }, { id : 16 , title : 'Matrix' , year : '1999' }, { id : 17 , title : 'GoodFellas \u2013 Drei Jahrzehnte in der Mafia' , year : '1990' }, { id : 18 , title : 'Einer flog \u00fcber das Kuckucksnest' , year : '1975' }, { id : 19 , title : 'Joker' , year : '2019' }, { id : 20 , title : 'Die sieben Samurai' , year : '1954' }, ]; Beachten Sie, dass in den obigen Listings aus Gr\u00fcnden der \u00dcbersichtlichkeit in der movie/movierouter.js das JSON-Objekt herausgel\u00f6scht und im Reiter \"const data\" zur Verf\u00fcgung gestellt wurde (muss dann hineinkopiert werden). In der movie/movierouter.js wird das Router -Objekt, das in Zeile 2 erzeugt wird, in Zeile 10 exportiert. Im Folgenden wird gezeigt, wie der Router nun in unsere Anwendung eingebunden wird. Dies passiert in der index.js . Die hinzugef\u00fcgten Zeilen sind markiert. index.js 1 2 3 4 5 6 7 8 9 10 11 12 const express = require ( 'express' ); const movieRouter = require ( './movie/movierouter' ); const app = express (); app . get ( '/' , ( req , res ) => res . redirect ( '/movie' )); app . use ( '/movie' , movieRouter ); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); Beim Laden des Moduls wird die .js -Endung nicht mit angegeben. Das hei\u00dft, der Router wird aus der movie/movierouter.js -Datei mittels require('./movie/movierouter') geladen (siehe Zeile 2 ). W\u00e4re der Router sogar in einer Datei movie/index.js , m\u00fcsste dieser Name nicht angegeben werden, es w\u00fcrde also gen\u00fcgen, den Router \u00fcber den Pfad /movie zu laden (entspricht also /movie/index ). Die use() -Methode in Zeile 8 gibt an, dass der movieRouter (aus movie/index.js ) f\u00fcr das Routing des Pfades url /movie zust\u00e4ndig ist. Die get() -Methode aus Zeile 6 sorgt daf\u00fcr, dass der Aufruf url / (also z.B. localhost:8080 ) nach url /movie (also z.B. localhost:8080/movie ) weitergeleitet wird. Rufen Sie nun im backend -Ordner node index.js auf und geben Sie im Browser localhost:8080 ein. Beobachten Sie, dass auf die URL localhost:8080/movie weitergeleitet wird. Es erscheint im Browser (entweder parsed oder raw - Abh\u00e4ngig von Browser und Browser-Plugins): Model-View-Controller \u00b6 Bis jetzt steckt alles im Router ( /movie/movierouter.js ). Wir werden im ersten Schritt die Daten (die eigentlich zum Model geh\u00f6ren) und eine Aktion ( listAction ) im Controller ( movie/controller.js ) definieren. movie/controller.js 1 2 3 4 5 6 7 8 9 const data = [ /* siehe Reiter \"const data\" */ ]; function listAction ( request , response ) { response . send ( data ); } module . exports = { listAction , }; movie/movierouter.js 1 2 3 4 5 6 7 8 const express = require ( 'express' ); const router = express . Router (); const { listAction } = require ( './controller' ); router . get ( '/' , listAction ); module . exports = router ; const data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const data = [ { id : 1 , title : 'Die Verurteilten' , year : '1994' }, { id : 2 , title : 'Der Pate' , year : '1972' }, { id : 3 , title : 'Der Pate 2' , year : '1974' }, { id : 4 , title : 'The Dark Knight' , year : '2008' }, { id : 5 , title : 'Die zw\u00f6lf Geschworenen' , year : '1957' }, { id : 6 , title : 'Schindlers Liste' , year : '1993' }, { id : 7 , title : 'Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs' , year : '2003' }, { id : 8 , title : 'Pulp Fiction' , year : '1994' }, { id : 9 , title : 'Zwei glorreiche Halunken' , year : '1966' }, { id : 10 , title : 'Fight Club' , year : '1999' }, { id : 11 , title : 'Der Herr der Ringe: Die Gef\u00e4hrten' , year : '2001' }, { id : 12 , title : 'Forrest Gump' , year : '1994' }, { id : 13 , title : 'Inception' , year : '2010' }, { id : 14 , title : 'Das Imperium schl\u00e4gt zur\u00fcck' , year : '1980' }, { id : 15 , title : 'Der Herr der Ringe: Die zwei T\u00fcrme' , year : '2002' }, { id : 16 , title : 'Matrix' , year : '1999' }, { id : 17 , title : 'GoodFellas \u2013 Drei Jahrzehnte in der Mafia' , year : '1990' }, { id : 18 , title : 'Einer flog \u00fcber das Kuckucksnest' , year : '1975' }, { id : 19 , title : 'Joker' , year : '2019' }, { id : 20 , title : 'Die sieben Samurai' , year : '1954' }, ]; Controller \u00b6 Der Controller verwaltet perspektivisch die View und das Model. Beides haben wir jetzt noch nicht. Zun\u00e4chst wird im Controller eine Aktion listAction definiert, die alle Daten in einer Response ( response.send(data) ) sendet 2 . Diese Aktion wird mittels exports anderen Modulen zur Verf\u00fcgung gestellt. Der Router ( movierouter.js ) wurde entsprechend angepasst. Einerseits haben wir die Daten aus dem Router entfernt, andererseits enth\u00e4lt die get() -Methode nun nicht mehr die direkte Implementierung (die ja in den Controller ausgelagert wurde), sondern ruft die Methode listAction des Controllers auf. Dazu muss sie eingebunden werden. Dies w\u00fcrde normalerweise wie folgt geschehen: const controller = require ( './controller' ); const listAction = controller . listAction ; Da ein solches Konstrukt h\u00e4ufig vorkommt, wurde ein sogenanntes destructuring eingef\u00fchrt. Obiger Code wird mithilfe von destructuring durch const { listAction } = require ( './controller' ); ersetzt und verzichtet somit auf die Hilfsvariable controller . Die Eigenschaft, die im Controller listAction hei\u00dft (und importiert wird), wird direkt geladen. Model \u00b6 Das Model ( movie/model.js ) verwaltet die Daten. Dazu werden wir zun\u00e4chst die Daten aus dem Controller in das Model verschieben. Au\u00dferdem stellt das Model eine Funktion ( getAll() ) zum Auslesen aller Daten zur Verf\u00fcgung: movie/model.js 1 2 3 4 5 6 7 const data = [ /* siehe Reiter \"const data\" */ ]; module . exports = { getAll () { return data ; }, }; movie/controller.js 1 2 3 4 5 6 7 8 9 const model = require ( './model' ); function listAction ( request , response ) { response . send ( model . getAll ()); } module . exports = { listAction , }; const data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const data = [ { id : 1 , title : 'Die Verurteilten' , year : '1994' }, { id : 2 , title : 'Der Pate' , year : '1972' }, { id : 3 , title : 'Der Pate 2' , year : '1974' }, { id : 4 , title : 'The Dark Knight' , year : '2008' }, { id : 5 , title : 'Die zw\u00f6lf Geschworenen' , year : '1957' }, { id : 6 , title : 'Schindlers Liste' , year : '1993' }, { id : 7 , title : 'Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs' , year : '2003' }, { id : 8 , title : 'Pulp Fiction' , year : '1994' }, { id : 9 , title : 'Zwei glorreiche Halunken' , year : '1966' }, { id : 10 , title : 'Fight Club' , year : '1999' }, { id : 11 , title : 'Der Herr der Ringe: Die Gef\u00e4hrten' , year : '2001' }, { id : 12 , title : 'Forrest Gump' , year : '1994' }, { id : 13 , title : 'Inception' , year : '2010' }, { id : 14 , title : 'Das Imperium schl\u00e4gt zur\u00fcck' , year : '1980' }, { id : 15 , title : 'Der Herr der Ringe: Die zwei T\u00fcrme' , year : '2002' }, { id : 16 , title : 'Matrix' , year : '1999' }, { id : 17 , title : 'GoodFellas \u2013 Drei Jahrzehnte in der Mafia' , year : '1990' }, { id : 18 , title : 'Einer flog \u00fcber das Kuckucksnest' , year : '1975' }, { id : 19 , title : 'Joker' , year : '2019' }, { id : 20 , title : 'Die sieben Samurai' , year : '1954' }, ]; Die Funktion getAll() im Model ( movie/model.js ) wird jetzt direkt dort implementiert, wo sie auch exportiert wird. Die Implementierung h\u00e4tte man auch auf eine Variable legen k\u00f6nnen (wie listAction beim Controller) und dann exportieren. Der Controller ( movie/controller.js ) liest das Model ein (Zeile 1 ) und verwendet die getAll() -Funktion, um die Daten zu senden (Zeile 4 ). View \u00b6 Die View ist f\u00fcr die Darstellung verantwortlich. Sp\u00e4ter wird diese von uns in Angular umgesetzt. Hier wird es nur zur Verdeutlichung gezeigt. Wir verwenden JavaScript-Template-Strings (sozusagen eine Mischung aus JavaScript und HTML). Wer m\u00f6chte, kann diesen Abschnitt auch \u00fcberspringen, da wir sp\u00e4ter unsere Oberfl\u00e4che viel aufwendiger mit Angular gestalten. movie/view.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 module . exports = function render ( movies ) { return ` <!DOCTYPE html> <html lang=\"de\"> <head> <meta charset=\"UTF-8\"> <title>Movie-list</title> </head> <body> <table> <thead> <tr> <th>Id</th> <th>Title</th> </tr> </thead> <tbody> ${ movies . map ( movie => `<tr><td> ${ movie . id } </td> <td> ${ movie . title } </td></tr>` ). join ( '' ) } </tbody> </table> </body> </html> ` }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 const model = require ( './model' ); const view = require ( './view' ); function listAction ( request , response ) { const movies = model . getAll (); const body = view ( movies ); response . send ( body ); } module . exports = { listAction , }; In der View ( movie/view.js ) wird also eine HTML-Tabelle ( <table> ) erzeugt. Der Funktion render werden die anzuzeigenden Daten als JSON-Array \u00fcbergeben. Die JavaScript-Funktion map() durchl\u00e4uft jeden einzelnen Eintrag des Arrays und speichert ihn jeweils in die Variable movie . Jeder movie wird in einer Tabllenzeile ( <tr> ) dargestellt und besteht aus einer id und einem title (siehe const data im Model). Auf diese Elemente wird zugegriffen und in einzelnen Dateneintr\u00e4gen der Tabelle ( <td> ) dargestellt. Die JavaScript-Funktion join() verbindet diese Struktur zu einem String (Konkatenation mit '' ), so dass der Template-String tats\u00e4chlich ein String ist. Im Controller ( movie/controller.js ) wird die View eingebunden (Zeile 2 ) und dieser View die Movie-Daten \u00fcbergeben, so dass body dann den durch movie.render() erzeugten String enth\u00e4lt (die HTML-Seite). Dieser wird als Response gesendet. Nach einem Neustart der Anwendung ( node index.js im Ordner backend ) erscheint im Browser ( localhost:8080 ) folgende Seite: Success Wir haben mit Express das bekannteste Node.js-Framework verwendet, um die Verarbeitung von Daten im Rahmen des Model-View-Controller-Konzeptes umzusetzen. Im obigen Beispiel haben wir die Daten (die Filme) direkt im JSON-Format im Model gespeichert. Das ist nat\u00fcrlich nicht flexibel. Wir werden die Daten nun in eine Datenbank auslagern. Anbindung von Datenbanken \u00b6 Wir wollen Node.js haupts\u00e4chlich daf\u00fcr verwenden, im Backend mit einer Datenbank zu kommunizieren. Wir wollen dies hier exemplarisch mit MySQL (siehe Werkzeuge \u2192 MySQL ) erl\u00e4utern. Die Verwendung von z.B. PostgreSQL ist \u00e4quivelent - Sie ben\u00f6tigen nur einen anderen Datenbanktreiber. Wir werden zun\u00e4chst das Node.js-Paket, das den mysql -Treiber enth\u00e4lt, installieren: npm install mysql Danach ist in der package.json die Abh\u00e4ngigkeit vom mysql -Paket hinterlegt (siehe \"dependencies\" ): package.json { \"name\" : \"backend\" , \"version\" : \"1.0.0\" , \"description\" : \"Node.js-Backend for MySQL\" , \"main\" : \"server.js\" , \"scripts\" : { \"test\" : \"echo \\\"Error: no test specified\\\" && exit 1\" , \"start\" : \"node server.js\" }, \"author\" : \"\" , \"license\" : \"ISC\" , \"dependencies\" : { \"mysql\" : \"^2.18.1\" } } Eine Movie-Datenbank \u00b6 Wir werden die Anbindung von Datenbanken exemplarisch an der Movie -Datenbank zeigen, die wir bereits im obigen Express -Abschnitt verwendet haben. Dazu erstellen wir uns eine Datenbank namens movie-db und bef\u00fcllen diese mit einigen Filmen (Tabelle Movie ). Sie k\u00f6nnen diese Datenbak auf verschiedenen Wegen erstellen. Am einfachsten ist es, wenn Sie phpMyadmin verwenden. Dort k\u00f6nnen Sie folgende SQL-Anfrage im Reiter SQL eingeben (Sie k\u00f6nnen auch im Terminal SQL -Anfragen eingeben nachdem Sie sich dort per mysql -u root -p mit dem MySQL-Server verbunden haben): CREATE DATABASE ` movie - db ` ; USE ` movie - db ` ; CREATE TABLE ` Movies ` ( ` id ` int ( 11 ) NOT NULL AUTO_INCREMENT , ` title ` varchar ( 255 ) DEFAULT NULL , ` year ` int ( 11 ) DEFAULT NULL , PRIMARY KEY ( ` id ` ) ) ENGINE = InnoDB DEFAULT CHARSET = utf8 ; INSERT INTO ` Movies ` ( ` title ` , ` year ` ) VALUES ( 'Die Verurteilten' , '1994' ), ( 'Der Pate' , '1972' ), ( 'Der Pate 2' , '1974' ), ( 'The Dark Knight' , '2008' ), ( 'Die zw\u00f6lf Geschworenen' , '1957' ), ( 'Schindlers Liste' , '1993' ), ( 'Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs' , '2003' ), ( 'Pulp Fiction' , '1994' ), ( 'Zwei glorreiche Halunken' , '1966' ), ( 'Fight Club' , '1999' ), ( 'Der Herr der Ringe: Die Gef\u00e4hrten' , '2001' ), ( 'Forrest Gump' , '1994' ), ( 'Inception' , '2010' ), ( 'Das Imperium schl\u00e4gt zur\u00fcck' , '1980' ), ( 'Der Herr der Ringe: Die zwei T\u00fcrme' , '2002' ), ( 'Matrix' , '1999' ), ( 'GoodFellas \u2013 Drei Jahrzehnte in der Mafia' , '1990' ), ( 'Einer flog \u00fcber das Kuckucksnest' , '1975' ), ( 'Joker' , '2019' ), ( 'Die sieben Samurai' , '1954' ); Wir verwenden das Projekt, das wir bereits im obigen Express -Abschnitt verwendet haben, also die Dateien aus backend : backend +---- movie | +---- model.js | +---- view.js | +---- controller.js | +---- movierouter.js +---- node_modules +---- index.js +---- package.json Zun\u00e4chst \u00e4ndern wir die movie/model.js . Darin werden nun nicht mehr die Daten gehalten, sondern die Verbindung zur Datenbank aufgebaut. Au\u00dferdem sehen wir 4 Funktionen zur Datenverwaltung vor, wovon wir eine ( getAll() ) gleich implementieren 3 : movie/model.js const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } module . exports = { getAll , }; movie/controller.js const model = require ( './model' ); const view = require ( './view' ); function listAction ( request , response ) { model . getAll (). then ( movies => { response . send ( view ( movies )); }, error => response . send ( error ), ); } module . exports = { listAction , }; Im Model ( /movie/model.js ) wird zun\u00e4chst die Verbindung zur Datenbank aufgebaut (Zeilen 2-7 und connection.connect() ). Die getAll() -Funktion stellt mithilfe von connection.query() eine Anfrage an die Datenbank (erster Parameter der connection.query() -Funktion). In unserem Beispiel ist die Anfrage die SQL-Query SELECT * FROM Movies . Die getAll() -Funktion gibt ein Promise -Objekt zur\u00fcck. Promises werden in JavaScript\u2192Promises erl\u00e4utert. Im Controller ( /movie/controller.js ) wird das Promise -Objekt in der then -Funktion ausgewertet. Wird in der Promise die resolve -Methode aufgerufen, werden die results \u00fcbergeben, also das Ergebnis der Datenbankanfrage. Diese Werte werden in der ersten Callback-Funktion der then -Methode dem Parameter movies \u00fcbergeben. Soll nur das JSON gesendet werden, wird die view nicht ben\u00f6tigt (statt response.send(view(movies)); gen\u00fcgt dann response.send(movies); ). Hier kapselt die View die Daten noch in einen HTML-Template-String. Im Falle eines Fehlers ruft die Promise die reject -Funktion auf und \u00fcbergibt den Parameter error . Diese Funktion ruft dann in der then -Funktion die zweite Callback-Funktion f\u00fcr die Fehlerauswertung auf. Success Wir haben jetzt eine MySQL-datenbank angebunden und die Anbindung anhand einer getAll() -Funktion, die alle in der Datenbank gespeicherten Filme zur\u00fcckgibt, gezeigt. Wir haben somit einen lesenden Zugriff auf alle Datenbankeintr\u00e4ge realisiert. Im folgenden werden wir auch weitere Zugriffe (create, update, delete) umsetzen. Allerdings haben wir bisher auch eine View mithilfe von Node.js erstellt und verwendet. Die Idee im folgenden ist, dass unser Backend nicht mehr f\u00fcr die Darstellung zust\u00e4ndig ist, sondern die Ergebnisse der Datenbankabfragen im JSON-Format zur\u00fcckgibt. Unser mit Angular erstelltes Frontend soll f\u00fcr die Darstellung zust\u00e4ndig sein. Wir stellen unser Backend vollst\u00e4ndig auf das REST-Konzept um. Unser Backend als reiner REST-Server \u00b6 Representional State Transfer (REST) ist ein Architekturkonzept und wird in vielen Webanwendungen verwendet. REST beschreibt die Schnittstelle zwischen Frontend und Backend und ist dabei sehr stark an HTTP angelehnt: jede Ressource wird \u00fcber eine eindeutige URL aufgerufen (z.B. alle Filme \u00fcber localhost:8080/movies , den Film mit der id=3 \u00fcber localhost:8080/movie/3 ) es wird definiert, mit welcher HTTP-Anfrage auf die Ressource zugegriffen wird (z.B. get zum Lesen, post zum Anlegen, put zum \u00c4ndern von Ressourcen) jede Anfrage ist zustandslos, d.h. eine Anfrage muss alle notwendigen Informationen beinhalten und fr\u00fchere Anfragen (und deren Responses) werden nicht gespeichert Wir werden unsere View im Backend von nun an also nicht mehr ben\u00f6tigen. Unser Projekt sieht derzeit so aus: index.js const express = require ( 'express' ); const movieRouter = require ( './movie/movierouter' ); const app = express (); app . get ( '/' , ( req , res ) => res . redirect ( '/movie' )); app . use ( '/movie' , movieRouter ); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); movie/model.js const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } module . exports = { getAll , }; movie/controller.js const model = require ( './model' ); function listAction ( request , response ) { model . getAll (). then ( movies => { response . send ( movies ); }, error => response . send ( error ), ); } module . exports = { listAction , }; movie/movierouter.js const express = require ( 'express' ); const router = express . Router (); const { listAction } = require ( './controller' ); router . get ( '/' , listAction ); module . exports = router ; Geben wir also die die URL localhost:8080 an, dann passiert folgendes: die Route wird weitergeleitet an localhost:8080/movie (siehe in index.js die Anweisung app.get('/', (req, res) => res.redirect('/movie')); ) dadurch wird der movie/movierouter.js aufgerufen und dieser ruft die Funktion listAction auf listAction ruft die Promise auf, die in der Funktion model.getAll() definiert wird in getAll() erfolgt eine Anfrage an die Datenbank wird diese Anfrage erfolgreich ausgef\u00fchrt, ruft die Promise die resolve -Funktion auf und \u00fcbergibt alle Resultate der Anfrage in listAction werden diese Resultate als Resonse gesendet Wir rufen Postman zum Testen dieser Anfrage auf und geben localhost:8080 in das URL-Feld ein und senden die Anfrage mittels GET -Methode ab. Es erscheint: Das gleiche Ergebnis bekommen wir, wenn wir als URL localhost:8080/movie eingeben (darauf wird ja eh umgeleitet). Wir k\u00f6nnen die Ausgabe auch mithilfe von curl testen: % curl http://localhost:8080/movie [{ \"id\" :1, \"title\" : \"Die Verurteilten\" , \"year\" :1994 } , { \"id\" :2, \"title\" : \"Der Pate\" , \"year\" :1972 } , { \"id\" :3, \"title\" : \"Der Pate 2\" , \"year\" :1974 } , { \"id\" :4, \"title\" : \"The Dark Knight\" , \"year\" :2008 } , { \"id\" :5, \"title\" : \"Die zw\u00f6lf Geschworenen\" , \"year\" :1957 } , { \"id\" :6, \"title\" : \"Schindlers Liste\" , \"year\" :1993 } , { \"id\" :7, \"title\" : \"Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs\" , \"year\" :2003 } , { \"id\" :8, \"title\" : \"Pulp Fiction\" , \"year\" :1994 } , { \"id\" :9, \"title\" : \"Zwei glorreiche Halunken\" , \"year\" :1966 } , { \"id\" :10, \"title\" : \"Fight Club\" , \"year\" :1999 } , { \"id\" :11, \"title\" : \"Der Herr der Ringe: Die Gef\u00e4hrten\" , \"year\" :2001 } , { \"id\" :12, \"title\" : \"Forrest Gump\" , \"year\" :1994 } , { \"id\" :13, \"title\" : \"Inception\" , \"year\" :2010 } , { \"id\" :14, \"title\" : \"Das Imperium schl\u00e4gt zur\u00fcck\" , \"year\" :1980 } , { \"id\" :15, \"title\" : \"Der Herr der Ringe: Die zwei T\u00fcrme\" , \"year\" :2002 } , { \"id\" :16, \"title\" : \"Matrix\" , \"year\" :1999 } , { \"id\" :17, \"title\" : \"GoodFellas \u2013 Drei Jahrzehnte in der Mafia\" , \"year\" :1990 } , { \"id\" :18, \"title\" : \"Einer flog \u00fcber das Kuckucksnest\" , \"year\" :1975 } , { \"id\" :19, \"title\" : \"Joker\" , \"year\" :2019 } , { \"id\" :20, \"title\" : \"Die sieben Samurai\" , \"year\" :1954 }] Wir erweitern unsere Schnittstelle zun\u00e4chst um die Ansicht eines einzelnen Films. Wir wollen nun mit der URL http://localhost:8080/movie/3 den Film angezeigt bekommen, der die id 3 hat. Wir wollen also die URLs um die Angabe einer id erweitern und f\u00fcr diesen Endpunkt den entsprechenden Film zur\u00fcckgesendet bekommen. Dazu erweitern wir (untem im Listing jeweils gelb markiert) die movie/model.js um eine Funktion getOne(id) ; das Model stellt nach au\u00dfen die Funktion get(id) zur Verf\u00fcgung, die als Response den Film sendet, der die entsprechende id hat, die movie/controller.js um eine Funktion detailAction() , die den Parameter id aus der URL ausliest und die Funktion model.get(id) aufruft, den movie/movierouter.js um eine weitere Route, n\u00e4mlich router.get('/:id', detailAction); , so dass eine id an die URL geh\u00e4ngt werden kann und f\u00fcr diesen Fall die detailAction aufgerufen wird movie/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } function getOne ( id ) { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies WHERE id=?' ; connection . query ( query , [ id ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results [ 0 ]); }); }); } module . exports = { getAll , get ( id ) { return getOne ( id )}, }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 const model = require ( './model' ); function listAction ( request , response ) { model . getAll (). then ( movies => { response . send ( movies ); }, error => response . send ( error ), ); } function detailAction ( request , response ) { model . get ( request . params . id ). then ( movie => response . send ( movie ), error => response . send ( error ), ); } module . exports = { listAction , detailAction , }; movie/movierouter.js 1 2 3 4 5 6 7 8 const express = require ( 'express' ); const router = express . Router (); const { listAction , detailAction } = require ( './controller' ); router . get ( '/' , listAction ); router . get ( '/:id' , detailAction ); module . exports = router ; Content-Type und Fehlerbehandlung \u00b6 Zwar senden wir bereits die Resultate der Requests als JSON zur\u00fcck, jedoch ist der content-type unserer Response noch content-type:text/html , da wir die Response mithilfe der send() -Funktion senden ( response.send() ). Wir \u00e4ndern dies in response.json() . Dadurch teilen wir dem Client mit, dass der gesendetete content-type ein JSON ist ( content-type:application/json ). F\u00fcr eine erfolgreiche Bearbeitung eines Requests wird mit der Response der HTTP-Statuscode 200 gesendet. F\u00fcr den Fehlerfall wollen wir nun daf\u00fcr sorgen, dass der HTTP-Statuscode 500 - Internal Server Error \u00fcbertragen wird. Dies erreichen wir im Fehlerfall mit error => response.status(500).json(error) . Unser Controller sieht nun also so aus: movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const model = require ( './model' ); function listAction ( request , response ) { model . getAll (). then ( movies => { response . json ( movies ); }, error => response . status ( 500 ). json ( error ), ); } function detailAction ( request , response ) { model . get ( request . params . id ). then ( movie => response . json ( movie ), error => response . status ( 500 ). json ( error ), ); } module . exports = { listAction , detailAction , }; POST - einen neuen Datensatz anlegen \u00b6 Um einen neuen Datensatz anzulegen, m\u00fcssen wir zwei Dinge beachten: die HTTP-Anfrage ist POST (anstelle von GET , das wir zum Lesen verwenden) der Request \u00fcbergibt im Body den neuen Datensatz (als JSON) \u2192 dazu ben\u00f6tigen wir das Paket body-parser von Node.js und nutzen davon die json() -Funktion zum Einlesen des neuen Datensatzes im JSON-Format Wir passen zun\u00e4chst die index.js entsprechend an: index.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 const express = require ( 'express' ); const bodyParser = require ( 'body-parser' ); const movieRouter = require ( './movie/movierouter' ); const app = express (); app . use ( bodyParser . json ()); app . get ( '/' , ( req , res ) => res . redirect ( '/movie' )); app . use ( '/movie' , movieRouter ); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); Um nun einen neuen Datensatz in der Datenbank anzulegen, erweitern wir unser Projekt wie folgt: in movie/model.js wird eine insert() -Funktion definiert, welche durch eine save() -Funktion aufgerufen wird ( save() wird nach au\u00dfen zur Verf\u00fcgung gestellt 4 ), in movie/controller.js wird eine createAction() definiert, die den neuen Datensatz aus dem request,body ausliest und die model.save() aufruft, in movie/movierouter.js wird der neue Endpunkt router.post('/', createAction); festgelegt movie/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { /* bleibt so */ } function getOne ( id ) { /* bleibt so */ } function insert ( movie ) { return new Promise (( resolve , reject ) => { const query = 'INSERT INTO Movies (title, year) VALUES (?, ?)' ; connection . query ( query , [ movie . title , movie . year ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }); }); } module . exports = { getAll , get ( id ) { return getOne ( id )}, save ( movie ) { if ( ! movie . id ) return insert ( movie ); }, }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const model = require ( './model' ); function listAction ( request , response ) { /* bleibt so */ } function detailAction ( request , response ) { /* bleibt so */ } function createAction ( request , response ) { const movie = { id : request . body . id , title : request . body . title , year : request . body . year , }; model . save ( movie ). then ( newMovie => response . status ( 201 ). json ( newMovie ), error => response . status ( 500 ). json ( error ), ); } module . exports = { listAction , detailAction , createAction , }; movie/movierouter.js 1 2 3 4 5 6 7 8 9 const express = require ( 'express' ); const router = express . Router (); const { listAction , detailAction , createAction } = require ( './controller' ); router . get ( '/' , listAction ); router . get ( '/:id' , detailAction ); router . post ( '/' , createAction ); module . exports = router ; Die Funktionen im Model haben alle den gleichen Aufbau. Es wird eine Promise erzeugt und mithilfe von connection.query() eine Anfrage an die Datenbank gestellt. Im Erfolgsfall wird die resolve() -Funktion der Promise aufgerufen, im Fehlerfall die reject() -Funktion. Im Controller wird der request verarbeitet und eine response erzeugt. Im Router werden die Endpunkte und die dazugeh\u00f6rigen HTTP-Methoden (z.B. get oder post ) definiert. Um die createAction -Funktion zu testen, rufen wir Postman auf und tragen in die URL http://localhost:8080/movie/ ein. Wichtig: es muss nun POST ausgew\u00e4hlt werden. Mit dem Request \u00fcbergeben wir im Body nun ein JSON, das einen neuen Film enth\u00e4lt, d.h. das JSON muss die Eigensc haften title und year enthalten (nicht id , denn diese wird automatisch durch das Datenbanksystem erzeugt). Die Anfrage sieht in Postman wie folgt aus: Es kann auch mit curl getestet werden: curl -X POST -H \"Content-Type: application/json\" -d '{\"title\": \"Noch ein Test\", \"year\": \"2019\"}' http://localhost:8080/movie { \"fieldCount\" :0, \"affectedRows\" :1, \"insertId\" :23, \"serverStatus\" :2, \"warningCount\" :0, \"message\" : \"\" , \"protocol41\" :true, \"changedRows\" :0 } PUT - einen Datensatz \u00e4ndern \u00b6 Das \u00c4ndern eines Datensatzes erfolgt in \u00e4hnlicher Weise wie das Anlegen eines Datensatzes. Es wird im Body der Anfrage das neue JSON gesendet und der Content-Type der Anfrage ist application/json (im Header gesetzt). Zum \u00c4ndern eines Datensatzes wird die HTTP-Methode put verwendet. Um nun einen Datensatz in der Datenbank zu \u00e4ndern, erweitern wir unser Projekt wie folgt: in movie/model.js wird eine update() -Funktion definiert, welche durch die save() -Funktion aufgerufen wird ( save() wird nach au\u00dfen zur Verf\u00fcgung gestellt), in movie/controller.js wird eine updateAction() definiert, die genauso aussieht wie die createAction() , au\u00dfer dass die id aus der URL ausgelesen wird und nicht aus dem Request-Body in movie/movierouter.js wird der neue Endpunkt router.put('/', updateActionAction); festgelegt movie/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { /* bleibt so */ } function getOne ( id ) { /* bleibt so */ } function insert ( movie ) { /* bleibt so */ } function update ( movie ) { return new Promise (( resolve , reject ) => { const query = 'UPDATE Movies SET title = ?, year = ? WHERE id = ?' ; connection . query ( query , [ movie . title , movie . year , movie . id ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }); }); } module . exports = { getAll , get ( id ) { return getOne ( id )}, save ( movie ) { if ( ! movie . id ) return insert ( movie ); else return update ( movie ); }, }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 const model = require ( './model' ); function listAction ( request , response ) { /* bleibt so */ } function detailAction ( request , response ) { /* bleibt so */ } function createAction ( request , response ) { /* bleibt so */ } function updateAction ( request , response ) { const movie = { id : request . params . id , title : request . body . title , year : request . body . year , }; model . save ( movie ). then ( movie => response . status ( 201 ). json ( movie ), error => response . status ( 500 ). json ( error ), ); } module . exports = { listAction , detailAction , createAction , updateAction , }; movie/movierouter.js 1 2 3 4 5 6 7 8 9 10 const express = require ( 'express' ); const router = express . Router (); const { listAction , detailAction , createAction , updateAction } = require ( './controller' ); router . get ( '/' , listAction ); router . get ( '/:id' , detailAction ); router . post ( '/' , createAction ); router . put ( '/:id' , updateAction ); module . exports = router ; Um die Update-Funktion in Postman auszuprobieren, geben Sie als URL z.B. http://localhost:8080/movie/3 ein (um den Film mit der id=3 zu \u00e4ndern) und w\u00e4hlen als HTTP-Methode PUT . Im Request-Body geben Sie dann z.B. { \"title\" : \"Der Pate 3\" , \"year\" : \"1990\" } ein. Sie erhalten: Nat\u00fcrlich k\u00f6nnen Sie zum Testen auch curl verwenden. Die Anfrage ist \u00e4hnlich zur POST -Anfrage, nur mit curl -X PUT . DELETE - einen Datensatz \u00e4ndern \u00b6 Um einen Datensatz zu l\u00f6schen, w\u00e4hlen wir die HTTP-Methode DELETE . Alles andere bleibt wie gehabt. Wir pr\u00e4sentieren gleich die L\u00f6sung: movie/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { /* bleibt so */ } function getOne ( id ) { /* bleibt so */ } function insert ( movie ) { /* bleibt so */ } function update ( movie ) { /* bleibt so */ } function remove ( id ) { return new Promise (( resolve , reject ) => { const query = 'DELETE FROM Movies WHERE id = ?' ; connection . query ( query , [ id ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results [ 0 ]); }); }); } module . exports = { getAll , get ( id ) { return getOne ( id )}, save ( movie ) { if ( ! movie . id ) return insert ( movie ); else return update ( movie ); }, delete ( id ) { return remove ( id )}, }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 const model = require ( './model' ); function listAction ( request , response ) { /* bleibt so */ } function detailAction ( request , response ) { /* bleibt so */ } function createAction ( request , response ) { /* bleibt so */ } function updateAction ( request , response ) { /* bleibt so */ } function deleteAction ( request , response ) { const id = parseInt ( request . params . id , 10 ); model . delete ( id ) . then ( () => response . status ( 204 ). send (), error => response . status ( 500 ). json ( error ) ); } module . exports = { listAction , detailAction , createAction , updateAction , deleteAction }; movie/movierouter.js 1 2 3 4 5 6 7 8 9 10 11 const express = require ( 'express' ); const router = express . Router (); const { listAction , detailAction , createAction , updateAction , deleteAction } = require ( './controller' ); router . get ( '/' , listAction ); router . get ( '/:id' , detailAction ); router . post ( '/' , createAction ); router . put ( '/:id' , updateAction ); router . delete ( '/:id' , deleteAction ); module . exports = router ; Success Wir haben nun eine vollst\u00e4ndige REST-Schnittstelle des Backends implementiert. Es k\u00f6nnen alle Datens\u00e4tze oder ein Datensatz gelesen ( read mithilfe von get ), ein Datensatz erzeugt ( create mithilfe von post ), ein Datensatz aktualisiert ( update mithilfe von put ) und ein Datensatz gel\u00f6scht ( delete mithilfe von delete ) werden. JSON Web Tokens zur Authentifizierung \u00b6 Unsere Backend-Schnittstelle ist bis jetzt offen f\u00fcr jeden, d.h. jeder, der die Endpunkte kennt, kann die Ressourcen abfragen und somit Daten auslesen, l\u00f6schen, \u00e4ndern usw. Das kann nat\u00fcrlich nicht richtig sein, insbesondere wenn mit sensiblen Daten gearbeitet wird. Wir k\u00f6nnen im Backend auch nicht ein Anmeldeformular vorsehen, da das Backend nur Services anbietet. Au\u00dferdem ist die Kommunikation mit der REST-Schnittstelle zustandslos, d.h. es kann gar nicht gespeichert werden, ob eine Nutzerin bereits angemeldet ist oder nicht. Eine L\u00f6sung f\u00fcr diese Probleme sind JSON Web Tokens (JWT) . Ein JWT ist eine codierte Zeichenkette, die einen Header enth\u00e4lt, einen Payload und eine Signatur. Hier ein Screenshot der jwt.io-Webseite mit einem Beispiel daf\u00fcr: Datenbank und Model \u00b6 Wir erzeugen zun\u00e4chst eine Tabelle in unserer Datenbank, um Nutzername und zugeh\u00f6riges Passwort zu speichern. Erzeugen eines JWT \u00b6 F\u00fcr die Erzeugung eines JWT verwenden wir das Nodes-Paket jsonwebtoken . Dieses installieren wir im Ordner backend mit dem Befehl npm install jsonwebtoken Wir erstellen uns eine Route, \u00fcber die die Benutzer ihre Anmeldedaten an das Backend schicken k\u00f6nnen Die Bezeichnung movierouter.js f\u00fcr diese Datei ist hier noch verwirrend, da sie zun\u00e4chst auch die Daten enthalten wird. Wir werden nach und nach die Funktionen so gestalten und auslagern, dass die Datei nur noch den Router enth\u00e4lt und f\u00fcr alles andere ein Model, eine View und ein Controller entstehen werden. \u21a9 Beachten Sie auch hier wieder, dass aus Gr\u00fcnden der \u00dcbersichtlichkeit die Daten in den Reiter const data ausgelagert wurden. Die m\u00fcssen Sie hineinkopieren. \u21a9 Achten Sie darauf, Ihr korrektes Passwort einzutragen. \u21a9 Wir werden die save() -Funktion sp\u00e4ter noch erweitern. Beim Anlegen eines neuen Datensatzes werden zwar der Titel und das Entstehungsjahr des Films mitgesendet, nicht jedoch die id . Die id wird durch das Datenbanksystems vergeben. F\u00fcr den Fall, dass der save() -Funktion auch die id des Films mitgegeben wird, gehen wir davon aus, dass der Film in der Datenbank aktualisiert ( update() ) wird, sich also ein Eintrag ge\u00e4ndert hat. \u21a9","title":"Node.js"},{"location":"node/#nodejs","text":"Viele der folgenden Beispiele sind dem Buch Sebastian Springer: \"Node.js. Das umfassende Handbuch\" 3., aktualisierte und erweiterte Auflage 2018, Rheinwerk Computing, ISBN 978-3-8362-6255-2 Link entnommen (und nur unwesentlich ge\u00e4ndert).","title":"Node.js"},{"location":"node/#installation","text":"Installationsanweisungen f\u00fcr Ihr Betriebssystem finden Sie auf der Node.js-Webseite https://nodejs.org/ . Nach der Installation k\u00f6nnen Sie \u00fcberpr\u00fcfen, ob node erfolgreich installiert wurde. Geben Sie dazu im Terminal node -v ein. Es sollte die Versionsnummer erscheinen, z.B. v13.3.0 . Da es sich bei JavaScript um eine Skriptsprache handelt, kann jede Anweisung durch den Interpreter interpretiert und ausgef\u00fchrt werden. Deshalb l\u00e4sst sich Node.js auch als im interaktiven Modus auf der Kommandozeile testen. Geben Sie dazu im Terminal node ein. Es erscheint etwas in der Art Welcome to Node.js v13.3.0. Type \".help\" for more information. > Node.js befindet sich dann im Read-Eval-Print-Loop (REPL) . Die im Terminal eingegebenen Kommandos werden gelesen ( read ), evaluiert ( eval ), ausgegeben ( print ) und auf das n\u00e4chste Kommando gewartet ( loop ). Geben Sie im Terminal console.log(\"Hello FIW!\"); ein. Es erscheint Hello FIW! undefined Sie verlassen REPL durch Eingabe von .exit . Success Somit ist Node.js installiert.","title":"Installation"},{"location":"node/#der-erste-eigene-webserver","text":"Wir verwenden Node.js, um einen Webserver zu implementieren. Insbesondere wird dieser Webserver Anfragen ( requests ) unserer Webanwendung (des Clients) empfangen und verarbeiten. Die Verarbeitung wird meistens ein Zugriff auf eine Datenbank sein. Als Antwort ( response ) wird der Webserver die angefragten Daten an unsere Anwendung zur\u00fccksenden. Wir werden nun unseren ersten einfachen Webserver mithilfe von Node.js implementieren. Erstellen Sie sich in Ihrem workspace ein Verzeichnis backend und darin eine Datei server.js (das kann nat\u00fcrlich alles auch anders hei\u00dfen). \u00d6ffnen Sie die Datei mit Ihrer IDE und geben Sie folgendes ein: server.js 1 2 3 4 5 6 7 8 9 10 11 const http = require ( 'http' ); const server = http . createServer ( function ( request , response ) { response . writeHead ( 200 , { 'content-type' : 'text/plain; charset=utf-8' }); response . write ( 'Hello ' ); response . end ( 'FIW!\\n' ); }); server . listen ( 8080 , function () { console . log ( 'Server is listening to http://localhost:8080' ); }); Wechseln Sie im Terminal in Ihr backend -Verzeichnis. Darin befindet sich die server.js . Geben Sie ein: node server.js Sie erhalten die Ausgabe Server is listening to http://localhost:8080 . Port bereits belegt Sollten Sie den Fehler Error: listen EADDRINUSE:::8080 erhalten, so ist der Port 8080 bei Ihnen bereits durch eine andere Anwendung belegt. Dann w\u00e4hlen Sie einen anderen Port, z.B. 8081 . Success Ihr Webserver l\u00e4uft nun! Dies k\u00f6nnen wir auf verschiedene Arten testen: Geben Sie http://localhost:8080 in Ihren Browser ein. Es erscheint Hello FIW! im Browser. Nutzen Sie curl und geben Sie im Terminal curl http://localhost:8080 ein. Es erscheint Hello FIW! im Terminal. Nutzen Sie 'Postman' und geben Sie in das Eingabefeld neben GET die URL http://localhost:8080 ein und klicken auf Send . Es erscheint Hello FIW! im unteren Teil des Fensters (Reiter Body ). Der Webserver l\u00e4uft nun so lange, bis wir ihn beenden. Wir betrachten das obige Listing im Detail. In Zeilennummer 1 wird das http -Modul von Node.js geladen und der Variablen http zugewiesen. Das Laden von Modulen erfolgt in Node.js mithilfe der Funktion require() . In Zeilennummer 3 wird ein Webserver mithilfe des http -Moduls erzeugt ( createServer() ). Das http -Modul bietet auch die M\u00f6glichkeit, einen Client zu erzeugen - aber das machen wir nicht mit Node.js sondern mit Angular. In Zeile 9 geben wir an, dass der Webserver nun permanent am Port 8080 auf Anfragen lauschen soll. Als 2. Parameter der listen() -Funktion h\u00e4tte auch ein HOST angegeben werden k\u00f6nnen, also die IP-Adresse des Webservers. Wird keine IP-Adresse angegeben, so wie hier, ist es in unserem Fall localhost . Dann folgt eine Callback -Funktion , die einen String auf die Konsole ausgibt, sobald die Verbindung steht. In den Zeilen 4 bis 6 ist die Antwort ( response ) des Webservers auf eine Anfrage ( request ) des Clients definiert. Die Funktion, die diese Antwort erstellt, ist eine Callback-Funktion der createServer -Funktion (in Zeile 3). Diese Callback-Funktion besitzt die beiden Parameter request und response . In diesem ersten Beispiel wird nur eine Response definiert. Diese besteht aus einem HTTP-Header ( writeHead() ) und einem HTTP-Body ( write() + end() ). Die Funktion writeHead() , die den HTTP-Header erzeugt, besitzt 2 Parameter. Der erste Parameter ist der HTTP-Status-Code . Der Status-Code 200 besagt, dass die Anfrage ( request ) vom Server empfangen wurde und die Antwort ( response ) in dieser Nachricht enthalten ist. Der eigentliche HTTP-Header wird mit dem zweiten Parameter \u00fcbertragen. In diesem Fall \u00fcbermittelt der Server dem Client die Informationen, dass es sich bei der Antwort um reinen Text handelt ( content-type:text-plain ) und dass der HTTP-Body unter Verwendung des Zeichensatzes UTF-8 ( charset=utf-8 ) kodiert ist. Der HTTP-Body wird mit der write() -Funktion \u00fcbertragen und mit der end() -Funktion abgeschlossen. In diesem Fall besteht der Body aus der Zeichenkette Hello FIW! .","title":"Der erste eigene Webserver"},{"location":"node/#eine-erweiterung-der-antwort","text":"Im obigen Beispiel bestand die Antwort aus reinem Text. Wir erweitern die Antwort nun und senden vom Webserver an den Client als Body eine vollst\u00e4ndige HTML-Seite. server.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const http = require ( 'http' ); const server = http . createServer ( function ( request , response ) { response . writeHead ( 200 , { 'content-type' : 'text/html; charset=utf-8' }); const body = `<!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title>WebTech - Node.js</title> </head> <body> <h1 style=\"color:#76B900\">Hello FIW!</h1> </body> </html>` ; response . end ( body ); }); server . listen ( 8080 , function () { console . log ( 'Server is listening to http://localhost:8080' ); }); Achten Sie darauf, dass der content-type nun text/html ist, nicht mehr text/plain (Zeile 4). Sollte Ihr Server aus dem vorherigen Beispiel noch laufen, so m\u00fcssen Sie ihn zun\u00e4chst beenden. Geben Sie im Termina zum Beenden des Prozesses node server.js einfach Strg+C ( Ctrl+C ) und sarten Sie den Server unter Eingabe von node server.js erneut. Rufen Sie im Browser http://localhost:8080/ auf. Es erscheint Sie k\u00f6nnen ja auch mal den content-type erneut auf text/plain setzen und den Server erneut starten (1. Ctrl+C und 2. node server.js ), um zu sehen, welche Bedeutung die Angabe des content-type hat.","title":"Eine Erweiterung der Antwort"},{"location":"node/#template-string","text":"Im obigen Beispiel ist der String body in Backtick-Zeichen ` eingeschlossen. Das nennt man Template-String und erm\u00f6glicht mithilfe von ${} Ausdr\u00fccke bzw. Variablen auszuwerten. Im Folgenden ist eine solche Verwendung einer Variable gezeigt. Template-String 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 const http = require ( 'http' ); const server = http . createServer ( function ( request , response ) { response . writeHead ( 200 , { 'content-type' : 'text/html; charset=utf-8' }); const name = 'FIW!' ; const body = `<!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title>WebTech - Node.js</title> </head> <body> <h1 style=\"color:#76B900\">Hello ${ name } </h1> </body> </html>` ; response . end ( body ); }); server . listen ( 8080 , function () { console . log ( 'Server is listening to http://localhost:8080' ); }); In Zeile 6 wird eine Variable name definiert, der der String FIW! zugewiesen wird. In Zeile 14 wird mithilfe von ${ name } der Wert der Variable name in das HTML eingebunden, so dass der Inhalt der \u00dcberschrift <h1> zu Hello FIW! ausgewertet wird.","title":"Template-String"},{"location":"node/#urls-auswerten","text":"Eine URL kann um Schl\u00fcssel-Werte-Paare ( Parameter ) erweitert werden, um Daten mit der URL an den Webserver zu senden (siehe HTML \u2192 URLs ). Ein Schl\u00fcssel-Werte-Paar wird immer durch ein = verbunden: key = value Das erste Schl\u00fcssel-Werte-Paar wird hinter ein ? an die URL geh\u00e4ngt. Jedes weitere Paar wird mit einem & angebunden: http://www.example.org/?key1 = value1 & key2 = value2 & key3 = value3 Wir werden jetzt diese Parameter auswerten. Dazu laden wir einerseits ein weiteres Modul, n\u00e4mlich das url -Modul und wir werten die Anfrage ( request ) dahingehend aus, dass wir die Parameter der URL auswerten. server.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 const http = require ( 'http' ); const url = require ( 'url' ); const server = http . createServer ( function ( request , response ) { response . writeHead ( 200 , { 'content-type' : 'text/html; charset=utf-8' }); const parsedUrl = url . parse ( request . url , true ); const params = parsedUrl . query ; const body = `<!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title>WebTech - Node.js</title> </head> <body> <h1 style=\"color:#76B900\">Hello ${ params . name } in ${ params . ort } </h1> </body> </html>` ; response . end ( body ); }); server . listen ( 8080 , function () { console . log ( 'Server is listening to http://localhost:8080' ); }); Nach dem restart des Webservers (1. Ctrl+C und 2. node server.js ) und der Eingabe folgender URL: http://localhost:8080/?name=FIW&ort=Berlin wird im Browser Folgendes angezeigt:","title":"URLs auswerten"},{"location":"node/#chrome-developer-tools","text":"Die Chrome Developer Tools k\u00f6nnen auch zum Debuggen von Node.js-Anwendungen verwendet werden. Rufen Sie daf\u00fcr Ihre Node.js-Anwendung im Terminal mit dem --inspect -Flag auf: node --inspect server.js Im Terminal erscheint eine Ausgabe in der Form: Debugger listening on ws://127.0.0.1:9229/dc995a6a-61eb-4143-af7e-ac8e4599dcd7 For help, see: https://nodejs.org/en/docs/inspector Server is listening to http://localhost:8080 Im Chrome-Browser k\u00f6nnen Sie nun einerseits wie gewohnt die URL http://localhost:8080/?name=FIW&ort=Berlin eingeben, aber das Debuggen kann unter Eingabe der URL chrome://inspect/ erfolgen. Es erscheint folgende Seite im Browser: F\u00fcr weitere Informationen zum Debuggen siehe z.B. https://nodejs.org/en/docs/guides/debugging-getting-started/ . Success Wir haben mithilfe von Node.js einen ersten eigenen Webserver erstellt. Wir haben uns mit dem Konzept von Request und Response vertraut gemacht und eine eigene Response erstellt. Wir haben Argumente aus der URL ausgelesen und somit dynamisch unsere Response angepasst. Wir wollen nun zun\u00e4chst ein Framework kennenlernen, das uns manche Arbeiten erleichtert: Express.","title":"Chrome Developer Tools"},{"location":"node/#express","text":"Express ist ein Node.js-Framework, das einerseits recht einfach gehalten wurde, andererseits aber alle wesentlichen Funktionen f\u00fcr eine Web-Anwendung bereith\u00e4lt. So m\u00fcssen wir uns beispielsweise bei der Verwendung von Express nicht mehr selbst um das Parsen der URL k\u00fcmmern. Wir werden im Folgenden ein kleines Projekt zu Verwaltung von Filmen erstellen. Dies geschieht mithilfe von npm . npm ist der Node package manager . Bisher enth\u00e4lt unser Ordner backend nur die Datei server.js . Das ist jedoch insofern noch kein wirkliches Node.js-Projekt, da es noch nicht vom Paketmanager, also npm verwaltet wird. Um dies zu tun wechseln wir in den Ordner backend und initialisieren dann unser Node.js-Projekt: im Ordner backend npm init Sie werden nun einige Sachen gefragt und k\u00f6nnen eigentlich immer jeweils mit Enter best\u00e4tigen. Es erfolgt also ungef\u00e4hr ein solcher Dialog im Terminal: % npm init This utility will walk you through creating a package.json file. It only covers the most common items, and tries to guess sensible defaults. See ` npm help init ` for definitive documentation on these fields and exactly what they do . Use ` npm install <pkg> ` afterwards to install a package and save it as a dependency in the package.json file. Press ^C at any time to quit. package name: ( backend ) backend version: ( 1 .0.0 ) description: Node.js-Backend entry point: ( server.js ) test command: git repository: keywords: author: license: ( ISC ) About to write to /Users/jornfreiheit/workspace/backend/package.json: { \"name\" : \"backend\" , \"version\" : \"1.0.0\" , \"description\" : \"Node.js-Backend\" , \"main\" : \"server.js\" , \"scripts\" : { \"test\" : \"echo \\\"Error: no test specified\\\" && exit 1\" , \"start\" : \"node server.js\" } , \"author\" : \"\" , \"license\" : \"ISC\" } Is this OK? ( yes ) Das wesentliche Ergebnis der Initialisierung ist die Erstellung der package.json -Datei. Darin k\u00f6nnen wir Paketabh\u00e4ngigkeiten definieren. Au\u00dferdem ist in dem Ordner backend ein Unterordner node_modules entstanden, der die Node.js-Module enth\u00e4lt, die wir ben\u00f6tigen. Als erstes installieren wir Express: npm install express Nun bauen wir uns eine kleine index.js -Datei, die unsere erste Express-Anwendung darstellt. 1 2 3 4 5 6 7 8 9 10 const express = require ( 'express' ); const app = express (); app . get ( '/' , ( req , res ) => { res . send ( 'My first express application' ); }); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); In Zeile 1 wird das Express-Paket eingebunden. In Zeile 2 wird eine Express-App mit Basiskonfiguration erzeugt (hier ein app -Objekt). Die get() -Funktion des app -Objektes erzeugt eine Route, \u00fcber die man sich mit dem Browser mit der App verbinden kann (Zeilen 4 - 6 ). Als Response ( res ) wird einfach eine Zeichenkette gesendet ( send ). In den Zeilen 8 - 10 wird die App an den Port 8080 gebunden. Hier erfolgt intern die Erstellung eines Node.js-Servers mit http -Modul. Wenn Sie nun node index.js innerhalb des backend -Ordners aufrufen, wird der Node.js-Server erstellt und Sie k\u00f6nnen im Browser unter der URL localhost:8080 darauf zugreifen. Es erscheint: Im obigen Beispiel erkennt man in Zeile 4 zwei Parameter der Routing-Callback-Funktion innerhalb der app.get() -Methode: das Request -Objekt req und das Response -Objekt res . Beide Objekte geh\u00f6ren zu den elementaren Elementen einer Applikation.","title":"Express"},{"location":"node/#request","text":"Die Eigenschaften des Request -Objektes req sind in https://expressjs.com/de/api.html#req erl\u00e4utert. Hier folgt eine kurze unvollst\u00e4ndige Auflistung: Eigenschaft Bedeutung method HTTP-Methode, mit der die Anfrage gesendet wurde (z.B. GET oder POST) originalUrl enth\u00e4lt die Anfrage-URL params enth\u00e4lt die variablen Anteile der Anfrage-URL protocol enth\u00e4lt das Protokoll der Anfrage (z.B. http oder https) query ist ein Objekt, das alle Parameter der Anfrage-URL enth\u00e4lt","title":"Request"},{"location":"node/#response","text":"Die Eigenschaften des Response -Objektes res sind in https://expressjs.com/de/api.html#res erl\u00e4utert. Hier folgt eine kurze unvollst\u00e4ndige Auflistung: Methode Bedeutung get(field) gibt den Response-Header von field zur\u00fcck (z.B. get('Content-Type') ) set(field[,value]) setzt den Wert des angegebenen Header-Feldes json([body]) sendet eine JSON-Response ( [body] ist das JSON-Objekt) cookie(name,value[,options]) setzt einen Cookie-Wert name=value redirect([status,]path) Weiterleitung der Anfrage nach path status(code) setzt den Status der Antwort auf code send([body]) sendet die HTTP-Antwort end([data][,encoding]) beendet den Antwortprozess","title":"Response"},{"location":"node/#router","text":"Wie man der API-Dokumentation von Express entnehmen kann, sind die Grundelemente einer Express-Anwendung die express() -Funktion , die die Express-Anwendung erstellt, die Eigenschaften und Methoden , die dieser Anwendung zur Verf\u00fcgung stehen, das Request -Objekt , das Response -Objekt sowie der Router . Mit Letzterem besch\u00e4ftigen wir uns jetzt. Unser Projekt soll folgende Struktur aufweisen: backend +---- movie | +---- model.js | +---- view.js | +---- controller.js | +---- movierouter.js +---- node_modules +---- index.js +---- package.json backend , movie und node_modules sind jeweils Ordner. node_modules wurde automatisch erzeugt (durch npm init und enth\u00e4lt alle eingebundenen Node.js-Pakete). Wir erstellen zun\u00e4chst die Datei movie/movierouter.js 1 und \"specken\" die index.js etwas ab (die get() -Funktion wird gel\u00f6scht). movie/movierouter.js 1 2 3 4 5 6 7 8 9 10 const express = require ( 'express' ); const router = express . Router (); const data = [ /* siehe Reiter \"const data\" */ ]; router . get ( '/' , ( req , res ) => { res . send ( data ); }); module . exports = router ; index.js 1 2 3 4 5 6 7 const express = require ( 'express' ); const app = express (); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); const data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const data = [ { id : 1 , title : 'Die Verurteilten' , year : '1994' }, { id : 2 , title : 'Der Pate' , year : '1972' }, { id : 3 , title : 'Der Pate 2' , year : '1974' }, { id : 4 , title : 'The Dark Knight' , year : '2008' }, { id : 5 , title : 'Die zw\u00f6lf Geschworenen' , year : '1957' }, { id : 6 , title : 'Schindlers Liste' , year : '1993' }, { id : 7 , title : 'Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs' , year : '2003' }, { id : 8 , title : 'Pulp Fiction' , year : '1994' }, { id : 9 , title : 'Zwei glorreiche Halunken' , year : '1966' }, { id : 10 , title : 'Fight Club' , year : '1999' }, { id : 11 , title : 'Der Herr der Ringe: Die Gef\u00e4hrten' , year : '2001' }, { id : 12 , title : 'Forrest Gump' , year : '1994' }, { id : 13 , title : 'Inception' , year : '2010' }, { id : 14 , title : 'Das Imperium schl\u00e4gt zur\u00fcck' , year : '1980' }, { id : 15 , title : 'Der Herr der Ringe: Die zwei T\u00fcrme' , year : '2002' }, { id : 16 , title : 'Matrix' , year : '1999' }, { id : 17 , title : 'GoodFellas \u2013 Drei Jahrzehnte in der Mafia' , year : '1990' }, { id : 18 , title : 'Einer flog \u00fcber das Kuckucksnest' , year : '1975' }, { id : 19 , title : 'Joker' , year : '2019' }, { id : 20 , title : 'Die sieben Samurai' , year : '1954' }, ]; Beachten Sie, dass in den obigen Listings aus Gr\u00fcnden der \u00dcbersichtlichkeit in der movie/movierouter.js das JSON-Objekt herausgel\u00f6scht und im Reiter \"const data\" zur Verf\u00fcgung gestellt wurde (muss dann hineinkopiert werden). In der movie/movierouter.js wird das Router -Objekt, das in Zeile 2 erzeugt wird, in Zeile 10 exportiert. Im Folgenden wird gezeigt, wie der Router nun in unsere Anwendung eingebunden wird. Dies passiert in der index.js . Die hinzugef\u00fcgten Zeilen sind markiert. index.js 1 2 3 4 5 6 7 8 9 10 11 12 const express = require ( 'express' ); const movieRouter = require ( './movie/movierouter' ); const app = express (); app . get ( '/' , ( req , res ) => res . redirect ( '/movie' )); app . use ( '/movie' , movieRouter ); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); Beim Laden des Moduls wird die .js -Endung nicht mit angegeben. Das hei\u00dft, der Router wird aus der movie/movierouter.js -Datei mittels require('./movie/movierouter') geladen (siehe Zeile 2 ). W\u00e4re der Router sogar in einer Datei movie/index.js , m\u00fcsste dieser Name nicht angegeben werden, es w\u00fcrde also gen\u00fcgen, den Router \u00fcber den Pfad /movie zu laden (entspricht also /movie/index ). Die use() -Methode in Zeile 8 gibt an, dass der movieRouter (aus movie/index.js ) f\u00fcr das Routing des Pfades url /movie zust\u00e4ndig ist. Die get() -Methode aus Zeile 6 sorgt daf\u00fcr, dass der Aufruf url / (also z.B. localhost:8080 ) nach url /movie (also z.B. localhost:8080/movie ) weitergeleitet wird. Rufen Sie nun im backend -Ordner node index.js auf und geben Sie im Browser localhost:8080 ein. Beobachten Sie, dass auf die URL localhost:8080/movie weitergeleitet wird. Es erscheint im Browser (entweder parsed oder raw - Abh\u00e4ngig von Browser und Browser-Plugins):","title":"Router"},{"location":"node/#model-view-controller","text":"Bis jetzt steckt alles im Router ( /movie/movierouter.js ). Wir werden im ersten Schritt die Daten (die eigentlich zum Model geh\u00f6ren) und eine Aktion ( listAction ) im Controller ( movie/controller.js ) definieren. movie/controller.js 1 2 3 4 5 6 7 8 9 const data = [ /* siehe Reiter \"const data\" */ ]; function listAction ( request , response ) { response . send ( data ); } module . exports = { listAction , }; movie/movierouter.js 1 2 3 4 5 6 7 8 const express = require ( 'express' ); const router = express . Router (); const { listAction } = require ( './controller' ); router . get ( '/' , listAction ); module . exports = router ; const data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const data = [ { id : 1 , title : 'Die Verurteilten' , year : '1994' }, { id : 2 , title : 'Der Pate' , year : '1972' }, { id : 3 , title : 'Der Pate 2' , year : '1974' }, { id : 4 , title : 'The Dark Knight' , year : '2008' }, { id : 5 , title : 'Die zw\u00f6lf Geschworenen' , year : '1957' }, { id : 6 , title : 'Schindlers Liste' , year : '1993' }, { id : 7 , title : 'Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs' , year : '2003' }, { id : 8 , title : 'Pulp Fiction' , year : '1994' }, { id : 9 , title : 'Zwei glorreiche Halunken' , year : '1966' }, { id : 10 , title : 'Fight Club' , year : '1999' }, { id : 11 , title : 'Der Herr der Ringe: Die Gef\u00e4hrten' , year : '2001' }, { id : 12 , title : 'Forrest Gump' , year : '1994' }, { id : 13 , title : 'Inception' , year : '2010' }, { id : 14 , title : 'Das Imperium schl\u00e4gt zur\u00fcck' , year : '1980' }, { id : 15 , title : 'Der Herr der Ringe: Die zwei T\u00fcrme' , year : '2002' }, { id : 16 , title : 'Matrix' , year : '1999' }, { id : 17 , title : 'GoodFellas \u2013 Drei Jahrzehnte in der Mafia' , year : '1990' }, { id : 18 , title : 'Einer flog \u00fcber das Kuckucksnest' , year : '1975' }, { id : 19 , title : 'Joker' , year : '2019' }, { id : 20 , title : 'Die sieben Samurai' , year : '1954' }, ];","title":"Model-View-Controller"},{"location":"node/#controller","text":"Der Controller verwaltet perspektivisch die View und das Model. Beides haben wir jetzt noch nicht. Zun\u00e4chst wird im Controller eine Aktion listAction definiert, die alle Daten in einer Response ( response.send(data) ) sendet 2 . Diese Aktion wird mittels exports anderen Modulen zur Verf\u00fcgung gestellt. Der Router ( movierouter.js ) wurde entsprechend angepasst. Einerseits haben wir die Daten aus dem Router entfernt, andererseits enth\u00e4lt die get() -Methode nun nicht mehr die direkte Implementierung (die ja in den Controller ausgelagert wurde), sondern ruft die Methode listAction des Controllers auf. Dazu muss sie eingebunden werden. Dies w\u00fcrde normalerweise wie folgt geschehen: const controller = require ( './controller' ); const listAction = controller . listAction ; Da ein solches Konstrukt h\u00e4ufig vorkommt, wurde ein sogenanntes destructuring eingef\u00fchrt. Obiger Code wird mithilfe von destructuring durch const { listAction } = require ( './controller' ); ersetzt und verzichtet somit auf die Hilfsvariable controller . Die Eigenschaft, die im Controller listAction hei\u00dft (und importiert wird), wird direkt geladen.","title":"Controller"},{"location":"node/#model","text":"Das Model ( movie/model.js ) verwaltet die Daten. Dazu werden wir zun\u00e4chst die Daten aus dem Controller in das Model verschieben. Au\u00dferdem stellt das Model eine Funktion ( getAll() ) zum Auslesen aller Daten zur Verf\u00fcgung: movie/model.js 1 2 3 4 5 6 7 const data = [ /* siehe Reiter \"const data\" */ ]; module . exports = { getAll () { return data ; }, }; movie/controller.js 1 2 3 4 5 6 7 8 9 const model = require ( './model' ); function listAction ( request , response ) { response . send ( model . getAll ()); } module . exports = { listAction , }; const data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const data = [ { id : 1 , title : 'Die Verurteilten' , year : '1994' }, { id : 2 , title : 'Der Pate' , year : '1972' }, { id : 3 , title : 'Der Pate 2' , year : '1974' }, { id : 4 , title : 'The Dark Knight' , year : '2008' }, { id : 5 , title : 'Die zw\u00f6lf Geschworenen' , year : '1957' }, { id : 6 , title : 'Schindlers Liste' , year : '1993' }, { id : 7 , title : 'Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs' , year : '2003' }, { id : 8 , title : 'Pulp Fiction' , year : '1994' }, { id : 9 , title : 'Zwei glorreiche Halunken' , year : '1966' }, { id : 10 , title : 'Fight Club' , year : '1999' }, { id : 11 , title : 'Der Herr der Ringe: Die Gef\u00e4hrten' , year : '2001' }, { id : 12 , title : 'Forrest Gump' , year : '1994' }, { id : 13 , title : 'Inception' , year : '2010' }, { id : 14 , title : 'Das Imperium schl\u00e4gt zur\u00fcck' , year : '1980' }, { id : 15 , title : 'Der Herr der Ringe: Die zwei T\u00fcrme' , year : '2002' }, { id : 16 , title : 'Matrix' , year : '1999' }, { id : 17 , title : 'GoodFellas \u2013 Drei Jahrzehnte in der Mafia' , year : '1990' }, { id : 18 , title : 'Einer flog \u00fcber das Kuckucksnest' , year : '1975' }, { id : 19 , title : 'Joker' , year : '2019' }, { id : 20 , title : 'Die sieben Samurai' , year : '1954' }, ]; Die Funktion getAll() im Model ( movie/model.js ) wird jetzt direkt dort implementiert, wo sie auch exportiert wird. Die Implementierung h\u00e4tte man auch auf eine Variable legen k\u00f6nnen (wie listAction beim Controller) und dann exportieren. Der Controller ( movie/controller.js ) liest das Model ein (Zeile 1 ) und verwendet die getAll() -Funktion, um die Daten zu senden (Zeile 4 ).","title":"Model"},{"location":"node/#view","text":"Die View ist f\u00fcr die Darstellung verantwortlich. Sp\u00e4ter wird diese von uns in Angular umgesetzt. Hier wird es nur zur Verdeutlichung gezeigt. Wir verwenden JavaScript-Template-Strings (sozusagen eine Mischung aus JavaScript und HTML). Wer m\u00f6chte, kann diesen Abschnitt auch \u00fcberspringen, da wir sp\u00e4ter unsere Oberfl\u00e4che viel aufwendiger mit Angular gestalten. movie/view.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 module . exports = function render ( movies ) { return ` <!DOCTYPE html> <html lang=\"de\"> <head> <meta charset=\"UTF-8\"> <title>Movie-list</title> </head> <body> <table> <thead> <tr> <th>Id</th> <th>Title</th> </tr> </thead> <tbody> ${ movies . map ( movie => `<tr><td> ${ movie . id } </td> <td> ${ movie . title } </td></tr>` ). join ( '' ) } </tbody> </table> </body> </html> ` }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 const model = require ( './model' ); const view = require ( './view' ); function listAction ( request , response ) { const movies = model . getAll (); const body = view ( movies ); response . send ( body ); } module . exports = { listAction , }; In der View ( movie/view.js ) wird also eine HTML-Tabelle ( <table> ) erzeugt. Der Funktion render werden die anzuzeigenden Daten als JSON-Array \u00fcbergeben. Die JavaScript-Funktion map() durchl\u00e4uft jeden einzelnen Eintrag des Arrays und speichert ihn jeweils in die Variable movie . Jeder movie wird in einer Tabllenzeile ( <tr> ) dargestellt und besteht aus einer id und einem title (siehe const data im Model). Auf diese Elemente wird zugegriffen und in einzelnen Dateneintr\u00e4gen der Tabelle ( <td> ) dargestellt. Die JavaScript-Funktion join() verbindet diese Struktur zu einem String (Konkatenation mit '' ), so dass der Template-String tats\u00e4chlich ein String ist. Im Controller ( movie/controller.js ) wird die View eingebunden (Zeile 2 ) und dieser View die Movie-Daten \u00fcbergeben, so dass body dann den durch movie.render() erzeugten String enth\u00e4lt (die HTML-Seite). Dieser wird als Response gesendet. Nach einem Neustart der Anwendung ( node index.js im Ordner backend ) erscheint im Browser ( localhost:8080 ) folgende Seite: Success Wir haben mit Express das bekannteste Node.js-Framework verwendet, um die Verarbeitung von Daten im Rahmen des Model-View-Controller-Konzeptes umzusetzen. Im obigen Beispiel haben wir die Daten (die Filme) direkt im JSON-Format im Model gespeichert. Das ist nat\u00fcrlich nicht flexibel. Wir werden die Daten nun in eine Datenbank auslagern.","title":"View"},{"location":"node/#anbindung-von-datenbanken","text":"Wir wollen Node.js haupts\u00e4chlich daf\u00fcr verwenden, im Backend mit einer Datenbank zu kommunizieren. Wir wollen dies hier exemplarisch mit MySQL (siehe Werkzeuge \u2192 MySQL ) erl\u00e4utern. Die Verwendung von z.B. PostgreSQL ist \u00e4quivelent - Sie ben\u00f6tigen nur einen anderen Datenbanktreiber. Wir werden zun\u00e4chst das Node.js-Paket, das den mysql -Treiber enth\u00e4lt, installieren: npm install mysql Danach ist in der package.json die Abh\u00e4ngigkeit vom mysql -Paket hinterlegt (siehe \"dependencies\" ): package.json { \"name\" : \"backend\" , \"version\" : \"1.0.0\" , \"description\" : \"Node.js-Backend for MySQL\" , \"main\" : \"server.js\" , \"scripts\" : { \"test\" : \"echo \\\"Error: no test specified\\\" && exit 1\" , \"start\" : \"node server.js\" }, \"author\" : \"\" , \"license\" : \"ISC\" , \"dependencies\" : { \"mysql\" : \"^2.18.1\" } }","title":"Anbindung von Datenbanken"},{"location":"node/#eine-movie-datenbank","text":"Wir werden die Anbindung von Datenbanken exemplarisch an der Movie -Datenbank zeigen, die wir bereits im obigen Express -Abschnitt verwendet haben. Dazu erstellen wir uns eine Datenbank namens movie-db und bef\u00fcllen diese mit einigen Filmen (Tabelle Movie ). Sie k\u00f6nnen diese Datenbak auf verschiedenen Wegen erstellen. Am einfachsten ist es, wenn Sie phpMyadmin verwenden. Dort k\u00f6nnen Sie folgende SQL-Anfrage im Reiter SQL eingeben (Sie k\u00f6nnen auch im Terminal SQL -Anfragen eingeben nachdem Sie sich dort per mysql -u root -p mit dem MySQL-Server verbunden haben): CREATE DATABASE ` movie - db ` ; USE ` movie - db ` ; CREATE TABLE ` Movies ` ( ` id ` int ( 11 ) NOT NULL AUTO_INCREMENT , ` title ` varchar ( 255 ) DEFAULT NULL , ` year ` int ( 11 ) DEFAULT NULL , PRIMARY KEY ( ` id ` ) ) ENGINE = InnoDB DEFAULT CHARSET = utf8 ; INSERT INTO ` Movies ` ( ` title ` , ` year ` ) VALUES ( 'Die Verurteilten' , '1994' ), ( 'Der Pate' , '1972' ), ( 'Der Pate 2' , '1974' ), ( 'The Dark Knight' , '2008' ), ( 'Die zw\u00f6lf Geschworenen' , '1957' ), ( 'Schindlers Liste' , '1993' ), ( 'Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs' , '2003' ), ( 'Pulp Fiction' , '1994' ), ( 'Zwei glorreiche Halunken' , '1966' ), ( 'Fight Club' , '1999' ), ( 'Der Herr der Ringe: Die Gef\u00e4hrten' , '2001' ), ( 'Forrest Gump' , '1994' ), ( 'Inception' , '2010' ), ( 'Das Imperium schl\u00e4gt zur\u00fcck' , '1980' ), ( 'Der Herr der Ringe: Die zwei T\u00fcrme' , '2002' ), ( 'Matrix' , '1999' ), ( 'GoodFellas \u2013 Drei Jahrzehnte in der Mafia' , '1990' ), ( 'Einer flog \u00fcber das Kuckucksnest' , '1975' ), ( 'Joker' , '2019' ), ( 'Die sieben Samurai' , '1954' ); Wir verwenden das Projekt, das wir bereits im obigen Express -Abschnitt verwendet haben, also die Dateien aus backend : backend +---- movie | +---- model.js | +---- view.js | +---- controller.js | +---- movierouter.js +---- node_modules +---- index.js +---- package.json Zun\u00e4chst \u00e4ndern wir die movie/model.js . Darin werden nun nicht mehr die Daten gehalten, sondern die Verbindung zur Datenbank aufgebaut. Au\u00dferdem sehen wir 4 Funktionen zur Datenverwaltung vor, wovon wir eine ( getAll() ) gleich implementieren 3 : movie/model.js const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } module . exports = { getAll , }; movie/controller.js const model = require ( './model' ); const view = require ( './view' ); function listAction ( request , response ) { model . getAll (). then ( movies => { response . send ( view ( movies )); }, error => response . send ( error ), ); } module . exports = { listAction , }; Im Model ( /movie/model.js ) wird zun\u00e4chst die Verbindung zur Datenbank aufgebaut (Zeilen 2-7 und connection.connect() ). Die getAll() -Funktion stellt mithilfe von connection.query() eine Anfrage an die Datenbank (erster Parameter der connection.query() -Funktion). In unserem Beispiel ist die Anfrage die SQL-Query SELECT * FROM Movies . Die getAll() -Funktion gibt ein Promise -Objekt zur\u00fcck. Promises werden in JavaScript\u2192Promises erl\u00e4utert. Im Controller ( /movie/controller.js ) wird das Promise -Objekt in der then -Funktion ausgewertet. Wird in der Promise die resolve -Methode aufgerufen, werden die results \u00fcbergeben, also das Ergebnis der Datenbankanfrage. Diese Werte werden in der ersten Callback-Funktion der then -Methode dem Parameter movies \u00fcbergeben. Soll nur das JSON gesendet werden, wird die view nicht ben\u00f6tigt (statt response.send(view(movies)); gen\u00fcgt dann response.send(movies); ). Hier kapselt die View die Daten noch in einen HTML-Template-String. Im Falle eines Fehlers ruft die Promise die reject -Funktion auf und \u00fcbergibt den Parameter error . Diese Funktion ruft dann in der then -Funktion die zweite Callback-Funktion f\u00fcr die Fehlerauswertung auf. Success Wir haben jetzt eine MySQL-datenbank angebunden und die Anbindung anhand einer getAll() -Funktion, die alle in der Datenbank gespeicherten Filme zur\u00fcckgibt, gezeigt. Wir haben somit einen lesenden Zugriff auf alle Datenbankeintr\u00e4ge realisiert. Im folgenden werden wir auch weitere Zugriffe (create, update, delete) umsetzen. Allerdings haben wir bisher auch eine View mithilfe von Node.js erstellt und verwendet. Die Idee im folgenden ist, dass unser Backend nicht mehr f\u00fcr die Darstellung zust\u00e4ndig ist, sondern die Ergebnisse der Datenbankabfragen im JSON-Format zur\u00fcckgibt. Unser mit Angular erstelltes Frontend soll f\u00fcr die Darstellung zust\u00e4ndig sein. Wir stellen unser Backend vollst\u00e4ndig auf das REST-Konzept um.","title":"Eine Movie-Datenbank"},{"location":"node/#unser-backend-als-reiner-rest-server","text":"Representional State Transfer (REST) ist ein Architekturkonzept und wird in vielen Webanwendungen verwendet. REST beschreibt die Schnittstelle zwischen Frontend und Backend und ist dabei sehr stark an HTTP angelehnt: jede Ressource wird \u00fcber eine eindeutige URL aufgerufen (z.B. alle Filme \u00fcber localhost:8080/movies , den Film mit der id=3 \u00fcber localhost:8080/movie/3 ) es wird definiert, mit welcher HTTP-Anfrage auf die Ressource zugegriffen wird (z.B. get zum Lesen, post zum Anlegen, put zum \u00c4ndern von Ressourcen) jede Anfrage ist zustandslos, d.h. eine Anfrage muss alle notwendigen Informationen beinhalten und fr\u00fchere Anfragen (und deren Responses) werden nicht gespeichert Wir werden unsere View im Backend von nun an also nicht mehr ben\u00f6tigen. Unser Projekt sieht derzeit so aus: index.js const express = require ( 'express' ); const movieRouter = require ( './movie/movierouter' ); const app = express (); app . get ( '/' , ( req , res ) => res . redirect ( '/movie' )); app . use ( '/movie' , movieRouter ); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); movie/model.js const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } module . exports = { getAll , }; movie/controller.js const model = require ( './model' ); function listAction ( request , response ) { model . getAll (). then ( movies => { response . send ( movies ); }, error => response . send ( error ), ); } module . exports = { listAction , }; movie/movierouter.js const express = require ( 'express' ); const router = express . Router (); const { listAction } = require ( './controller' ); router . get ( '/' , listAction ); module . exports = router ; Geben wir also die die URL localhost:8080 an, dann passiert folgendes: die Route wird weitergeleitet an localhost:8080/movie (siehe in index.js die Anweisung app.get('/', (req, res) => res.redirect('/movie')); ) dadurch wird der movie/movierouter.js aufgerufen und dieser ruft die Funktion listAction auf listAction ruft die Promise auf, die in der Funktion model.getAll() definiert wird in getAll() erfolgt eine Anfrage an die Datenbank wird diese Anfrage erfolgreich ausgef\u00fchrt, ruft die Promise die resolve -Funktion auf und \u00fcbergibt alle Resultate der Anfrage in listAction werden diese Resultate als Resonse gesendet Wir rufen Postman zum Testen dieser Anfrage auf und geben localhost:8080 in das URL-Feld ein und senden die Anfrage mittels GET -Methode ab. Es erscheint: Das gleiche Ergebnis bekommen wir, wenn wir als URL localhost:8080/movie eingeben (darauf wird ja eh umgeleitet). Wir k\u00f6nnen die Ausgabe auch mithilfe von curl testen: % curl http://localhost:8080/movie [{ \"id\" :1, \"title\" : \"Die Verurteilten\" , \"year\" :1994 } , { \"id\" :2, \"title\" : \"Der Pate\" , \"year\" :1972 } , { \"id\" :3, \"title\" : \"Der Pate 2\" , \"year\" :1974 } , { \"id\" :4, \"title\" : \"The Dark Knight\" , \"year\" :2008 } , { \"id\" :5, \"title\" : \"Die zw\u00f6lf Geschworenen\" , \"year\" :1957 } , { \"id\" :6, \"title\" : \"Schindlers Liste\" , \"year\" :1993 } , { \"id\" :7, \"title\" : \"Der Herr der Ringe: Die R\u00fcckkehr des K\u00f6nigs\" , \"year\" :2003 } , { \"id\" :8, \"title\" : \"Pulp Fiction\" , \"year\" :1994 } , { \"id\" :9, \"title\" : \"Zwei glorreiche Halunken\" , \"year\" :1966 } , { \"id\" :10, \"title\" : \"Fight Club\" , \"year\" :1999 } , { \"id\" :11, \"title\" : \"Der Herr der Ringe: Die Gef\u00e4hrten\" , \"year\" :2001 } , { \"id\" :12, \"title\" : \"Forrest Gump\" , \"year\" :1994 } , { \"id\" :13, \"title\" : \"Inception\" , \"year\" :2010 } , { \"id\" :14, \"title\" : \"Das Imperium schl\u00e4gt zur\u00fcck\" , \"year\" :1980 } , { \"id\" :15, \"title\" : \"Der Herr der Ringe: Die zwei T\u00fcrme\" , \"year\" :2002 } , { \"id\" :16, \"title\" : \"Matrix\" , \"year\" :1999 } , { \"id\" :17, \"title\" : \"GoodFellas \u2013 Drei Jahrzehnte in der Mafia\" , \"year\" :1990 } , { \"id\" :18, \"title\" : \"Einer flog \u00fcber das Kuckucksnest\" , \"year\" :1975 } , { \"id\" :19, \"title\" : \"Joker\" , \"year\" :2019 } , { \"id\" :20, \"title\" : \"Die sieben Samurai\" , \"year\" :1954 }] Wir erweitern unsere Schnittstelle zun\u00e4chst um die Ansicht eines einzelnen Films. Wir wollen nun mit der URL http://localhost:8080/movie/3 den Film angezeigt bekommen, der die id 3 hat. Wir wollen also die URLs um die Angabe einer id erweitern und f\u00fcr diesen Endpunkt den entsprechenden Film zur\u00fcckgesendet bekommen. Dazu erweitern wir (untem im Listing jeweils gelb markiert) die movie/model.js um eine Funktion getOne(id) ; das Model stellt nach au\u00dfen die Funktion get(id) zur Verf\u00fcgung, die als Response den Film sendet, der die entsprechende id hat, die movie/controller.js um eine Funktion detailAction() , die den Parameter id aus der URL ausliest und die Funktion model.get(id) aufruft, den movie/movierouter.js um eine weitere Route, n\u00e4mlich router.get('/:id', detailAction); , so dass eine id an die URL geh\u00e4ngt werden kann und f\u00fcr diesen Fall die detailAction aufgerufen wird movie/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies' ; connection . query ( query , ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }) }); } function getOne ( id ) { return new Promise (( resolve , reject ) => { const query = 'SELECT * FROM Movies WHERE id=?' ; connection . query ( query , [ id ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results [ 0 ]); }); }); } module . exports = { getAll , get ( id ) { return getOne ( id )}, }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 const model = require ( './model' ); function listAction ( request , response ) { model . getAll (). then ( movies => { response . send ( movies ); }, error => response . send ( error ), ); } function detailAction ( request , response ) { model . get ( request . params . id ). then ( movie => response . send ( movie ), error => response . send ( error ), ); } module . exports = { listAction , detailAction , }; movie/movierouter.js 1 2 3 4 5 6 7 8 const express = require ( 'express' ); const router = express . Router (); const { listAction , detailAction } = require ( './controller' ); router . get ( '/' , listAction ); router . get ( '/:id' , detailAction ); module . exports = router ;","title":"Unser Backend als reiner REST-Server"},{"location":"node/#content-type-und-fehlerbehandlung","text":"Zwar senden wir bereits die Resultate der Requests als JSON zur\u00fcck, jedoch ist der content-type unserer Response noch content-type:text/html , da wir die Response mithilfe der send() -Funktion senden ( response.send() ). Wir \u00e4ndern dies in response.json() . Dadurch teilen wir dem Client mit, dass der gesendetete content-type ein JSON ist ( content-type:application/json ). F\u00fcr eine erfolgreiche Bearbeitung eines Requests wird mit der Response der HTTP-Statuscode 200 gesendet. F\u00fcr den Fehlerfall wollen wir nun daf\u00fcr sorgen, dass der HTTP-Statuscode 500 - Internal Server Error \u00fcbertragen wird. Dies erreichen wir im Fehlerfall mit error => response.status(500).json(error) . Unser Controller sieht nun also so aus: movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const model = require ( './model' ); function listAction ( request , response ) { model . getAll (). then ( movies => { response . json ( movies ); }, error => response . status ( 500 ). json ( error ), ); } function detailAction ( request , response ) { model . get ( request . params . id ). then ( movie => response . json ( movie ), error => response . status ( 500 ). json ( error ), ); } module . exports = { listAction , detailAction , };","title":"Content-Type und Fehlerbehandlung"},{"location":"node/#post-einen-neuen-datensatz-anlegen","text":"Um einen neuen Datensatz anzulegen, m\u00fcssen wir zwei Dinge beachten: die HTTP-Anfrage ist POST (anstelle von GET , das wir zum Lesen verwenden) der Request \u00fcbergibt im Body den neuen Datensatz (als JSON) \u2192 dazu ben\u00f6tigen wir das Paket body-parser von Node.js und nutzen davon die json() -Funktion zum Einlesen des neuen Datensatzes im JSON-Format Wir passen zun\u00e4chst die index.js entsprechend an: index.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 const express = require ( 'express' ); const bodyParser = require ( 'body-parser' ); const movieRouter = require ( './movie/movierouter' ); const app = express (); app . use ( bodyParser . json ()); app . get ( '/' , ( req , res ) => res . redirect ( '/movie' )); app . use ( '/movie' , movieRouter ); app . listen ( 8080 , () => { console . log ( 'Server listening on port 8080' ); }); Um nun einen neuen Datensatz in der Datenbank anzulegen, erweitern wir unser Projekt wie folgt: in movie/model.js wird eine insert() -Funktion definiert, welche durch eine save() -Funktion aufgerufen wird ( save() wird nach au\u00dfen zur Verf\u00fcgung gestellt 4 ), in movie/controller.js wird eine createAction() definiert, die den neuen Datensatz aus dem request,body ausliest und die model.save() aufruft, in movie/movierouter.js wird der neue Endpunkt router.post('/', createAction); festgelegt movie/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { /* bleibt so */ } function getOne ( id ) { /* bleibt so */ } function insert ( movie ) { return new Promise (( resolve , reject ) => { const query = 'INSERT INTO Movies (title, year) VALUES (?, ?)' ; connection . query ( query , [ movie . title , movie . year ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }); }); } module . exports = { getAll , get ( id ) { return getOne ( id )}, save ( movie ) { if ( ! movie . id ) return insert ( movie ); }, }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const model = require ( './model' ); function listAction ( request , response ) { /* bleibt so */ } function detailAction ( request , response ) { /* bleibt so */ } function createAction ( request , response ) { const movie = { id : request . body . id , title : request . body . title , year : request . body . year , }; model . save ( movie ). then ( newMovie => response . status ( 201 ). json ( newMovie ), error => response . status ( 500 ). json ( error ), ); } module . exports = { listAction , detailAction , createAction , }; movie/movierouter.js 1 2 3 4 5 6 7 8 9 const express = require ( 'express' ); const router = express . Router (); const { listAction , detailAction , createAction } = require ( './controller' ); router . get ( '/' , listAction ); router . get ( '/:id' , detailAction ); router . post ( '/' , createAction ); module . exports = router ; Die Funktionen im Model haben alle den gleichen Aufbau. Es wird eine Promise erzeugt und mithilfe von connection.query() eine Anfrage an die Datenbank gestellt. Im Erfolgsfall wird die resolve() -Funktion der Promise aufgerufen, im Fehlerfall die reject() -Funktion. Im Controller wird der request verarbeitet und eine response erzeugt. Im Router werden die Endpunkte und die dazugeh\u00f6rigen HTTP-Methoden (z.B. get oder post ) definiert. Um die createAction -Funktion zu testen, rufen wir Postman auf und tragen in die URL http://localhost:8080/movie/ ein. Wichtig: es muss nun POST ausgew\u00e4hlt werden. Mit dem Request \u00fcbergeben wir im Body nun ein JSON, das einen neuen Film enth\u00e4lt, d.h. das JSON muss die Eigensc haften title und year enthalten (nicht id , denn diese wird automatisch durch das Datenbanksystem erzeugt). Die Anfrage sieht in Postman wie folgt aus: Es kann auch mit curl getestet werden: curl -X POST -H \"Content-Type: application/json\" -d '{\"title\": \"Noch ein Test\", \"year\": \"2019\"}' http://localhost:8080/movie { \"fieldCount\" :0, \"affectedRows\" :1, \"insertId\" :23, \"serverStatus\" :2, \"warningCount\" :0, \"message\" : \"\" , \"protocol41\" :true, \"changedRows\" :0 }","title":"POST - einen neuen Datensatz anlegen"},{"location":"node/#put-einen-datensatz-andern","text":"Das \u00c4ndern eines Datensatzes erfolgt in \u00e4hnlicher Weise wie das Anlegen eines Datensatzes. Es wird im Body der Anfrage das neue JSON gesendet und der Content-Type der Anfrage ist application/json (im Header gesetzt). Zum \u00c4ndern eines Datensatzes wird die HTTP-Methode put verwendet. Um nun einen Datensatz in der Datenbank zu \u00e4ndern, erweitern wir unser Projekt wie folgt: in movie/model.js wird eine update() -Funktion definiert, welche durch die save() -Funktion aufgerufen wird ( save() wird nach au\u00dfen zur Verf\u00fcgung gestellt), in movie/controller.js wird eine updateAction() definiert, die genauso aussieht wie die createAction() , au\u00dfer dass die id aus der URL ausgelesen wird und nicht aus dem Request-Body in movie/movierouter.js wird der neue Endpunkt router.put('/', updateActionAction); festgelegt movie/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { /* bleibt so */ } function getOne ( id ) { /* bleibt so */ } function insert ( movie ) { /* bleibt so */ } function update ( movie ) { return new Promise (( resolve , reject ) => { const query = 'UPDATE Movies SET title = ?, year = ? WHERE id = ?' ; connection . query ( query , [ movie . title , movie . year , movie . id ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results ); }); }); } module . exports = { getAll , get ( id ) { return getOne ( id )}, save ( movie ) { if ( ! movie . id ) return insert ( movie ); else return update ( movie ); }, }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 const model = require ( './model' ); function listAction ( request , response ) { /* bleibt so */ } function detailAction ( request , response ) { /* bleibt so */ } function createAction ( request , response ) { /* bleibt so */ } function updateAction ( request , response ) { const movie = { id : request . params . id , title : request . body . title , year : request . body . year , }; model . save ( movie ). then ( movie => response . status ( 201 ). json ( movie ), error => response . status ( 500 ). json ( error ), ); } module . exports = { listAction , detailAction , createAction , updateAction , }; movie/movierouter.js 1 2 3 4 5 6 7 8 9 10 const express = require ( 'express' ); const router = express . Router (); const { listAction , detailAction , createAction , updateAction } = require ( './controller' ); router . get ( '/' , listAction ); router . get ( '/:id' , detailAction ); router . post ( '/' , createAction ); router . put ( '/:id' , updateAction ); module . exports = router ; Um die Update-Funktion in Postman auszuprobieren, geben Sie als URL z.B. http://localhost:8080/movie/3 ein (um den Film mit der id=3 zu \u00e4ndern) und w\u00e4hlen als HTTP-Methode PUT . Im Request-Body geben Sie dann z.B. { \"title\" : \"Der Pate 3\" , \"year\" : \"1990\" } ein. Sie erhalten: Nat\u00fcrlich k\u00f6nnen Sie zum Testen auch curl verwenden. Die Anfrage ist \u00e4hnlich zur POST -Anfrage, nur mit curl -X PUT .","title":"PUT - einen Datensatz \u00e4ndern"},{"location":"node/#delete-einen-datensatz-andern","text":"Um einen Datensatz zu l\u00f6schen, w\u00e4hlen wir die HTTP-Methode DELETE . Alles andere bleibt wie gehabt. Wir pr\u00e4sentieren gleich die L\u00f6sung: movie/model.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 const mysql = require ( 'mysql' ); const connection = mysql . createConnection ({ host : 'localhost' , user : 'root' , password : 'password' , /* hier muss Ihr Passwort hin */ database : 'movie-db' , }); connection . connect (); function getAll () { /* bleibt so */ } function getOne ( id ) { /* bleibt so */ } function insert ( movie ) { /* bleibt so */ } function update ( movie ) { /* bleibt so */ } function remove ( id ) { return new Promise (( resolve , reject ) => { const query = 'DELETE FROM Movies WHERE id = ?' ; connection . query ( query , [ id ], ( error , results ) => { if ( error ) reject ( error ); else resolve ( results [ 0 ]); }); }); } module . exports = { getAll , get ( id ) { return getOne ( id )}, save ( movie ) { if ( ! movie . id ) return insert ( movie ); else return update ( movie ); }, delete ( id ) { return remove ( id )}, }; movie/controller.js 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 const model = require ( './model' ); function listAction ( request , response ) { /* bleibt so */ } function detailAction ( request , response ) { /* bleibt so */ } function createAction ( request , response ) { /* bleibt so */ } function updateAction ( request , response ) { /* bleibt so */ } function deleteAction ( request , response ) { const id = parseInt ( request . params . id , 10 ); model . delete ( id ) . then ( () => response . status ( 204 ). send (), error => response . status ( 500 ). json ( error ) ); } module . exports = { listAction , detailAction , createAction , updateAction , deleteAction }; movie/movierouter.js 1 2 3 4 5 6 7 8 9 10 11 const express = require ( 'express' ); const router = express . Router (); const { listAction , detailAction , createAction , updateAction , deleteAction } = require ( './controller' ); router . get ( '/' , listAction ); router . get ( '/:id' , detailAction ); router . post ( '/' , createAction ); router . put ( '/:id' , updateAction ); router . delete ( '/:id' , deleteAction ); module . exports = router ; Success Wir haben nun eine vollst\u00e4ndige REST-Schnittstelle des Backends implementiert. Es k\u00f6nnen alle Datens\u00e4tze oder ein Datensatz gelesen ( read mithilfe von get ), ein Datensatz erzeugt ( create mithilfe von post ), ein Datensatz aktualisiert ( update mithilfe von put ) und ein Datensatz gel\u00f6scht ( delete mithilfe von delete ) werden.","title":"DELETE - einen Datensatz \u00e4ndern"},{"location":"node/#json-web-tokens-zur-authentifizierung","text":"Unsere Backend-Schnittstelle ist bis jetzt offen f\u00fcr jeden, d.h. jeder, der die Endpunkte kennt, kann die Ressourcen abfragen und somit Daten auslesen, l\u00f6schen, \u00e4ndern usw. Das kann nat\u00fcrlich nicht richtig sein, insbesondere wenn mit sensiblen Daten gearbeitet wird. Wir k\u00f6nnen im Backend auch nicht ein Anmeldeformular vorsehen, da das Backend nur Services anbietet. Au\u00dferdem ist die Kommunikation mit der REST-Schnittstelle zustandslos, d.h. es kann gar nicht gespeichert werden, ob eine Nutzerin bereits angemeldet ist oder nicht. Eine L\u00f6sung f\u00fcr diese Probleme sind JSON Web Tokens (JWT) . Ein JWT ist eine codierte Zeichenkette, die einen Header enth\u00e4lt, einen Payload und eine Signatur. Hier ein Screenshot der jwt.io-Webseite mit einem Beispiel daf\u00fcr:","title":"JSON Web Tokens zur Authentifizierung"},{"location":"node/#datenbank-und-model","text":"Wir erzeugen zun\u00e4chst eine Tabelle in unserer Datenbank, um Nutzername und zugeh\u00f6riges Passwort zu speichern.","title":"Datenbank und Model"},{"location":"node/#erzeugen-eines-jwt","text":"F\u00fcr die Erzeugung eines JWT verwenden wir das Nodes-Paket jsonwebtoken . Dieses installieren wir im Ordner backend mit dem Befehl npm install jsonwebtoken Wir erstellen uns eine Route, \u00fcber die die Benutzer ihre Anmeldedaten an das Backend schicken k\u00f6nnen Die Bezeichnung movierouter.js f\u00fcr diese Datei ist hier noch verwirrend, da sie zun\u00e4chst auch die Daten enthalten wird. Wir werden nach und nach die Funktionen so gestalten und auslagern, dass die Datei nur noch den Router enth\u00e4lt und f\u00fcr alles andere ein Model, eine View und ein Controller entstehen werden. \u21a9 Beachten Sie auch hier wieder, dass aus Gr\u00fcnden der \u00dcbersichtlichkeit die Daten in den Reiter const data ausgelagert wurden. Die m\u00fcssen Sie hineinkopieren. \u21a9 Achten Sie darauf, Ihr korrektes Passwort einzutragen. \u21a9 Wir werden die save() -Funktion sp\u00e4ter noch erweitern. Beim Anlegen eines neuen Datensatzes werden zwar der Titel und das Entstehungsjahr des Films mitgesendet, nicht jedoch die id . Die id wird durch das Datenbanksystems vergeben. F\u00fcr den Fall, dass der save() -Funktion auch die id des Films mitgegeben wird, gehen wir davon aus, dass der Film in der Datenbank aktualisiert ( update() ) wird, sich also ein Eintrag ge\u00e4ndert hat. \u21a9","title":"Erzeugen eines JWT"},{"location":"rwd/","text":"Responsive Web Design \u00b6 Responsive bedeutet reagierend und wenn wir von Resonsive Web Design (RWD) sprechen, dann meinen wir damit, dass wir das Layout der Webseite so gestalten, dass es auf die Gr\u00f6\u00dfe des Ausgabeger\u00e4tes \"reagiert\". Das hei\u00dft, dass wir f\u00fcr kleine (schmale) Ausgabeger\u00e4te (z.B. Mobiltelefone) ein anderes Layout (Design) w\u00e4hlen, als f\u00fcr breitere Ausgabeger\u00e4te (z.B. Tablets) und ein noch anderes Layout f\u00fcr sehr breite Ausgabeger\u00e4te (z.B. Monitore). Responsive Web Design realisieren wir haupts\u00e4chlich mit CSS. Insofern h\u00e4tte es auch gut in den Skript-Teil f\u00fcr CSS gepasst. Da dies jedoch schon so lang war, haben wir eine eigene Unterseite f\u00fcr RWD erstellt. Damit \u00fcberhaupt auf unterschiedliche Ausgabeger\u00e4te reagiert werden kann, wurde sogenannte Media Queries in CSS eingef\u00fchrt. Diese schauen wir uns deshalb zun\u00e4chst genauer an. Zuvor noch ein wichtiger Tipp! Um unsere Webseite im responsiven Design zu gestalten, m\u00fcssen wir dem Browser mitteilen, dass er die Gr\u00f6\u00dfe des Viewports (also des Ausgabefensters) ber\u00fccksichtigen soll und die Darstellung an die Gr\u00f6\u00dfe des Ger\u00e4tes anpassen muss. Dazu f\u00fcgen wir im <head> unserer Webseite von nun an immer das viewport meta tag ein und geben damit an, dass einerseits die Ausgabe an die Ger\u00e4tegr\u00f6\u00dfe angepasst werden soll und wir mit einem Zoom-Faktor von 1 starten: <!-- ab jetzt immer im <head> angeben! --> < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > Media Queries \u00b6 Grob gesagt, definieren wir mithilfe von Media Queries , welche CSS-Eigenschaften f\u00fcr welche Bildschirmgr\u00f6\u00dfe gelten sollen. Das hei\u00dft, wir definieren unterschiedliche CSS-Eigenschaften f\u00fcr unterschiedliche Bildschirmgr\u00f6\u00dfen. So k\u00f6nnen wir z.B. definieren, dass f\u00fcr Bildschirmbreiten unter 480px ein einspaltiges Layout gew\u00e4hlt wird, f\u00fcr Bildschirmbreiten gr\u00f6\u00dfer als 480px , aber kleiner gleich 720px ein 2-spaltiges Layout und f\u00fcr gr\u00f6\u00dfer als 720px ein 3-spaltiges Layout. Wir betrachten Media Queries zun\u00e4chst von der syntaktischen Seite. Das ist f\u00fcr Sie vielleicht zun\u00e4chst unspannend, aber wir \u00fcberlegen dabei, was alles geht, um dann zu sagen, dass wir uns doch nur um Screens (also Minitore) und doch nur um deren Breiten k\u00fcmmern - aber es ginge noch viel mehr ;-). Syntax von Media Queries \u00b6 Media Queries k\u00f6nnen zun\u00e4chst einmal true oder false sein. Um diesen Wert zu ermitteln, wird f\u00fcr einen Medientyp ( media type ) ein Ausdruck ( expression ) ausgewertet. Die allgemeine Syntax f\u00fcr eine Media Query ist wie folgt: @media [not|only] mediatype and (expressions) { CSS-Code; } Eine Media Query beginnt immer mit @media . Dann kann ein not oder ein only kommen, muss aber nicht und wir werden es auch nicht verwenden. Danach kommt der Medientyp (sollte kein Medientyp angegeben werden, ist screen , also Monitor gemeint). Medientypen k\u00f6nnen z.B. Drucker ( print ), Monitore ( screen ), Screenreader ( speech ) oder all sein. Wir werden uns (fast) ausschlie\u00dflich mit Monitoren bzw Monitorgr\u00f6\u00dfen und damit als Medientyp screen besch\u00e4ftigen. Ein angegebener Medientyp wird mithilfe von and mit einem Ausdruck verkn\u00fcpft. Ein Ausdruck besteht aus einem media feature und einem Wert. Ein media feature ist z.B. width , min-width , max-width , height , min-height , max-height , device-width , min-device-width , max-device-width , device-height , min-device-height , max-device-height , orientation , usw. Ausdr\u00fccke ( expressions ) ergeben sich dann aus media feature und Wert, z.B. orientation: landscape , orientation: portrait , min-width: 480px , max-width: 480px , resolution: 150dpi . Beispiele von Media Queries \u00b6 Wir betrachten zun\u00e4chst einige Beispiele von Media Queries: @ media screen and ( max-width : 800px ) { /* hier die CSS-Eigenschaften, die gelten sollen, falls der Monitor (Viewport) h\u00f6chstens 800px breit ist */ } @ media only screen and ( min-width : 320px ) and ( max-width : 480px ) and ( min-resolution : 150dpi ) { /* hier die CSS-Eigenschaften, die gelten sollen, falls der Monitor (Viewport) mindestens 320px und h\u00f6chstens 480px breit ist und mindestens eine Aufl\u00f6sung von 150dpi besitzt */ } Seit Media Queries Level 4 kann man auch direkt schreiben: @ media ( 320px <= width <= 480px ) and ( min-resolution : 150dpi ) { /* hier die CSS-Eigenschaften, die gelten sollen, falls der Monitor (Viewport) mindestens 320px und h\u00f6chstens 480px breit ist und mindestens eine Aufl\u00f6sung von 150dpi besitzt */ } @ media ( orientation : portrait ) { /* hier die CSS-Eigenschaften f\u00fcr hochformatige Ausgabemedien */ } @ media ( orientation : landscape ) { /* hier die CSS-Eigenschaften f\u00fcr querformatige Ausgabemedien */ } Erstes Beispiel \u00b6 Wir versuchen, zun\u00e4chst immer mobile first zu designen, d.h. wir geben zun\u00e4chst die CSS-Eigenschaften an, die f\u00fcr mobile Ger\u00e4te (schmaler Viewport) gelten und f\u00fcgen dann Media Queries hinzu, die f\u00fcr gr\u00f6\u00dfere Ausgabebreiten Anwendung finden soll. Hier ein erstes Beispiel: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < title > Media Queries </ title > < style > div { margin : auto ; width : 100 % ; height : 100 % ; text-align : center ; background-color : red ; padding-top : 20 % ; padding-bottom : 20 % ; font-size : medium ; } @ media screen and ( min-width : 800px ) { div { background-color : green ; color : yellow ; font-size : large ;; } } @ media screen and ( min-width : 1200px ) { div { background-color : blue ; color : white ; font-size : xx-large ; } } @ media screen and ( orientation : portrait ) { div { writing-mode : vertical - rl ; text-orientation : mixed ; background-color : yellow ; color : brown ; } } </ style > </ head > < body > < div > \u00c4ndern Sie die Breite des Browsers, um den Effekt zu sehen. </ div > </ body > </ html > Der HTML-Code ist kurz: wir erstellen ein <div> , welches einen Text enth\u00e4lt. Im <style> -Element definieren wir f\u00fcr dieses <div> , dass der Text zentriert sein soll (vertikal, also von links nach rechts betrachtet) und dass nach oben und unten ein Abstand zum Rand von jeweils 20% der Viewport-H\u00f6he eingehalten werden soll. Dadurch wird das <div> einigerma\u00dfen hoch (weil <div> ein Block-Element ist, geht es sowieso \u00fcber die gesamte Breite). Au\u00dferdem legen wir fest, dass der Hintergrund rot und die Schriftgr\u00f6\u00dfe medium sein soll. Unsere erste Media Query definiert f\u00fcr eine Mindestbreite des Viewports von 800px , dass der Hintergrund nun gr\u00fcn, die Schriftfarbe gelb und die Schriftgr\u00f6\u00dfe large sein soll. Die zweite Media Query definiert f\u00fcr eine Mindestbreite des Viewports von 1200px , dass der Hintergrund blau, die Schriftfarbe wei\u00df und die Schriftgr\u00f6\u00dfe xx-large sein soll. Wenn wir die Seite im Browser aufrufen, wird nun abh\u00e4ngig von der Gr\u00f6\u00dfe des Viewports eine der drei folgenden Ansichten gezeigt: \u00c4ndern Sie die Gr\u00f6\u00dfe der Browserbreite, um alle drei Ansichten zu sehen. Die dritte Media Query definiert eine eigene Ansicht f\u00fcr den Fall, dass die H\u00f6he des Viewports gr\u00f6\u00dfer ist als die Breite ( orientation: portrait ). Sie k\u00f6nnen diese Ansicht erreichen, indem Sie den Browser m\u00f6glichst schmal machen oder Sie nutzen die Developer Tools Ihres Browsers und \"drehen\" Ihr Ger\u00e4t. Zweites Beispiel \u00b6 Wir wollen uns noch ein zweites Beispiel anschauen. Dieses Beispiel zeigt bereits das Prinzip, auf dem das sogenannte Grid-Konzept beruht, welches in CSS-Frameworks verwendet wird. <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < title > Responsive Webdesign </ title > < style > . small { float : left ; width : 98 % ; padding : 1 % ; } @ media screen and ( min-width : 800px ) { . medium { float : left ; width : 48 % ; padding : 1 % ; } } @ media screen and ( min-width : 1200px ) { . large { float : left ; width : 23 % ; padding : 1 % ; } } </ style > </ head > < body > < p class = \"small medium large\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, </ p > < p class = \"small medium large\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, </ p > < p class = \"small medium large\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, </ p > < p class = \"small medium large\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, </ p > </ body > </ html > Der HTML-Code ist wieder einfach gehalten. Wir haben vier <p> -Elemente, die einen Text enthalten und denen jeweils drei Klassen zugeordnet sind: small , medium und large . In den CSS-Definitionen (siehe <style> -Element) definieren wir zun\u00e4chst Eigenschaften f\u00fcr die Klasse small . Wir geben dort zwar float:left an, das ist aber eigentlich unsinnig, da die Breite jedes einzelnen Absatzes 100% der Breite des Viewports ist ( widt: 98% + 2x padding: 1% ). Es w\u00fcrde dort auch gen\u00fcgen, wenn wir einfach nur padding: 1% definieren w\u00fcrden. Wichtiger sind die Definitionen in den beiden Media Queries. F\u00fcr eine Viewport-Breite zwischen 800px und 1199px definieren wir die Klasse medium so, dass jedes Element, dem diese Klasse zugeordnet ist (hier alle <p> -Elemente) umflossen werden kann ( float: left ) und eine Breite von 50% des Viewports einnimmt. Das f\u00fchrt dazu, dass dann zwei Abs\u00e4tze nebeneinander passen. F\u00fcr eine Viewport-Breite gr\u00f6\u00dfer als 1199px definieren wir die Klasse large so, dass jedes Element, dem diese Klasse zugeordnet ist (hier alle <p> -Elemente) umflossen werden kann ( float: left ) und eine Breite von 25% des Viewports einnimmt. Das f\u00fchrt dazu, dass dann vier Abs\u00e4tze nebeneinander passen. F\u00fchren Sie das Beispiel aus und \u00e4ndern Sie Ihre Browserbreite, dann werden Sie den Effekt sehen: Eine Anmerkung noch: Sie stellen sich vielleicht die Frage, warum z.B. bei einer Viewportbreite von mehr als 1200px die Definition der Klasse large wirkt, nicht jedoch die Definitionen der Klassen small und medium . Wenn wir uns an die Gewichtung der Selektoren erinnern, dann sollten alle drei Definitionen gleichgewichtet sein, denn es ist jeweils eine Klasse betroffen. Es steht als jeweils in Kategorie A eine 0 ( style -Attribut), in Kategorie B eine 0 (keine id ), in Kategorei C eine 1 (eine Klasse) und in Kategorie D eine 0 (kein Element). Tats\u00e4chlich sind auch alle drei Definitionen gleichgewichtet. Hier entscheidet jetzt tats\u00e4chlich die Reihenfolge der Definitionen und da zuerst small definiert wird, dann medium und dann large , wirkt large am st\u00e4rksten, wenn alle drei Klassen definiert sind. Das hei\u00dft auch, Sie d\u00fcrfen nicht zuerst mit der Media Query f\u00fcr gro\u00dfe Viewports beginnen, dann die Media Query f\u00fcr mittlere Viewports und erst dann die small -Definition, denn dann w\u00fcrde es nicht funktionieren. CSS-Frameworks \u00b6 F\u00fcr gr\u00f6\u00dfere Webanwendungen m\u00fcssen wir keine eigenen CSS-Definitionen schreiben, sondern k\u00f6nnen auf CSS-Frameworks zur\u00fcckgreifen, die ein einheitliches und mordernes Aussehen f\u00fcr Webanwendungen zur Verf\u00fcgung stellen. In diesen Frameworks wurden viele Klassen definiert und wir k\u00f6nnen unter Verwendung eines solchen Frameworks unseren HTML-Elementen gezielt Klassen zuweisen, die dann das Aussehen dieses Elementes beeinflussen. Einige solcher Frameworks haben bereits eine hohe Verbreitung: Bootstrap SemanticUI Materialize CSS Foundation Einen \u00dcberblick \u00fcber bekannte CSS-Frameworks finden Sie z.B. hier und hier . Wir erl\u00e4utern hier die Verwendung eines solchen Frameworks anhand von Bootstrap. Bootstrap \u00b6 Um Bootstrap zu verwenden, haben Sie zun\u00e4chst die Wahl zwischen der Verwendung eines Content Delivery Networks (CDN) oder dem Download der externen Bootstrap-CSS-Datei. Wenn Sie ein CDN verwenden, dann werden die Quellen in dem Moment geladen, in dem Sie die Webseite aufrufen. Der <head> Ihrer HTML-Datei sieht dann so aus: < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > Title </ title > </ head > Den entsprechenden Link zum CDN finden Sie auf der Bootstrap-Webseite . Sie k\u00f6nnen die CSS-Dateien aber auch herunterladen. Auf der Download Bootstrap-Webseite klicken Sie unter \"Compiled CSS and JS\" auf den \"Download\"-Button. Sie erhalten eine Datei bootstrap-4.5.3-dist.zip . Entpacken Sie diese Datei. Der entstehende Ordner enth\u00e4lt 2 Unterordner css und js . Letzterer enth\u00e4lt JavaScript-Dateien des Frameworks. Diese ben\u00f6tigen wir f\u00fcr unsere Zwecke hier (noch) nicht. Verschieben Sie den css-Ordner in Ihren Projekt-Ordner (z.B. Webtech20 ). Dann k\u00f6nnen Sie diese externen Dateien mit dem <link> -Tag wie bekannt einbinden. Der <head> sieht dann so aus: < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Title </ title > </ head > Das min im Dateinamen bootstrap.min.css steht \u00fcbrigens daf\u00fcr, dass aus dieser CSS-Datei alle unn\u00f6tigen Whitespaces (Leerzeichen und Tabs) entfernt wurden, um die Datei m\u00f6glichst klein zu halten (sie ist immer noch 160 KB) gro\u00df - das muss bei jedem Abruf vom Webserver mitgeladen werden (wenn es nicht bereits im Cache ist). Mit den Whitespaces ( bootstrap.css ) ist die Datei sogar 198 KB gro\u00df. Wir erstellen mal eine erste Seite: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Bootstrap </ title > </ head > < body > < div class = \"jumbotron\" > < div class = \"container\" > < h1 class = \"display-3\" > Jetzt mit Bootstrap! </ h1 > < p > Wir verwenden jetzt Bootstrap und schauen uns mal die Anwendung ein wenig genauer an. Das Grundprinzip besteht darin, HTML-Elementen Klassen zuzuordnen. Dieser gro\u00dfe graue Kasten hier nennt sich z.B. Jumbotron. </ p > < p >< a class = \"btn btn-primary btn-lg\" href = \"https://getbootstrap.com/docs/4.5/examples/\" role = \"button\" > Bootstrap Beispiele &raquo; </ a ></ p > </ div > </ div > </ body > </ html > Wenn Sie Bootstrap richtig eingebunden haben, dann sieht die Seite so aus: In dem obigen Beispiel habe ich einen Link auf Beispiele hinterlegt, in denen Bootstrap verwendet wird. Es lohnt sich, diese Beispiel genauer unter die Lupe zu nehmen, um ein Gef\u00fchl daf\u00fcr zu bekommen, wie die Klassen wirken und was alles so mit Bootstrap geht. Man muss keine dieser Klassen kennen, sondern sucht immer in bereits existierenden Beispielen, wie man ein Problem mithilfe von Bootstrap l\u00f6sen kann. Neben der Bootstrap-Webseite selbst bietet auch w3schools eine gute \u00dcbersicht. Daraus auch noch eine weitere Erg\u00e4nzung, n\u00e4mlich ein Formular, bei dem \u00fcberpr\u00fcft wird, ob eine Eingabe \u00fcberhaupt erfolgte. Der hinzugef\u00fcgte Code ist gelb unterlegt. Erweiterung des Beispiels um ein Formular 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Bootstrap </ title > </ head > < body > < main role = \"main\" > < div class = \"jumbotron\" > < div class = \"container\" > < h1 class = \"display-3\" > Jetzt mit Bootstrap! </ h1 > < p > Wir verwenden jetzt Bootstrap und schauen uns mal die Anwendung ein wenig genauer an. Das Grundprinzip besteht darin, HTML-Elementen Klassen zuzuordnen. Dieser gro\u00dfe graue Kasten hier nennt sich z.B. < code > Jumbotron </ code > . </ p > < p >< a class = \"btn btn-primary btn-lg\" href = \"https://getbootstrap.com/docs/4.5/examples/\" role = \"button\" > Bootstrap Beispiele &raquo; </ a ></ p > </ div > </ div > < div class = \"container\" > < h2 > Formular mit Validierung, ob Eingabe erfolgte (nur mit CSS - kein JavaScript!) </ h2 > < p > Hier wird z.B. die Klasse < code > .was-validated </ code > verwendet, um zu \u00fcberpr\u00fcfen, ob in den Textfeldern und der Checkbox eine Eingabe erfolgt ist. </ p > < form class = \"was-validated\" > < div class = \"form-group\" > < label for = \"uname\" > Username: </ label > < input type = \"text\" class = \"form-control\" id = \"uname\" placeholder = \"Enter username\" name = \"uname\" required > < div class = \"valid-feedback\" > Korrekt </ div > < div class = \"invalid-feedback\" > Feld bitte ausf\u00fcllen! </ div > </ div > < div class = \"form-group\" > < label for = \"pwd\" > Password: </ label > < input type = \"password\" class = \"form-control\" id = \"pwd\" placeholder = \"Enter password\" name = \"pswd\" required > < div class = \"valid-feedback\" > Korrekt </ div > < div class = \"invalid-feedback\" > Feld bitte ausf\u00fcllen! </ div > </ div > < div class = \"form-group form-check\" > < label class = \"form-check-label\" > < input class = \"form-check-input\" type = \"checkbox\" name = \"remember\" required > Ich habe die Datenschutzerkl\u00e4rung gelesen und stimme ihr zu. < div class = \"valid-feedback\" > Korrekt </ div > < div class = \"invalid-feedback\" > Hier bitte best\u00e4tigen! </ div > </ label > </ div > < button type = \"submit\" class = \"btn btn-primary\" > Login </ button > </ form > </ div > </ main > </ body > </ html > Die Seite sieht dann so aus: Wir wollen gar keine weiteren Beispiele hier auff\u00fchren. Wie gesagt, wenn Sie etwas ben\u00f6tigen, dann gucken Sie unter Bootstrap oder w3schools nach, ob es dort passende Beispiele gibt, die Sie kopieren und anpassen k\u00f6nnen. Uns geht es haupts\u00e4chlich um das Grid-Konzept, das im folgenden vorgestellt wird. Grid-Konzept \u00b6 Alle CSS-Frameworks beruhen zur Gestaltung eines responiven Webdesigns auf einem sogenannten Grid-Konzept . Bei diesem Konzept wird der Viewport in Spalten (columns) aufgeteilt. Bei den meisten CSS-Frameworks, auch bei Bootstrap, in 12 Spalten . Sie k\u00f6nnen einem Blockelement nun \u00fcber die Zuweisung zu einer bestimmten Klasse mitteilen, wieviele solcher Spalten f\u00fcr dieses Element zur Verf\u00fcgung stehen. Erstes Beispiel \u00b6 Wir betrachten zun\u00e4chst wieder ein einfaches Beispiel: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Grid </ title > < style > div div { padding : 10 px ; } </ style > </ head > < body > < main class = \"container pt-5 \" > < h2 > Wichtig ist, dass die Spaltenanzahl in einer Zeile 12 ergibt </ h2 > < div class = \"row\" > < div class = \"col-3\" style = \"background-color: lightgrey;\" > < h3 > col-3 </ h3 > < p > Diesem &lt; div &gt; wurde die Klasse < code > col-3 </ code > zugewiesen </ p > </ div > < div class = \"col-4\" style = \"background-color: darkgrey;\" > < h3 > col-4 </ h3 > < p > Diesem &lt; div &gt; wurde die Klasse < code > col-4 </ code > zugewiesen </ p > </ div > < div class = \"col-5\" style = \"background-color: grey;\" > < h3 > col-5 </ h3 > < p > Diesem &lt; div &gt; wurde die Klasse < code > col-5 </ code > zugewiesen </ p > </ div > </ div > </ main > </ body > </ html > Wir haben drei <div> -Elemente in einem <div> , dem die Klasse row zugewiesen ist. Die drei <div> -Elemente innerhalb von row nehmen jeweils eine gewisse Anzahl von Spalten ein. das erste <div> ist 3 Spalten breit ( col-3 ), das zweite <div> 4 Spalten ( col-4 ) und das dritte <div> ist 5 Spalten breit ( col-5 ). Dadurch, dass die drei Container in einem Container mit der Klasse row und den drei Containern jeweils mit col-* eine Anzahl von Spalten zugewiesen wurden, erscheinen die drei Container nebeneinander und haben die Breite entsprechend der ihnen zugewiesenen Spaltenanzahl. Das erste <div> nimmt also 3/12 der Viewportbreite ein, das zweite <div> 4/12 und das dritte 5/12. Wichtig ist, dass die Summe der Spalten 12 ergibt (3+4+5), damit die drei Elemente auch nebeneinander passen (es darf zumindest nicht mehr sein). Folgende Abbildung zeigt die M\u00f6glichkeiten, wenn die jeweiligen Blockelemente jeweils gleichverteilt \u00fcber die gesamten 12 Spalten w\u00fcrden. Aber wie Sie gesehen haben, k\u00f6nnen die Spaltenbreiten auch beliebig gemischt werden (z.B. col-2 , col-3 , col-1 , col-6 ) - in Summe soll immer 12 herauskommen. Falls Sie mehrere Spalten gleichverteilen wollen (also gleiche Spaltenbreiten), k\u00f6nnen Sie auch einfach die Klasse col verwenden: < div class = \"row\" > < div class = \"col\" ></ div > < div class = \"col\" ></ div > < div class = \"col\" ></ div > < div class = \"col\" ></ div > </ div > Hier nehmen die inneren <div> nun jeweils 25% des Viewports ein und sind nebeneinander. Responsive \u00b6 Blockelemente nebeneinander anzuordnen, geht nun also schonmal recht leicht. Die eigentlich gute Idee des Grid-Konzeptes ist jedoch, dass man genau so einfach die Anordnung der Elemente responsiv gestalten kann. Neben der Klasse col (automatisch gleichverteilen) gibt es, wie wir bereits gesehen haben, die Klassen col-1 , col-2 , ... , col-12 . Damit k\u00f6nnen wir, wie im ersten Beispiel gezeigt, Blockelementen jeweils eine bestimmte Spaltenanzahl zuordnen. Jetzt kommt noch eine weitere Bedeutung dieser Klassen hinzu: man verwendet sie f\u00fcr extra schmale Ausgabeger\u00e4te (kleiner als 576px ). Daneben gibt es noch weitere Klassen (wir listen col- trotzdem nochmal mit auf): col- (xs-Ger\u00e4te; Bildschirmbreite kleiner als 576px) col-sm- (sm-Ger\u00e4te - Bildschirmbreite gleich oder gr\u00f6\u00dfer als 576px) col-md- (md-Ger\u00e4te - Bildschirmbreite gleich oder gr\u00f6\u00dfer als 768px) col-lg- (lg-Ger\u00e4te - Bildschirmbreite gleich oder gr\u00f6\u00dfer als 992px) col-xl- (xl-Ger\u00e4te - Bildschirmbreite als 1200px) Hinter dem Strich steht bei allen Klassen eine Zahl 1 bis 12 . Die Klassen skalieren auch nach oben, d.h. wenn man nur die Klassen f\u00fcr xs-Ger\u00e4te angibt und keine weiter (so wie in unserem ersten Beispiel oben), dann gilt diese Angabe f\u00fcr alle weiteren Bildschirmbreiten. M\u00f6chte man z.B., dass die Darstellung in md-Ger\u00e4ten und lg-Ger\u00e4ten genau so sein soll, wie in sm-Ger\u00e4ten, dann l\u00e4sst man die Angabe f\u00fcr die md-Ger\u00e4te und lg-Ger\u00e4te einfach weg. Wir schauen uns das mal an: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Grid </ title > < style > div div { padding : 10 px ; margin-top : 5 px ; margin-bottom : 5 px ; } . row div : nth-child ( odd ) { background-color : lightgrey ; color : black ; } . row div : nth-child ( even ) { background-color : grey ; color : white ; } </ style > </ head > < body > < main class = \"container pt-5 \" > < h2 > Jetzt resonsiv - \u00e4ndern Sie die Monitorbreite </ h2 > < div class = \"row\" > < div class = \"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 1/2 </ li > < li > md: < code > col-md-4 </ code > 1/3 </ li > < li > lg: < code > col-lg-3 </ code > 1/4 </ li > < li > xl: < code > col-xl-2 </ code > 1/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 2/2 </ li > < li > md: < code > col-md-4 </ code > 2/3 </ li > < li > lg: < code > col-lg-3 </ code > 2/4 </ li > < li > xl: < code > col-xl-2 </ code > 2/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 1/2 </ li > < li > md: < code > col-md-4 </ code > 3/3 </ li > < li > lg: < code > col-lg-3 </ code > 3/4 </ li > < li > xl: < code > col-xl-2 </ code > 3/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 2/2 </ li > < li > md: < code > col-md-4 </ code > 1/3 </ li > < li > lg: < code > col-lg-3 </ code > 4/4 </ li > < li > xl: < code > col-xl-2 </ code > 4/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-6 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 1/2 </ li > < li > md: < code > col-md-4 </ code > 2/3 </ li > < li > lg: < code > col-lg-6 </ code > 1/2 </ li > < li > xl: < code > col-xl-2 </ code > 5/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-6 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 2/2 </ li > < li > md: < code > col-md-4 </ code > 3/3 </ li > < li > lg: < code > col-lg-6 </ code > 2/2 </ li > < li > xl: < code > col-xl-2 </ code > 6/6 </ li > </ ul > </ div > </ div > </ main > </ body > </ html > Die <div> -Elemente innerhalb der row sind alle gleich. Ihnen wurden jeweils folgende Klassen zugeordnet: col-12 : bei Bildschirmbreiten unter 576px geht ein div \u00fcber alle 12 Spalten, d.h. alle <div> sind untereinander (6 Zeilen) col-sm-6 : bei Bildschirmbreiten gr\u00f6\u00dfer als 576px und kleiner als 768px geht ein div \u00fcber 6 Spalten, d.h. 2 <div> passen jeweils nebeneinander (3 Zeilen) col-md-4 : bei Bildschirmbreiten gr\u00f6\u00dfer als 768px und kleiner als 992px geht ein div \u00fcber 4 Spalten, d.h. 3 <div> passen jeweils nebeneinander (2 Zeilen) col-xl-2 : bei Bildschirmbreiten \u00fcber 1200px geht ein div \u00fcber 2 Spalten, d.h. alle 6 <div> passen nebeneinander (1 Zeile) Eine Abweichung gibt es f\u00fcr col-lg- . Den ersten 4 <div> -Elementen ist jeweils die Klasse col-lg-3 zugeordnet. Damit passen diese 4 <div> -Elemente nebeneinander. Dann bleiben noch 2 <div> -Elemente \u00fcbrig. Denen wurde die Klasse col-lg-6 zugeordnet, so dass beide Elemente jeweils 6 Spalten breit sind und den Viewport zusammen vollst\u00e4ndig ausf\u00fcllen. Die folgenden Screenshots zeigen die jeweiligen Ansichten: Zusammenfassend l\u00e4sst sich also sagen, dass Sie ein responsives Layout erhalten, wenn Sie einem Container die Klasse row zurodnen und den darin enthaltenen Containern die f\u00fcr Ihr Layout entsprechenden Klassen col-* , col-sm-* , col-md-* , col-lg-* und/oder col-xl-* . Achten Sie darauf, dass die Spaltenbreite in einer Zeile insgesamt (h\u00f6chstens) 12 ergibt und dass die Definitionen nach oben (zum breiteren) skalieren. Das bedeutet, dass wenn Sie beispielsweise keine Definitionen f\u00fcr col-md-* angeben, dann wirken die Definitionen f\u00fcr col-sm-* . Sollten auch diese nicht angegeben sein, dann col-* . Vielleicht noch 2 weitere Beispiele zur Festigung des Verst\u00e4ndnisses. Erstens bestimmt die H\u00f6he des \"h\u00f6chsten\" inneren Containes die H\u00f6he aller Container in einer Reihe: < h2 > Alle Container in einer Reihe gleich hoch </ h2 > < div class = \"row\" > < div class = \"col\" style = \"background-color: blue; color: white;\" > Lorem ipsum dolor sit amet, cibo sensibus interesset no sit. Et dolor possim volutpat qui. No malis tollit iriure eam, et vel tale zril blandit, rebum vidisse nostrum qui eu. No nostrud dolorem legendos mea, ea eum mucius oporteat platonem.Eam an case scribentur, ei clita causae cum, alia debet eu vel. </ div > < div class = \"col\" style = \"background-color: lightblue; color: black;\" > .col </ div > < div class = \"col\" style = \"background-color: dodgerblue; color: black;\" > .col </ div > </ div > Das style -Attribut k\u00f6nnen Sie jeweils ignorieren, ist nur zur besseren Sichtbarkeit. Allen inneren Containern wurde die Klasse col zugeordnet, sie werden also innerhalb der Reihe gleichverteilt. Die H\u00f6he des h\u00f6chsten Containers (der erste mit dem l\u00e4ngeren Text) bestimmt auch die H\u00f6he der anderen Container in der Reihe. Es entsteht folgende Ansicht: Zweitens k\u00f6nnen Sie die Spalten auch verschachteln. Innerhalb eines Elternelementes soll die Spaltensumme wieder 12 sein. < h2 > Verschachtelte Spalten </ h2 > < div class = \"row\" > < div class = \"col-8\" style = \"background-color: yellowgreen; color: black;\" > .col-8 < div class = \"row\" > < div class = \"col-6\" style = \"background-color: grey; color: white;\" > .col-6 </ div > < div class = \"col-6\" style = \"background-color: dimgrey; color: white;\" > .col-6 </ div > </ div > </ div > < div class = \"col-4\" style = \"background-color: green; color: black;\" > .col-4 </ div > </ div > Auch hier k\u00f6nnen Sie die style -Attribute wieder ignorieren. Es gibt eine \"\u00e4u\u00dfere\" Reihe mit 2 inneren <div> -Elementen. Das erste <div> -Element geht \u00fcber 8 Spalten und das zweite <div> -Element \u00fcber 4 Spalten. Das erste <div> -Element ist selbst ein Elternelement f\u00fcr eine weitere Reihe. Diese enth\u00e4lt wiederum zwei <div> -Elemente, beide gehen \u00fcber 12 Spalten. Der Bezug ist hier aber das Elternelement. Es entsteht folgende Ansicht:","title":"RWD"},{"location":"rwd/#responsive-web-design","text":"Responsive bedeutet reagierend und wenn wir von Resonsive Web Design (RWD) sprechen, dann meinen wir damit, dass wir das Layout der Webseite so gestalten, dass es auf die Gr\u00f6\u00dfe des Ausgabeger\u00e4tes \"reagiert\". Das hei\u00dft, dass wir f\u00fcr kleine (schmale) Ausgabeger\u00e4te (z.B. Mobiltelefone) ein anderes Layout (Design) w\u00e4hlen, als f\u00fcr breitere Ausgabeger\u00e4te (z.B. Tablets) und ein noch anderes Layout f\u00fcr sehr breite Ausgabeger\u00e4te (z.B. Monitore). Responsive Web Design realisieren wir haupts\u00e4chlich mit CSS. Insofern h\u00e4tte es auch gut in den Skript-Teil f\u00fcr CSS gepasst. Da dies jedoch schon so lang war, haben wir eine eigene Unterseite f\u00fcr RWD erstellt. Damit \u00fcberhaupt auf unterschiedliche Ausgabeger\u00e4te reagiert werden kann, wurde sogenannte Media Queries in CSS eingef\u00fchrt. Diese schauen wir uns deshalb zun\u00e4chst genauer an. Zuvor noch ein wichtiger Tipp! Um unsere Webseite im responsiven Design zu gestalten, m\u00fcssen wir dem Browser mitteilen, dass er die Gr\u00f6\u00dfe des Viewports (also des Ausgabefensters) ber\u00fccksichtigen soll und die Darstellung an die Gr\u00f6\u00dfe des Ger\u00e4tes anpassen muss. Dazu f\u00fcgen wir im <head> unserer Webseite von nun an immer das viewport meta tag ein und geben damit an, dass einerseits die Ausgabe an die Ger\u00e4tegr\u00f6\u00dfe angepasst werden soll und wir mit einem Zoom-Faktor von 1 starten: <!-- ab jetzt immer im <head> angeben! --> < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" >","title":"Responsive Web Design"},{"location":"rwd/#media-queries","text":"Grob gesagt, definieren wir mithilfe von Media Queries , welche CSS-Eigenschaften f\u00fcr welche Bildschirmgr\u00f6\u00dfe gelten sollen. Das hei\u00dft, wir definieren unterschiedliche CSS-Eigenschaften f\u00fcr unterschiedliche Bildschirmgr\u00f6\u00dfen. So k\u00f6nnen wir z.B. definieren, dass f\u00fcr Bildschirmbreiten unter 480px ein einspaltiges Layout gew\u00e4hlt wird, f\u00fcr Bildschirmbreiten gr\u00f6\u00dfer als 480px , aber kleiner gleich 720px ein 2-spaltiges Layout und f\u00fcr gr\u00f6\u00dfer als 720px ein 3-spaltiges Layout. Wir betrachten Media Queries zun\u00e4chst von der syntaktischen Seite. Das ist f\u00fcr Sie vielleicht zun\u00e4chst unspannend, aber wir \u00fcberlegen dabei, was alles geht, um dann zu sagen, dass wir uns doch nur um Screens (also Minitore) und doch nur um deren Breiten k\u00fcmmern - aber es ginge noch viel mehr ;-).","title":"Media Queries"},{"location":"rwd/#syntax-von-media-queries","text":"Media Queries k\u00f6nnen zun\u00e4chst einmal true oder false sein. Um diesen Wert zu ermitteln, wird f\u00fcr einen Medientyp ( media type ) ein Ausdruck ( expression ) ausgewertet. Die allgemeine Syntax f\u00fcr eine Media Query ist wie folgt: @media [not|only] mediatype and (expressions) { CSS-Code; } Eine Media Query beginnt immer mit @media . Dann kann ein not oder ein only kommen, muss aber nicht und wir werden es auch nicht verwenden. Danach kommt der Medientyp (sollte kein Medientyp angegeben werden, ist screen , also Monitor gemeint). Medientypen k\u00f6nnen z.B. Drucker ( print ), Monitore ( screen ), Screenreader ( speech ) oder all sein. Wir werden uns (fast) ausschlie\u00dflich mit Monitoren bzw Monitorgr\u00f6\u00dfen und damit als Medientyp screen besch\u00e4ftigen. Ein angegebener Medientyp wird mithilfe von and mit einem Ausdruck verkn\u00fcpft. Ein Ausdruck besteht aus einem media feature und einem Wert. Ein media feature ist z.B. width , min-width , max-width , height , min-height , max-height , device-width , min-device-width , max-device-width , device-height , min-device-height , max-device-height , orientation , usw. Ausdr\u00fccke ( expressions ) ergeben sich dann aus media feature und Wert, z.B. orientation: landscape , orientation: portrait , min-width: 480px , max-width: 480px , resolution: 150dpi .","title":"Syntax von Media Queries"},{"location":"rwd/#beispiele-von-media-queries","text":"Wir betrachten zun\u00e4chst einige Beispiele von Media Queries: @ media screen and ( max-width : 800px ) { /* hier die CSS-Eigenschaften, die gelten sollen, falls der Monitor (Viewport) h\u00f6chstens 800px breit ist */ } @ media only screen and ( min-width : 320px ) and ( max-width : 480px ) and ( min-resolution : 150dpi ) { /* hier die CSS-Eigenschaften, die gelten sollen, falls der Monitor (Viewport) mindestens 320px und h\u00f6chstens 480px breit ist und mindestens eine Aufl\u00f6sung von 150dpi besitzt */ } Seit Media Queries Level 4 kann man auch direkt schreiben: @ media ( 320px <= width <= 480px ) and ( min-resolution : 150dpi ) { /* hier die CSS-Eigenschaften, die gelten sollen, falls der Monitor (Viewport) mindestens 320px und h\u00f6chstens 480px breit ist und mindestens eine Aufl\u00f6sung von 150dpi besitzt */ } @ media ( orientation : portrait ) { /* hier die CSS-Eigenschaften f\u00fcr hochformatige Ausgabemedien */ } @ media ( orientation : landscape ) { /* hier die CSS-Eigenschaften f\u00fcr querformatige Ausgabemedien */ }","title":"Beispiele von Media Queries"},{"location":"rwd/#erstes-beispiel","text":"Wir versuchen, zun\u00e4chst immer mobile first zu designen, d.h. wir geben zun\u00e4chst die CSS-Eigenschaften an, die f\u00fcr mobile Ger\u00e4te (schmaler Viewport) gelten und f\u00fcgen dann Media Queries hinzu, die f\u00fcr gr\u00f6\u00dfere Ausgabebreiten Anwendung finden soll. Hier ein erstes Beispiel: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < title > Media Queries </ title > < style > div { margin : auto ; width : 100 % ; height : 100 % ; text-align : center ; background-color : red ; padding-top : 20 % ; padding-bottom : 20 % ; font-size : medium ; } @ media screen and ( min-width : 800px ) { div { background-color : green ; color : yellow ; font-size : large ;; } } @ media screen and ( min-width : 1200px ) { div { background-color : blue ; color : white ; font-size : xx-large ; } } @ media screen and ( orientation : portrait ) { div { writing-mode : vertical - rl ; text-orientation : mixed ; background-color : yellow ; color : brown ; } } </ style > </ head > < body > < div > \u00c4ndern Sie die Breite des Browsers, um den Effekt zu sehen. </ div > </ body > </ html > Der HTML-Code ist kurz: wir erstellen ein <div> , welches einen Text enth\u00e4lt. Im <style> -Element definieren wir f\u00fcr dieses <div> , dass der Text zentriert sein soll (vertikal, also von links nach rechts betrachtet) und dass nach oben und unten ein Abstand zum Rand von jeweils 20% der Viewport-H\u00f6he eingehalten werden soll. Dadurch wird das <div> einigerma\u00dfen hoch (weil <div> ein Block-Element ist, geht es sowieso \u00fcber die gesamte Breite). Au\u00dferdem legen wir fest, dass der Hintergrund rot und die Schriftgr\u00f6\u00dfe medium sein soll. Unsere erste Media Query definiert f\u00fcr eine Mindestbreite des Viewports von 800px , dass der Hintergrund nun gr\u00fcn, die Schriftfarbe gelb und die Schriftgr\u00f6\u00dfe large sein soll. Die zweite Media Query definiert f\u00fcr eine Mindestbreite des Viewports von 1200px , dass der Hintergrund blau, die Schriftfarbe wei\u00df und die Schriftgr\u00f6\u00dfe xx-large sein soll. Wenn wir die Seite im Browser aufrufen, wird nun abh\u00e4ngig von der Gr\u00f6\u00dfe des Viewports eine der drei folgenden Ansichten gezeigt: \u00c4ndern Sie die Gr\u00f6\u00dfe der Browserbreite, um alle drei Ansichten zu sehen. Die dritte Media Query definiert eine eigene Ansicht f\u00fcr den Fall, dass die H\u00f6he des Viewports gr\u00f6\u00dfer ist als die Breite ( orientation: portrait ). Sie k\u00f6nnen diese Ansicht erreichen, indem Sie den Browser m\u00f6glichst schmal machen oder Sie nutzen die Developer Tools Ihres Browsers und \"drehen\" Ihr Ger\u00e4t.","title":"Erstes Beispiel"},{"location":"rwd/#zweites-beispiel","text":"Wir wollen uns noch ein zweites Beispiel anschauen. Dieses Beispiel zeigt bereits das Prinzip, auf dem das sogenannte Grid-Konzept beruht, welches in CSS-Frameworks verwendet wird. <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < title > Responsive Webdesign </ title > < style > . small { float : left ; width : 98 % ; padding : 1 % ; } @ media screen and ( min-width : 800px ) { . medium { float : left ; width : 48 % ; padding : 1 % ; } } @ media screen and ( min-width : 1200px ) { . large { float : left ; width : 23 % ; padding : 1 % ; } } </ style > </ head > < body > < p class = \"small medium large\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, </ p > < p class = \"small medium large\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, </ p > < p class = \"small medium large\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, </ p > < p class = \"small medium large\" > Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, </ p > </ body > </ html > Der HTML-Code ist wieder einfach gehalten. Wir haben vier <p> -Elemente, die einen Text enthalten und denen jeweils drei Klassen zugeordnet sind: small , medium und large . In den CSS-Definitionen (siehe <style> -Element) definieren wir zun\u00e4chst Eigenschaften f\u00fcr die Klasse small . Wir geben dort zwar float:left an, das ist aber eigentlich unsinnig, da die Breite jedes einzelnen Absatzes 100% der Breite des Viewports ist ( widt: 98% + 2x padding: 1% ). Es w\u00fcrde dort auch gen\u00fcgen, wenn wir einfach nur padding: 1% definieren w\u00fcrden. Wichtiger sind die Definitionen in den beiden Media Queries. F\u00fcr eine Viewport-Breite zwischen 800px und 1199px definieren wir die Klasse medium so, dass jedes Element, dem diese Klasse zugeordnet ist (hier alle <p> -Elemente) umflossen werden kann ( float: left ) und eine Breite von 50% des Viewports einnimmt. Das f\u00fchrt dazu, dass dann zwei Abs\u00e4tze nebeneinander passen. F\u00fcr eine Viewport-Breite gr\u00f6\u00dfer als 1199px definieren wir die Klasse large so, dass jedes Element, dem diese Klasse zugeordnet ist (hier alle <p> -Elemente) umflossen werden kann ( float: left ) und eine Breite von 25% des Viewports einnimmt. Das f\u00fchrt dazu, dass dann vier Abs\u00e4tze nebeneinander passen. F\u00fchren Sie das Beispiel aus und \u00e4ndern Sie Ihre Browserbreite, dann werden Sie den Effekt sehen: Eine Anmerkung noch: Sie stellen sich vielleicht die Frage, warum z.B. bei einer Viewportbreite von mehr als 1200px die Definition der Klasse large wirkt, nicht jedoch die Definitionen der Klassen small und medium . Wenn wir uns an die Gewichtung der Selektoren erinnern, dann sollten alle drei Definitionen gleichgewichtet sein, denn es ist jeweils eine Klasse betroffen. Es steht als jeweils in Kategorie A eine 0 ( style -Attribut), in Kategorie B eine 0 (keine id ), in Kategorei C eine 1 (eine Klasse) und in Kategorie D eine 0 (kein Element). Tats\u00e4chlich sind auch alle drei Definitionen gleichgewichtet. Hier entscheidet jetzt tats\u00e4chlich die Reihenfolge der Definitionen und da zuerst small definiert wird, dann medium und dann large , wirkt large am st\u00e4rksten, wenn alle drei Klassen definiert sind. Das hei\u00dft auch, Sie d\u00fcrfen nicht zuerst mit der Media Query f\u00fcr gro\u00dfe Viewports beginnen, dann die Media Query f\u00fcr mittlere Viewports und erst dann die small -Definition, denn dann w\u00fcrde es nicht funktionieren.","title":"Zweites Beispiel"},{"location":"rwd/#css-frameworks","text":"F\u00fcr gr\u00f6\u00dfere Webanwendungen m\u00fcssen wir keine eigenen CSS-Definitionen schreiben, sondern k\u00f6nnen auf CSS-Frameworks zur\u00fcckgreifen, die ein einheitliches und mordernes Aussehen f\u00fcr Webanwendungen zur Verf\u00fcgung stellen. In diesen Frameworks wurden viele Klassen definiert und wir k\u00f6nnen unter Verwendung eines solchen Frameworks unseren HTML-Elementen gezielt Klassen zuweisen, die dann das Aussehen dieses Elementes beeinflussen. Einige solcher Frameworks haben bereits eine hohe Verbreitung: Bootstrap SemanticUI Materialize CSS Foundation Einen \u00dcberblick \u00fcber bekannte CSS-Frameworks finden Sie z.B. hier und hier . Wir erl\u00e4utern hier die Verwendung eines solchen Frameworks anhand von Bootstrap.","title":"CSS-Frameworks"},{"location":"rwd/#bootstrap","text":"Um Bootstrap zu verwenden, haben Sie zun\u00e4chst die Wahl zwischen der Verwendung eines Content Delivery Networks (CDN) oder dem Download der externen Bootstrap-CSS-Datei. Wenn Sie ein CDN verwenden, dann werden die Quellen in dem Moment geladen, in dem Sie die Webseite aufrufen. Der <head> Ihrer HTML-Datei sieht dann so aus: < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < title > Title </ title > </ head > Den entsprechenden Link zum CDN finden Sie auf der Bootstrap-Webseite . Sie k\u00f6nnen die CSS-Dateien aber auch herunterladen. Auf der Download Bootstrap-Webseite klicken Sie unter \"Compiled CSS and JS\" auf den \"Download\"-Button. Sie erhalten eine Datei bootstrap-4.5.3-dist.zip . Entpacken Sie diese Datei. Der entstehende Ordner enth\u00e4lt 2 Unterordner css und js . Letzterer enth\u00e4lt JavaScript-Dateien des Frameworks. Diese ben\u00f6tigen wir f\u00fcr unsere Zwecke hier (noch) nicht. Verschieben Sie den css-Ordner in Ihren Projekt-Ordner (z.B. Webtech20 ). Dann k\u00f6nnen Sie diese externen Dateien mit dem <link> -Tag wie bekannt einbinden. Der <head> sieht dann so aus: < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Title </ title > </ head > Das min im Dateinamen bootstrap.min.css steht \u00fcbrigens daf\u00fcr, dass aus dieser CSS-Datei alle unn\u00f6tigen Whitespaces (Leerzeichen und Tabs) entfernt wurden, um die Datei m\u00f6glichst klein zu halten (sie ist immer noch 160 KB) gro\u00df - das muss bei jedem Abruf vom Webserver mitgeladen werden (wenn es nicht bereits im Cache ist). Mit den Whitespaces ( bootstrap.css ) ist die Datei sogar 198 KB gro\u00df. Wir erstellen mal eine erste Seite: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Bootstrap </ title > </ head > < body > < div class = \"jumbotron\" > < div class = \"container\" > < h1 class = \"display-3\" > Jetzt mit Bootstrap! </ h1 > < p > Wir verwenden jetzt Bootstrap und schauen uns mal die Anwendung ein wenig genauer an. Das Grundprinzip besteht darin, HTML-Elementen Klassen zuzuordnen. Dieser gro\u00dfe graue Kasten hier nennt sich z.B. Jumbotron. </ p > < p >< a class = \"btn btn-primary btn-lg\" href = \"https://getbootstrap.com/docs/4.5/examples/\" role = \"button\" > Bootstrap Beispiele &raquo; </ a ></ p > </ div > </ div > </ body > </ html > Wenn Sie Bootstrap richtig eingebunden haben, dann sieht die Seite so aus: In dem obigen Beispiel habe ich einen Link auf Beispiele hinterlegt, in denen Bootstrap verwendet wird. Es lohnt sich, diese Beispiel genauer unter die Lupe zu nehmen, um ein Gef\u00fchl daf\u00fcr zu bekommen, wie die Klassen wirken und was alles so mit Bootstrap geht. Man muss keine dieser Klassen kennen, sondern sucht immer in bereits existierenden Beispielen, wie man ein Problem mithilfe von Bootstrap l\u00f6sen kann. Neben der Bootstrap-Webseite selbst bietet auch w3schools eine gute \u00dcbersicht. Daraus auch noch eine weitere Erg\u00e4nzung, n\u00e4mlich ein Formular, bei dem \u00fcberpr\u00fcft wird, ob eine Eingabe \u00fcberhaupt erfolgte. Der hinzugef\u00fcgte Code ist gelb unterlegt. Erweiterung des Beispiels um ein Formular 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Bootstrap </ title > </ head > < body > < main role = \"main\" > < div class = \"jumbotron\" > < div class = \"container\" > < h1 class = \"display-3\" > Jetzt mit Bootstrap! </ h1 > < p > Wir verwenden jetzt Bootstrap und schauen uns mal die Anwendung ein wenig genauer an. Das Grundprinzip besteht darin, HTML-Elementen Klassen zuzuordnen. Dieser gro\u00dfe graue Kasten hier nennt sich z.B. < code > Jumbotron </ code > . </ p > < p >< a class = \"btn btn-primary btn-lg\" href = \"https://getbootstrap.com/docs/4.5/examples/\" role = \"button\" > Bootstrap Beispiele &raquo; </ a ></ p > </ div > </ div > < div class = \"container\" > < h2 > Formular mit Validierung, ob Eingabe erfolgte (nur mit CSS - kein JavaScript!) </ h2 > < p > Hier wird z.B. die Klasse < code > .was-validated </ code > verwendet, um zu \u00fcberpr\u00fcfen, ob in den Textfeldern und der Checkbox eine Eingabe erfolgt ist. </ p > < form class = \"was-validated\" > < div class = \"form-group\" > < label for = \"uname\" > Username: </ label > < input type = \"text\" class = \"form-control\" id = \"uname\" placeholder = \"Enter username\" name = \"uname\" required > < div class = \"valid-feedback\" > Korrekt </ div > < div class = \"invalid-feedback\" > Feld bitte ausf\u00fcllen! </ div > </ div > < div class = \"form-group\" > < label for = \"pwd\" > Password: </ label > < input type = \"password\" class = \"form-control\" id = \"pwd\" placeholder = \"Enter password\" name = \"pswd\" required > < div class = \"valid-feedback\" > Korrekt </ div > < div class = \"invalid-feedback\" > Feld bitte ausf\u00fcllen! </ div > </ div > < div class = \"form-group form-check\" > < label class = \"form-check-label\" > < input class = \"form-check-input\" type = \"checkbox\" name = \"remember\" required > Ich habe die Datenschutzerkl\u00e4rung gelesen und stimme ihr zu. < div class = \"valid-feedback\" > Korrekt </ div > < div class = \"invalid-feedback\" > Hier bitte best\u00e4tigen! </ div > </ label > </ div > < button type = \"submit\" class = \"btn btn-primary\" > Login </ button > </ form > </ div > </ main > </ body > </ html > Die Seite sieht dann so aus: Wir wollen gar keine weiteren Beispiele hier auff\u00fchren. Wie gesagt, wenn Sie etwas ben\u00f6tigen, dann gucken Sie unter Bootstrap oder w3schools nach, ob es dort passende Beispiele gibt, die Sie kopieren und anpassen k\u00f6nnen. Uns geht es haupts\u00e4chlich um das Grid-Konzept, das im folgenden vorgestellt wird.","title":"Bootstrap"},{"location":"rwd/#grid-konzept","text":"Alle CSS-Frameworks beruhen zur Gestaltung eines responiven Webdesigns auf einem sogenannten Grid-Konzept . Bei diesem Konzept wird der Viewport in Spalten (columns) aufgeteilt. Bei den meisten CSS-Frameworks, auch bei Bootstrap, in 12 Spalten . Sie k\u00f6nnen einem Blockelement nun \u00fcber die Zuweisung zu einer bestimmten Klasse mitteilen, wieviele solcher Spalten f\u00fcr dieses Element zur Verf\u00fcgung stehen.","title":"Grid-Konzept"},{"location":"rwd/#erstes-beispiel_1","text":"Wir betrachten zun\u00e4chst wieder ein einfaches Beispiel: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Grid </ title > < style > div div { padding : 10 px ; } </ style > </ head > < body > < main class = \"container pt-5 \" > < h2 > Wichtig ist, dass die Spaltenanzahl in einer Zeile 12 ergibt </ h2 > < div class = \"row\" > < div class = \"col-3\" style = \"background-color: lightgrey;\" > < h3 > col-3 </ h3 > < p > Diesem &lt; div &gt; wurde die Klasse < code > col-3 </ code > zugewiesen </ p > </ div > < div class = \"col-4\" style = \"background-color: darkgrey;\" > < h3 > col-4 </ h3 > < p > Diesem &lt; div &gt; wurde die Klasse < code > col-4 </ code > zugewiesen </ p > </ div > < div class = \"col-5\" style = \"background-color: grey;\" > < h3 > col-5 </ h3 > < p > Diesem &lt; div &gt; wurde die Klasse < code > col-5 </ code > zugewiesen </ p > </ div > </ div > </ main > </ body > </ html > Wir haben drei <div> -Elemente in einem <div> , dem die Klasse row zugewiesen ist. Die drei <div> -Elemente innerhalb von row nehmen jeweils eine gewisse Anzahl von Spalten ein. das erste <div> ist 3 Spalten breit ( col-3 ), das zweite <div> 4 Spalten ( col-4 ) und das dritte <div> ist 5 Spalten breit ( col-5 ). Dadurch, dass die drei Container in einem Container mit der Klasse row und den drei Containern jeweils mit col-* eine Anzahl von Spalten zugewiesen wurden, erscheinen die drei Container nebeneinander und haben die Breite entsprechend der ihnen zugewiesenen Spaltenanzahl. Das erste <div> nimmt also 3/12 der Viewportbreite ein, das zweite <div> 4/12 und das dritte 5/12. Wichtig ist, dass die Summe der Spalten 12 ergibt (3+4+5), damit die drei Elemente auch nebeneinander passen (es darf zumindest nicht mehr sein). Folgende Abbildung zeigt die M\u00f6glichkeiten, wenn die jeweiligen Blockelemente jeweils gleichverteilt \u00fcber die gesamten 12 Spalten w\u00fcrden. Aber wie Sie gesehen haben, k\u00f6nnen die Spaltenbreiten auch beliebig gemischt werden (z.B. col-2 , col-3 , col-1 , col-6 ) - in Summe soll immer 12 herauskommen. Falls Sie mehrere Spalten gleichverteilen wollen (also gleiche Spaltenbreiten), k\u00f6nnen Sie auch einfach die Klasse col verwenden: < div class = \"row\" > < div class = \"col\" ></ div > < div class = \"col\" ></ div > < div class = \"col\" ></ div > < div class = \"col\" ></ div > </ div > Hier nehmen die inneren <div> nun jeweils 25% des Viewports ein und sind nebeneinander.","title":"Erstes Beispiel"},{"location":"rwd/#responsive","text":"Blockelemente nebeneinander anzuordnen, geht nun also schonmal recht leicht. Die eigentlich gute Idee des Grid-Konzeptes ist jedoch, dass man genau so einfach die Anordnung der Elemente responsiv gestalten kann. Neben der Klasse col (automatisch gleichverteilen) gibt es, wie wir bereits gesehen haben, die Klassen col-1 , col-2 , ... , col-12 . Damit k\u00f6nnen wir, wie im ersten Beispiel gezeigt, Blockelementen jeweils eine bestimmte Spaltenanzahl zuordnen. Jetzt kommt noch eine weitere Bedeutung dieser Klassen hinzu: man verwendet sie f\u00fcr extra schmale Ausgabeger\u00e4te (kleiner als 576px ). Daneben gibt es noch weitere Klassen (wir listen col- trotzdem nochmal mit auf): col- (xs-Ger\u00e4te; Bildschirmbreite kleiner als 576px) col-sm- (sm-Ger\u00e4te - Bildschirmbreite gleich oder gr\u00f6\u00dfer als 576px) col-md- (md-Ger\u00e4te - Bildschirmbreite gleich oder gr\u00f6\u00dfer als 768px) col-lg- (lg-Ger\u00e4te - Bildschirmbreite gleich oder gr\u00f6\u00dfer als 992px) col-xl- (xl-Ger\u00e4te - Bildschirmbreite als 1200px) Hinter dem Strich steht bei allen Klassen eine Zahl 1 bis 12 . Die Klassen skalieren auch nach oben, d.h. wenn man nur die Klassen f\u00fcr xs-Ger\u00e4te angibt und keine weiter (so wie in unserem ersten Beispiel oben), dann gilt diese Angabe f\u00fcr alle weiteren Bildschirmbreiten. M\u00f6chte man z.B., dass die Darstellung in md-Ger\u00e4ten und lg-Ger\u00e4ten genau so sein soll, wie in sm-Ger\u00e4ten, dann l\u00e4sst man die Angabe f\u00fcr die md-Ger\u00e4te und lg-Ger\u00e4te einfach weg. Wir schauen uns das mal an: <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"./css/bootstrap.min.css\" > < title > Grid </ title > < style > div div { padding : 10 px ; margin-top : 5 px ; margin-bottom : 5 px ; } . row div : nth-child ( odd ) { background-color : lightgrey ; color : black ; } . row div : nth-child ( even ) { background-color : grey ; color : white ; } </ style > </ head > < body > < main class = \"container pt-5 \" > < h2 > Jetzt resonsiv - \u00e4ndern Sie die Monitorbreite </ h2 > < div class = \"row\" > < div class = \"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 1/2 </ li > < li > md: < code > col-md-4 </ code > 1/3 </ li > < li > lg: < code > col-lg-3 </ code > 1/4 </ li > < li > xl: < code > col-xl-2 </ code > 1/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 2/2 </ li > < li > md: < code > col-md-4 </ code > 2/3 </ li > < li > lg: < code > col-lg-3 </ code > 2/4 </ li > < li > xl: < code > col-xl-2 </ code > 2/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 1/2 </ li > < li > md: < code > col-md-4 </ code > 3/3 </ li > < li > lg: < code > col-lg-3 </ code > 3/4 </ li > < li > xl: < code > col-xl-2 </ code > 3/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 2/2 </ li > < li > md: < code > col-md-4 </ code > 1/3 </ li > < li > lg: < code > col-lg-3 </ code > 4/4 </ li > < li > xl: < code > col-xl-2 </ code > 4/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-6 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 1/2 </ li > < li > md: < code > col-md-4 </ code > 2/3 </ li > < li > lg: < code > col-lg-6 </ code > 1/2 </ li > < li > xl: < code > col-xl-2 </ code > 5/6 </ li > </ ul > </ div > < div class = \"col-12 col-sm-6 col-md-4 col-lg-6 col-xl-2\" > < ul > < li > xs: < code > col-12 </ code > 1/1 </ li > < li > sm: < code > col-sm-6 </ code > 2/2 </ li > < li > md: < code > col-md-4 </ code > 3/3 </ li > < li > lg: < code > col-lg-6 </ code > 2/2 </ li > < li > xl: < code > col-xl-2 </ code > 6/6 </ li > </ ul > </ div > </ div > </ main > </ body > </ html > Die <div> -Elemente innerhalb der row sind alle gleich. Ihnen wurden jeweils folgende Klassen zugeordnet: col-12 : bei Bildschirmbreiten unter 576px geht ein div \u00fcber alle 12 Spalten, d.h. alle <div> sind untereinander (6 Zeilen) col-sm-6 : bei Bildschirmbreiten gr\u00f6\u00dfer als 576px und kleiner als 768px geht ein div \u00fcber 6 Spalten, d.h. 2 <div> passen jeweils nebeneinander (3 Zeilen) col-md-4 : bei Bildschirmbreiten gr\u00f6\u00dfer als 768px und kleiner als 992px geht ein div \u00fcber 4 Spalten, d.h. 3 <div> passen jeweils nebeneinander (2 Zeilen) col-xl-2 : bei Bildschirmbreiten \u00fcber 1200px geht ein div \u00fcber 2 Spalten, d.h. alle 6 <div> passen nebeneinander (1 Zeile) Eine Abweichung gibt es f\u00fcr col-lg- . Den ersten 4 <div> -Elementen ist jeweils die Klasse col-lg-3 zugeordnet. Damit passen diese 4 <div> -Elemente nebeneinander. Dann bleiben noch 2 <div> -Elemente \u00fcbrig. Denen wurde die Klasse col-lg-6 zugeordnet, so dass beide Elemente jeweils 6 Spalten breit sind und den Viewport zusammen vollst\u00e4ndig ausf\u00fcllen. Die folgenden Screenshots zeigen die jeweiligen Ansichten: Zusammenfassend l\u00e4sst sich also sagen, dass Sie ein responsives Layout erhalten, wenn Sie einem Container die Klasse row zurodnen und den darin enthaltenen Containern die f\u00fcr Ihr Layout entsprechenden Klassen col-* , col-sm-* , col-md-* , col-lg-* und/oder col-xl-* . Achten Sie darauf, dass die Spaltenbreite in einer Zeile insgesamt (h\u00f6chstens) 12 ergibt und dass die Definitionen nach oben (zum breiteren) skalieren. Das bedeutet, dass wenn Sie beispielsweise keine Definitionen f\u00fcr col-md-* angeben, dann wirken die Definitionen f\u00fcr col-sm-* . Sollten auch diese nicht angegeben sein, dann col-* . Vielleicht noch 2 weitere Beispiele zur Festigung des Verst\u00e4ndnisses. Erstens bestimmt die H\u00f6he des \"h\u00f6chsten\" inneren Containes die H\u00f6he aller Container in einer Reihe: < h2 > Alle Container in einer Reihe gleich hoch </ h2 > < div class = \"row\" > < div class = \"col\" style = \"background-color: blue; color: white;\" > Lorem ipsum dolor sit amet, cibo sensibus interesset no sit. Et dolor possim volutpat qui. No malis tollit iriure eam, et vel tale zril blandit, rebum vidisse nostrum qui eu. No nostrud dolorem legendos mea, ea eum mucius oporteat platonem.Eam an case scribentur, ei clita causae cum, alia debet eu vel. </ div > < div class = \"col\" style = \"background-color: lightblue; color: black;\" > .col </ div > < div class = \"col\" style = \"background-color: dodgerblue; color: black;\" > .col </ div > </ div > Das style -Attribut k\u00f6nnen Sie jeweils ignorieren, ist nur zur besseren Sichtbarkeit. Allen inneren Containern wurde die Klasse col zugeordnet, sie werden also innerhalb der Reihe gleichverteilt. Die H\u00f6he des h\u00f6chsten Containers (der erste mit dem l\u00e4ngeren Text) bestimmt auch die H\u00f6he der anderen Container in der Reihe. Es entsteht folgende Ansicht: Zweitens k\u00f6nnen Sie die Spalten auch verschachteln. Innerhalb eines Elternelementes soll die Spaltensumme wieder 12 sein. < h2 > Verschachtelte Spalten </ h2 > < div class = \"row\" > < div class = \"col-8\" style = \"background-color: yellowgreen; color: black;\" > .col-8 < div class = \"row\" > < div class = \"col-6\" style = \"background-color: grey; color: white;\" > .col-6 </ div > < div class = \"col-6\" style = \"background-color: dimgrey; color: white;\" > .col-6 </ div > </ div > </ div > < div class = \"col-4\" style = \"background-color: green; color: black;\" > .col-4 </ div > </ div > Auch hier k\u00f6nnen Sie die style -Attribute wieder ignorieren. Es gibt eine \"\u00e4u\u00dfere\" Reihe mit 2 inneren <div> -Elementen. Das erste <div> -Element geht \u00fcber 8 Spalten und das zweite <div> -Element \u00fcber 4 Spalten. Das erste <div> -Element ist selbst ein Elternelement f\u00fcr eine weitere Reihe. Diese enth\u00e4lt wiederum zwei <div> -Elemente, beide gehen \u00fcber 12 Spalten. Der Bezug ist hier aber das Elternelement. Es entsteht folgende Ansicht:","title":"Responsive"},{"location":"tools/","text":"Werkzeuge \u00b6 Integrated Development Environment (IDE) \u00b6 F\u00fcr die Webentwicklung stehen Ihnen viele gute Entwicklungswerkzeuge zur Verf\u00fcgung. F\u00fcr welches Sie sich entscheiden, bleibt Ihnen \u00fcberlassen. Hier eine Auswahl der aus meiner Sicht besten Entwicklungswerkzeuge: IntelliJ IDEA PhpStorm WebStorm Sublime Text Atom Visual Studio Code F\u00fcr die Tools von Jetbrains ben\u00f6tigen Sie einen Account. Mit Ihrer HTW-E-Mail-Adresse bekommen Sie aber eine kostenlose Hochschullizenz und k\u00f6nnen so die Enterprise-Versionen kostenlos nutzen. Sublime Text ist Shareware und fragt regelm\u00e4\u00dfig, ob Sie spenden m\u00f6chten. Git \u00b6 Git ist ein Werkzeug zur Versionskontrolle und zum gemeinsamen Entwickeln in Teams. Nach jeder \u00dcbung committen Sie Ihre L\u00f6sung und pushen Sie auf einen zentralen, netzbasierten Dienst, wie z.B. GitHub GitLab Bibucket Gew\u00e4hren Sie mir Zugriff auf Ihr zentrales Repository. Auf GitHub finden Sie mich unter jfreiheit bzw. meiner E-Mail-Adresse joern.freiheit@htw-berlin.de . Repository initial anlegen \u00b6 Wir zeigen das Erstellen eines Repositories exemplarisch f\u00fcr GitHub . Option A: Repository zun\u00e4chst in Github anlegen, dann clonen \u00b6 Als erstes loggen Sie sich in Github ein. Dort gibt es in der linken oberen Ecke einen Button New , siehe Bild: Klicken Sie darauf und geben Sie die notwendigen Informationen ein (Beschreibung ist optional): Sie k\u00f6nnen w\u00e4hlen, ob das Repository Public (f\u00fcr alle lesbar) oder Private (nur f\u00fcr Eingeladene lesbar) sein soll. Klicken Sie auf den Button Create repository . Kopieren Sie sich nun den Remote-Pfad in Ihre Zwischenablage, hier https://github.com/jfreiheit/Webtech20.git . Wechseln Sie nun lokal in Ihr Terminal und wechseln in Ihren Workspace Ihrer IDE. Ich w\u00e4hle hier den Pfad /Users/jornfreiheit/Sites , da dieser Pfad gleichzeitig mein DocumentRoot ist, d.h., wenn ich localhost im Browser aufrufe, dann wird in diesem Pfad nach den Webseiten \"gesucht\". jornfreiheit@Jorns-MacBook-Pro Sites % pwd /Users/jornfreiheit/Sites Geben Sie dort nun ein: jornfreiheit@Jorns-MacBook-Pro Sites % git clone https://github.com/jfreiheit/Webtech20.git Cloning into 'Webtech20' ... warning: You appear to have cloned an empty repository. also git clone gefolgt von dem Remote-Pfad aus Ihrer Zwischenablage. Wenn Sie in Github weder README.md noch .gitignore ausgew\u00e4hlt hatten, dann erhalten Sie eine Warnung, dass Sie ein leeres Repository clonen. Das ist aber kein Problem. Sie k\u00f6nnen aber auch beide Datein in Ihr Repository integrieren, die .gitignore verwenden wir auf jeden Fall. In dem Ordner, in den Sie geclont haben, wird nun ein Ordner Webtech20 angelegt. Diesen Ordner k\u00f6nnen Sie nun als Workspace Ihrer IDE verwenden. Also z.B. mit IntelliJ IDEA : \u00f6ffnen Sie das Projekt ( Open or import ) Webtech20 . Es erscheint: Hier k\u00f6nnen Sie w\u00e4hlen, dass neue Dateien immer automatisch zum Git-Repoitory hinzugef\u00fcgt werden - das k\u00f6nnen Sie aber auch immer manuell machen ( git add . ). Angenommen, wir erstellen uns jetzt eine Datei index.html ( File --> New --> HTML File ) mit: index.html <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Erster Test </ title > </ head > < body > < h1 > Willkommen </ h1 > < p > Das ist die Datei index.html. Sie liegt bei mir unter /Users/jornfreiheit/Sites/Webtech20. Der Ordner /Users/jornfreiheit/Sites ist mein DocumentRoot, deshalb kann ich diese Datei im Browser unter localhost/Webtech20/index.html aufrufen. Der Ordner Webtech20 wird von Git verwaltet. </ p > </ body > </ html > Da der Ordner Sites bei mir DocumentRoot ist und sich der Webtech20 -Ordner (in dem die neue index.html ist) direkt darunter befindet, kann ich mir die Datei im Browser unter localhost/Webtech20/index.html anzeigen lassen. Das nat nichts mit Git zu tun, sondern mit dem DocumentRoot des lokalen Webservers. Wir f\u00fcgen im Terminal im Webtech20 -Ordner diese Datei dem Git-Repoitory hinzu (falls noch nicht automatisch durch unsere IDE passiert): jornfreiheit@Jorns-MacBook-Pro Webtech20 % git add index.html jornfreiheit@Jorns-MacBook-Pro Webtech20 % git status On branch master No commits yet Changes to be committed: ( use \"git rm --cached <file>...\" to unstage ) new file: .idea/.gitignore new file: .idea/Webtech20.iml new file: .idea/misc.xml new file: .idea/modules.xml new file: .idea/vcs.xml new file: index.html jornfreiheit@Jorns-MacBook-Pro Webtech20 % Au\u00dferdem sollten wir den .idea -Ordner von der Git-Verwaltung ausschlie\u00dfen. Dazu erstellen wir im Webtech20 -Ordner eine Datei .gitignore , falls diese noch nicht existiert und tragen dort .idea ein. F\u00fcgen Sie die Datei .gitignore Ihrem repository hinzu, f\u00fchren Sie Ihr erstes Commit aus und pushen Ihr Repository nach Github: git add .ignore git commit -m \"erstes commit\" git push In Github erkenn Sie, dass commit und push geklappt haben: In Zukunft f\u00fcgen Sie Ihre neu erstellten Dateien und Ordner immer mit git add . hinzu, erstellen neue Commits mit git commit -m \"Commit-Nachricht\" und pushen dann nach Github mit git push . Option B: Repository in Github anlegen und lokal anlegen, dann verbinden \u00b6 Legen Sie sich wie oben beschrieben ein Repository unter GitHub an. Kopieren Sie die Remote-URL (z.B. https://github.com/jfreiheit/Webtech20.git ). Erstellen Sie sich lokal einen Ordner (am besten in Ihrem DocumentRoot ), z.B. Webtech20 ( mkdir Webtech20 ). Wechseln Sie in diesen Ordner ( cd Webtech20 ) und f\u00fchren Sie dort git init aus. Es entsteht ein .git -Ordner. F\u00fcgen Sie diesem lokalen Repository alle Ihre bisher in Webtech20 erstellten Dateien mit git add . hinzu. Erstellen Sie ein Commit, z.B. git commit -m \"initial commit\" . Verbinden Sie Ihr lokales Repository mit dem remote-Repository auf Github durch git remote add origin https://github.com/jfreiheit/Webtech20.git (f\u00fcr https://... setzen Sie Ihre Remote-URL ein). Pushen Sie die Dateien auf Ihr remote-Repository: git push --set-upstream origin master . In Zukunft f\u00fcgen Sie Ihre neu erstellten Dateien und Ordner immer mit git add . hinzu, erstellen neue Commits mit git commit -m \"Commit-Nachricht\" und pushen dann nach Github mit git push . Webserver \u00b6 F\u00fcr das Modul ben\u00f6tigen wir einen Webserver. Wir verwenden den Apache Webserver . Auf dem Mac ist er bereits vorhanden, auf Linux-Systemen meistens auch. F\u00fcr Windows-Systeme wird die Installation von XAMPP empfohlen. Hier finden Sie Anleitungen zur Einrichtung des Webservers: Windows: https://www.ionos.de/digitalguide/server/tools/xampp-tutorial-so-erstellen-sie-ihren-lokalen-testserver/ https://werner-zenk.de/tipps/lokale_webserver_xampp.php Wichtig ist, dass Sie wissen, wo sich Ihr DocumentRoot befindet (zun\u00e4chst xampp\\htdocs - l\u00e4sst sich aber \u00e4ndern ) Mac: der Apache-Webserver ist bereits installiert achten Sie darauf, dass Sie Ihr DocumentRoot kennen (meistens Sites , eventuell \u00e4ndern ) Linux: die meisten Linux-Systeme haben bereits einen Webserver (auch hier wichtig, DocumentRoot zu kennen) wenn nicht, k\u00f6nnen Sie sich auch XAMPP installieren Um zu testen, ob Ihr Webser l\u00e4uft, erstellen Sie im DocumentRoot eine Datei index.php mit folgendem Inhalt: <?php phpinfo(); ?> und rufen in Ihrem Browser http://localhost/index.php auf. Es sollte eine \u00e4hnliche Ausgabe wie folgt erscheinen (nur Ausschnitt: Developer Tools \u00b6 Alle Browser sind mit Werkzeugen ausgestattet, die es Web-Entwicklerinnen erm\u00f6glichen, im Browser Informationen \u00fcber die Webanwendung zu erhalten. F\u00fcr einige Browser ist hier angegeben, wie Sie diese Entwicklerwerkzeuge einschalten. Chrome \u00b6 In Chrome sind die Entwicklerwerkzeuge unter dem Men\u00fc neben der URL-Eingabezeile unter Weitere Tools --> Entwicklertools verf\u00fcgbar (siehe folgendes Bild). Die eingeschalteten Entwicklertools offenbaren Ihnen umfassende Informationen \u00fcber die angezeigte Webseite. Besonders interessant ist der Reiter Console : oder auch der Reiter Elements , der Ihnen sowohl den HTML- als auch den jeweiligen CSS-Code anzeigt: Weiterf\u00fchrende Informationen erhalten Sie unter https://developers.google.com/web/tools/chrome-devtools . Firefox \u00b6 Zu den Entwicklertools von Firefox finden Sie Informationen auf https://developer.mozilla.org/de/docs/Tools Firefox Browser Developer Die Entwicklertools lassen sich in Firefox \u00f6ffnen unter Web-Entwickler --> Inspektor : Sie haben die gleichen M\u00f6glichkeiten der Ananlyse wie bei Chrome, bei Safari und anderen Browsern: Safari \u00b6 In Safari m\u00fcssen Sie zun\u00e4chst den Men\u00fceintrag Entwickler aktivieren. Eine Anleitung dazu finden Sie z.B. hier auf heise . Weitere Informationen zu den Entwicklertools erhalten Sie z.B. auf Werkzeuge im Men\u00fc \u201eEntwickler\u201c Safari Developer Help Web Development Tools Curl \u00b6 Curl ist ein Open-Source-Kommandozeilenprogramm, um Daten mittels URL zu transferieren. Curl kann auf der Kommandozeile genutzt werden, um SMTP, HTTP, FTP usw. zu verwenden. Wir werden Curl insbesondere f\u00fcr die HTTP-Anfragemethoden GET und POST verwenden. Eine ausf\u00fchrliche Beschreibung von Curl ist im Buch Everything curl - the book frei verf\u00fcgbar. Die Installation von Curl erfolgt \u00fcber die Curl Download Seite . Zum Testen, ob Curl korrekt funktioniert, k\u00f6nnen Sie im Terminal z.B. curl freiheit.f4.htw-berlin.de/curl.html eingeben. Es sollte folgende Ausgabe erscheinen: <!DOCTYPE html> <html> <head> <title>Curl-Test</title> </head> <body> <p>Hallo FIW!</p> </body> </html> Mit dem -o -Flag k\u00f6nnen Sie die Datei speichern (Sie k\u00f6nnen einen Dateinamen angeben - hier curl.html ): curl -o curl.html freiheit.f4.htw-berlin.de/curl.html Da oben die lokale Datei genau so hei\u00dft wie die remote-Datei, h\u00e4tte man auch curl -O freiheit.f4.htw-berlin.de/curl.html angeben k\u00f6nnen, also gro\u00dfes -O . Mit dem -d -Flag k\u00f6nnen Parameter \u00fcbergeben und die entsprechende Seite mit einer POST-Anfrage aufgerufen werden. Mit dem zus\u00e4tzlichen -G -Flag erfolgt die Anfrage nicht als POST sondern als GET. Mit dem -I -Flag fragen Sie den Header der Anfrage ab, z.B.: curl -I freiheit.f4.htw-berlin.de/curl.html gibt etwas aus in der Art: HTTP/1.1 200 OK Date: Thu, 04 Jun 2020 13 :59:43 GMT Server: Apache/2.4.38 ( Debian ) Last-Modified: Thu, 04 Jun 2020 13 :01:59 GMT ETag: \"78-5a741c004bdb9\" Accept-Ranges: bytes Content-Length: 120 Vary: Accept-Encoding Content-Type: text/html F\u00fcr eine vollst\u00e4ndige \u00dcbersicht aller Flags von Curl siehe Curl manpage . Postman \u00b6 Postman ist eine Anwendung, um Schnittstellen ( Application Programming Interface - API ), die das Backend bereitstellt, zu entwickeln und zu testen. Sie finden Postman unter postman.com . Wir beschr\u00e4nken uns zun\u00e4chst auf den Postman API Client . Laden Sie das Tool herunter und installieren es. Rufen Sie Postman auf und geben in das Eingabefeld https://postman-echo.com/get ein. Lassen Sie die Auswahl links daneben auf GET und klicken auf den Send -Button. Es erscheint folgendes Bild: Neben der GET -Anfrage sind folgende weitere Anfragen (siehe auch HTML \u2192 HTTP ) m\u00f6glich: POST - sendet Daten zur Verarbeitung an den Webserver PUT - l\u00e4dt existierende Daten (eine Datei) auf den Server PATCH - \u00e4ndert Daten (eine Datei), ohne - wie bei PUT - diese vollst\u00e4ndig zu ersetzen DELETE - l\u00f6scht die angegebenen Daten auf dem Server Node.js \u00b6 Node.js ist eine JavaScript-Laufzeitumgebung. Node.js reagiert auf Ereignisse und antwortet asynchron. Das bedeutet, dass die Ausf\u00fchrung einer Ereignisbearbeitung nicht zum Blockieren der Laufzeitumgebung f\u00fchrt, sondern nebenl\u00e4ufig weitere Ereignisse eintreffen k\u00f6nnen, die ebenfalls asynchron behandelt werden. Dies geschieht mithilfe des Callback-Patterns . Callbacks sind Funktionen, die anderen Funktionen als Parameter \u00fcbergeben werden (siehe JavaScript \u2192 Callback-Funktionen ). Angular \u00b6 Um Angular verwenden zu k\u00f6nnen (siehe auch Angular\u2192Getting started ), ben\u00f6tigen Sie das Angular Command Line Interface (CLI) . Zur Installation des Angular CLI geben Sie npm install -g @angular/cli ein. Den Paketmanager npm k\u00f6nnen Sie sich mit node.js installieren. Mithilfe des Angular CLI haben Sie dann die M\u00f6glichkeit, ein neues Projekt anzulegen ( ng new projektName ), eine neue Componente ( ng generate component componentenName ) usw. und das Projekt auszuf\u00fchren ( ng serve ). Installationen \u00b6 Um den Paketmanager npm zu installieren, laden sie sich node.js hier herunter und installieren Sie es. Nach erfolgreicher Installation sollte sowohl node -v funktionieren und eine Versionsnummer ausgeben (z.B. v14.15.0 ) als auch npm -v (z.B. 6.14.8 ). Au\u00dferdem ben\u00f6tigen Sie das Angular-Command-Line-Interface (CLI) , das Sie mithilfe des Befehls npm install -g @angular/cli installieren. Danach sollte ng --version funktionieren und Ihnen etwas in dieser Art ausgeben: _ _ ____ _ ___ / \\ _ __ __ _ _ _ | | __ _ _ __ / ___ | | | _ _ | / \u25b3 \\ | '_ \\ / _` | | | | |/ _` | ' __ | | | | | | | / ___ \\| | | | ( _ | | | _ | | | ( _ | | | | | ___ | | ___ | | /_/ \\_\\_ | | _ | \\_ _, | \\_ _,_ | _ | \\_ _,_ | _ | \\_ ___ | _____ | ___ | | ___/ Angular CLI: 11 .0.1 Node: 14 .15.0 OS: darwin x64 Angular: ... Ivy Workspace: Package Version ------------------------------------------------------ @angular-devkit/architect 0 .1100.1 ( cli-only ) @angular-devkit/core 11 .0.1 ( cli-only ) @angular-devkit/schematics 11 .0.1 ( cli-only ) @schematics/angular 11 .0.1 ( cli-only ) @schematics/update 0 .1100.1 ( cli-only ) rxjs 6 .6.3 typescript 4 .0.5 Jetzt k\u00f6nnen wir unser erstes Angular-Projekt erstellen. Update @angular/cli \u00b6 Manchmal gibt es vielleicht Warnungen beim Erstellen eines Projektes - etwas in der Art, wie: npm WARN @angular-devkit/build-angular@0.1100.0 requires a peer of @angular/compiler-cli@^11.0.0 || ^11.0.0-next but none is installed. You must install peer dependencies yourself. npm WARN @angular-devkit/build-angular@0.1100.0 requires a peer of typescript@~4.0.0 but none is installed. You must install peer dependencies yourself. npm WARN @ngtools/webpack@11.0.0 requires a peer of @angular/compiler-cli@^11.0.0 || ^11.0.0-next but none is installed. You must install peer dependencies yourself. npm WARN @ngtools/webpack@11.0.0 requires a peer of typescript@~4.0.0 but none is installed. You must install peer dependencies yourself. npm WARN icss-utils@5.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. npm WARN postcss-modules-extract-imports@3.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. npm WARN postcss-modules-local-by-default@4.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. npm WARN postcss-modules-scope@3.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. npm WARN postcss-modules-values@4.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. Das liegt meistens daran, dass das Angular-CLI updated werden m\u00fcsste. F\u00fcr das Update von Angular gibt es eine eigene Seite . Gehen Sie wie dort beschrieben vor. MySQL \u00b6 MySQL ist eine relationale Datenbank und geh\u00f6rt zu den am meisten verwendeten relationalen Datenbanken bei Webanwendungen. Wir h\u00e4tten uns auch f\u00fcr PostgreSQL entscheiden k\u00f6nnen. F\u00fcr einen kurzen Vergleich von MySQL und PostgreSQL siehe hier . Informationen zur Installation von MySQL finden Sie hier . Nach der Installation finden Sie z.B. auf dem Mac unter Systemeinstellungen \u2192 MySQL : Achten Sie bei der Installation von MySQL darauf, dass Sie als Authentifizierungsmethode \"Legacy Password ...\" w\u00e4hlen! Sie m\u00fcssen aber MySQL auch nicht lokal installieren, sondern k\u00f6nnen auch den Studi-Server studi.f4.htw-berlin.de verwenden. phpMyadmin \u00b6 phpMyadmin ist eine graphische Oberfl\u00e4che zur Verwaltung Ihrer MySQL -Datenbanken. Nach erfolgreicher Installation rufen Sie im Browser localhost/phpmyadmin auf und haben Zugriff auf Ihre Datenbanken bzw. k\u00f6nnen diese erstellen, \u00e4ndern und bef\u00fcllen. Weitere Hilfen \u00b6 Prozesse und Ports \u00b6 Wenn Sie herausbekommen wollen, welche Ports bereits belegt sind und durch welchen Prozess, dann geben Sie im Terminal ein: lsof -i -P | grep -i LISTEN Eventuell m\u00fcssen Sie ein sudo voranstellen. Sie erhalten eine Ausgabe in der Form (variiert nat\u00fcrlich stark): rapportd 372 jornfreiheit 4u IPv4 0x5cee55fd054bd73 0t0 TCP *:57124 (LISTEN) rapportd 372 jornfreiheit 5u IPv6 0x5cee55fab8990c3 0t0 TCP *:57124 (LISTEN) phpstorm 456 jornfreiheit 55u IPv4 0x5cee55faabf19b3 0t0 TCP localhost:6942 (LISTEN) phpstorm 456 jornfreiheit 355u IPv4 0x5cee55fb7f034f3 0t0 TCP localhost:63342 (LISTEN) Dropbox 2638 jornfreiheit 129u IPv6 0x5cee55fb262a223 0t0 TCP *:17500 (LISTEN) Dropbox 2638 jornfreiheit 130u IPv4 0x5cee55fb25ea393 0t0 TCP *:17500 (LISTEN) Dropbox 2638 jornfreiheit 185u IPv4 0x5cee55fb7f00393 0t0 TCP localhost:17600 (LISTEN) Dropbox 2638 jornfreiheit 194u IPv4 0x5cee55fb9e31753 0t0 TCP localhost:17603 (LISTEN) node 9070 jornfreiheit 21u IPv6 0x5cee55fb5913843 0t0 TCP *:8080 (LISTEN) Python 9138 jornfreiheit 5u IPv4 0x5cee55fcfdf7753 0t0 TCP localhost:8000 (LISTEN) Wenn Sie nun z.B. einen bestimmten Prozess killen wollen, z.B. den Python-Prozess, der in localhost auf Port 8000 l\u00e4uft, dann geben Sie kill -9 9138 im Terminal ein. 9138 ist die PID des entsprechenden Prozesses.","title":"Werkzeuge"},{"location":"tools/#werkzeuge","text":"","title":"Werkzeuge"},{"location":"tools/#integrated-development-environment-ide","text":"F\u00fcr die Webentwicklung stehen Ihnen viele gute Entwicklungswerkzeuge zur Verf\u00fcgung. F\u00fcr welches Sie sich entscheiden, bleibt Ihnen \u00fcberlassen. Hier eine Auswahl der aus meiner Sicht besten Entwicklungswerkzeuge: IntelliJ IDEA PhpStorm WebStorm Sublime Text Atom Visual Studio Code F\u00fcr die Tools von Jetbrains ben\u00f6tigen Sie einen Account. Mit Ihrer HTW-E-Mail-Adresse bekommen Sie aber eine kostenlose Hochschullizenz und k\u00f6nnen so die Enterprise-Versionen kostenlos nutzen. Sublime Text ist Shareware und fragt regelm\u00e4\u00dfig, ob Sie spenden m\u00f6chten.","title":"Integrated Development Environment (IDE)"},{"location":"tools/#git","text":"Git ist ein Werkzeug zur Versionskontrolle und zum gemeinsamen Entwickeln in Teams. Nach jeder \u00dcbung committen Sie Ihre L\u00f6sung und pushen Sie auf einen zentralen, netzbasierten Dienst, wie z.B. GitHub GitLab Bibucket Gew\u00e4hren Sie mir Zugriff auf Ihr zentrales Repository. Auf GitHub finden Sie mich unter jfreiheit bzw. meiner E-Mail-Adresse joern.freiheit@htw-berlin.de .","title":"Git"},{"location":"tools/#repository-initial-anlegen","text":"Wir zeigen das Erstellen eines Repositories exemplarisch f\u00fcr GitHub .","title":"Repository initial anlegen"},{"location":"tools/#option-a-repository-zunachst-in-github-anlegen-dann-clonen","text":"Als erstes loggen Sie sich in Github ein. Dort gibt es in der linken oberen Ecke einen Button New , siehe Bild: Klicken Sie darauf und geben Sie die notwendigen Informationen ein (Beschreibung ist optional): Sie k\u00f6nnen w\u00e4hlen, ob das Repository Public (f\u00fcr alle lesbar) oder Private (nur f\u00fcr Eingeladene lesbar) sein soll. Klicken Sie auf den Button Create repository . Kopieren Sie sich nun den Remote-Pfad in Ihre Zwischenablage, hier https://github.com/jfreiheit/Webtech20.git . Wechseln Sie nun lokal in Ihr Terminal und wechseln in Ihren Workspace Ihrer IDE. Ich w\u00e4hle hier den Pfad /Users/jornfreiheit/Sites , da dieser Pfad gleichzeitig mein DocumentRoot ist, d.h., wenn ich localhost im Browser aufrufe, dann wird in diesem Pfad nach den Webseiten \"gesucht\". jornfreiheit@Jorns-MacBook-Pro Sites % pwd /Users/jornfreiheit/Sites Geben Sie dort nun ein: jornfreiheit@Jorns-MacBook-Pro Sites % git clone https://github.com/jfreiheit/Webtech20.git Cloning into 'Webtech20' ... warning: You appear to have cloned an empty repository. also git clone gefolgt von dem Remote-Pfad aus Ihrer Zwischenablage. Wenn Sie in Github weder README.md noch .gitignore ausgew\u00e4hlt hatten, dann erhalten Sie eine Warnung, dass Sie ein leeres Repository clonen. Das ist aber kein Problem. Sie k\u00f6nnen aber auch beide Datein in Ihr Repository integrieren, die .gitignore verwenden wir auf jeden Fall. In dem Ordner, in den Sie geclont haben, wird nun ein Ordner Webtech20 angelegt. Diesen Ordner k\u00f6nnen Sie nun als Workspace Ihrer IDE verwenden. Also z.B. mit IntelliJ IDEA : \u00f6ffnen Sie das Projekt ( Open or import ) Webtech20 . Es erscheint: Hier k\u00f6nnen Sie w\u00e4hlen, dass neue Dateien immer automatisch zum Git-Repoitory hinzugef\u00fcgt werden - das k\u00f6nnen Sie aber auch immer manuell machen ( git add . ). Angenommen, wir erstellen uns jetzt eine Datei index.html ( File --> New --> HTML File ) mit: index.html <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Erster Test </ title > </ head > < body > < h1 > Willkommen </ h1 > < p > Das ist die Datei index.html. Sie liegt bei mir unter /Users/jornfreiheit/Sites/Webtech20. Der Ordner /Users/jornfreiheit/Sites ist mein DocumentRoot, deshalb kann ich diese Datei im Browser unter localhost/Webtech20/index.html aufrufen. Der Ordner Webtech20 wird von Git verwaltet. </ p > </ body > </ html > Da der Ordner Sites bei mir DocumentRoot ist und sich der Webtech20 -Ordner (in dem die neue index.html ist) direkt darunter befindet, kann ich mir die Datei im Browser unter localhost/Webtech20/index.html anzeigen lassen. Das nat nichts mit Git zu tun, sondern mit dem DocumentRoot des lokalen Webservers. Wir f\u00fcgen im Terminal im Webtech20 -Ordner diese Datei dem Git-Repoitory hinzu (falls noch nicht automatisch durch unsere IDE passiert): jornfreiheit@Jorns-MacBook-Pro Webtech20 % git add index.html jornfreiheit@Jorns-MacBook-Pro Webtech20 % git status On branch master No commits yet Changes to be committed: ( use \"git rm --cached <file>...\" to unstage ) new file: .idea/.gitignore new file: .idea/Webtech20.iml new file: .idea/misc.xml new file: .idea/modules.xml new file: .idea/vcs.xml new file: index.html jornfreiheit@Jorns-MacBook-Pro Webtech20 % Au\u00dferdem sollten wir den .idea -Ordner von der Git-Verwaltung ausschlie\u00dfen. Dazu erstellen wir im Webtech20 -Ordner eine Datei .gitignore , falls diese noch nicht existiert und tragen dort .idea ein. F\u00fcgen Sie die Datei .gitignore Ihrem repository hinzu, f\u00fchren Sie Ihr erstes Commit aus und pushen Ihr Repository nach Github: git add .ignore git commit -m \"erstes commit\" git push In Github erkenn Sie, dass commit und push geklappt haben: In Zukunft f\u00fcgen Sie Ihre neu erstellten Dateien und Ordner immer mit git add . hinzu, erstellen neue Commits mit git commit -m \"Commit-Nachricht\" und pushen dann nach Github mit git push .","title":"Option A: Repository zun\u00e4chst in Github anlegen, dann clonen"},{"location":"tools/#option-b-repository-in-github-anlegen-und-lokal-anlegen-dann-verbinden","text":"Legen Sie sich wie oben beschrieben ein Repository unter GitHub an. Kopieren Sie die Remote-URL (z.B. https://github.com/jfreiheit/Webtech20.git ). Erstellen Sie sich lokal einen Ordner (am besten in Ihrem DocumentRoot ), z.B. Webtech20 ( mkdir Webtech20 ). Wechseln Sie in diesen Ordner ( cd Webtech20 ) und f\u00fchren Sie dort git init aus. Es entsteht ein .git -Ordner. F\u00fcgen Sie diesem lokalen Repository alle Ihre bisher in Webtech20 erstellten Dateien mit git add . hinzu. Erstellen Sie ein Commit, z.B. git commit -m \"initial commit\" . Verbinden Sie Ihr lokales Repository mit dem remote-Repository auf Github durch git remote add origin https://github.com/jfreiheit/Webtech20.git (f\u00fcr https://... setzen Sie Ihre Remote-URL ein). Pushen Sie die Dateien auf Ihr remote-Repository: git push --set-upstream origin master . In Zukunft f\u00fcgen Sie Ihre neu erstellten Dateien und Ordner immer mit git add . hinzu, erstellen neue Commits mit git commit -m \"Commit-Nachricht\" und pushen dann nach Github mit git push .","title":"Option B: Repository in Github anlegen und lokal anlegen, dann verbinden"},{"location":"tools/#webserver","text":"F\u00fcr das Modul ben\u00f6tigen wir einen Webserver. Wir verwenden den Apache Webserver . Auf dem Mac ist er bereits vorhanden, auf Linux-Systemen meistens auch. F\u00fcr Windows-Systeme wird die Installation von XAMPP empfohlen. Hier finden Sie Anleitungen zur Einrichtung des Webservers: Windows: https://www.ionos.de/digitalguide/server/tools/xampp-tutorial-so-erstellen-sie-ihren-lokalen-testserver/ https://werner-zenk.de/tipps/lokale_webserver_xampp.php Wichtig ist, dass Sie wissen, wo sich Ihr DocumentRoot befindet (zun\u00e4chst xampp\\htdocs - l\u00e4sst sich aber \u00e4ndern ) Mac: der Apache-Webserver ist bereits installiert achten Sie darauf, dass Sie Ihr DocumentRoot kennen (meistens Sites , eventuell \u00e4ndern ) Linux: die meisten Linux-Systeme haben bereits einen Webserver (auch hier wichtig, DocumentRoot zu kennen) wenn nicht, k\u00f6nnen Sie sich auch XAMPP installieren Um zu testen, ob Ihr Webser l\u00e4uft, erstellen Sie im DocumentRoot eine Datei index.php mit folgendem Inhalt: <?php phpinfo(); ?> und rufen in Ihrem Browser http://localhost/index.php auf. Es sollte eine \u00e4hnliche Ausgabe wie folgt erscheinen (nur Ausschnitt:","title":"Webserver"},{"location":"tools/#developer-tools","text":"Alle Browser sind mit Werkzeugen ausgestattet, die es Web-Entwicklerinnen erm\u00f6glichen, im Browser Informationen \u00fcber die Webanwendung zu erhalten. F\u00fcr einige Browser ist hier angegeben, wie Sie diese Entwicklerwerkzeuge einschalten.","title":"Developer Tools"},{"location":"tools/#chrome","text":"In Chrome sind die Entwicklerwerkzeuge unter dem Men\u00fc neben der URL-Eingabezeile unter Weitere Tools --> Entwicklertools verf\u00fcgbar (siehe folgendes Bild). Die eingeschalteten Entwicklertools offenbaren Ihnen umfassende Informationen \u00fcber die angezeigte Webseite. Besonders interessant ist der Reiter Console : oder auch der Reiter Elements , der Ihnen sowohl den HTML- als auch den jeweiligen CSS-Code anzeigt: Weiterf\u00fchrende Informationen erhalten Sie unter https://developers.google.com/web/tools/chrome-devtools .","title":"Chrome"},{"location":"tools/#firefox","text":"Zu den Entwicklertools von Firefox finden Sie Informationen auf https://developer.mozilla.org/de/docs/Tools Firefox Browser Developer Die Entwicklertools lassen sich in Firefox \u00f6ffnen unter Web-Entwickler --> Inspektor : Sie haben die gleichen M\u00f6glichkeiten der Ananlyse wie bei Chrome, bei Safari und anderen Browsern:","title":"Firefox"},{"location":"tools/#safari","text":"In Safari m\u00fcssen Sie zun\u00e4chst den Men\u00fceintrag Entwickler aktivieren. Eine Anleitung dazu finden Sie z.B. hier auf heise . Weitere Informationen zu den Entwicklertools erhalten Sie z.B. auf Werkzeuge im Men\u00fc \u201eEntwickler\u201c Safari Developer Help Web Development Tools","title":"Safari"},{"location":"tools/#curl","text":"Curl ist ein Open-Source-Kommandozeilenprogramm, um Daten mittels URL zu transferieren. Curl kann auf der Kommandozeile genutzt werden, um SMTP, HTTP, FTP usw. zu verwenden. Wir werden Curl insbesondere f\u00fcr die HTTP-Anfragemethoden GET und POST verwenden. Eine ausf\u00fchrliche Beschreibung von Curl ist im Buch Everything curl - the book frei verf\u00fcgbar. Die Installation von Curl erfolgt \u00fcber die Curl Download Seite . Zum Testen, ob Curl korrekt funktioniert, k\u00f6nnen Sie im Terminal z.B. curl freiheit.f4.htw-berlin.de/curl.html eingeben. Es sollte folgende Ausgabe erscheinen: <!DOCTYPE html> <html> <head> <title>Curl-Test</title> </head> <body> <p>Hallo FIW!</p> </body> </html> Mit dem -o -Flag k\u00f6nnen Sie die Datei speichern (Sie k\u00f6nnen einen Dateinamen angeben - hier curl.html ): curl -o curl.html freiheit.f4.htw-berlin.de/curl.html Da oben die lokale Datei genau so hei\u00dft wie die remote-Datei, h\u00e4tte man auch curl -O freiheit.f4.htw-berlin.de/curl.html angeben k\u00f6nnen, also gro\u00dfes -O . Mit dem -d -Flag k\u00f6nnen Parameter \u00fcbergeben und die entsprechende Seite mit einer POST-Anfrage aufgerufen werden. Mit dem zus\u00e4tzlichen -G -Flag erfolgt die Anfrage nicht als POST sondern als GET. Mit dem -I -Flag fragen Sie den Header der Anfrage ab, z.B.: curl -I freiheit.f4.htw-berlin.de/curl.html gibt etwas aus in der Art: HTTP/1.1 200 OK Date: Thu, 04 Jun 2020 13 :59:43 GMT Server: Apache/2.4.38 ( Debian ) Last-Modified: Thu, 04 Jun 2020 13 :01:59 GMT ETag: \"78-5a741c004bdb9\" Accept-Ranges: bytes Content-Length: 120 Vary: Accept-Encoding Content-Type: text/html F\u00fcr eine vollst\u00e4ndige \u00dcbersicht aller Flags von Curl siehe Curl manpage .","title":"Curl"},{"location":"tools/#postman","text":"Postman ist eine Anwendung, um Schnittstellen ( Application Programming Interface - API ), die das Backend bereitstellt, zu entwickeln und zu testen. Sie finden Postman unter postman.com . Wir beschr\u00e4nken uns zun\u00e4chst auf den Postman API Client . Laden Sie das Tool herunter und installieren es. Rufen Sie Postman auf und geben in das Eingabefeld https://postman-echo.com/get ein. Lassen Sie die Auswahl links daneben auf GET und klicken auf den Send -Button. Es erscheint folgendes Bild: Neben der GET -Anfrage sind folgende weitere Anfragen (siehe auch HTML \u2192 HTTP ) m\u00f6glich: POST - sendet Daten zur Verarbeitung an den Webserver PUT - l\u00e4dt existierende Daten (eine Datei) auf den Server PATCH - \u00e4ndert Daten (eine Datei), ohne - wie bei PUT - diese vollst\u00e4ndig zu ersetzen DELETE - l\u00f6scht die angegebenen Daten auf dem Server","title":"Postman"},{"location":"tools/#nodejs","text":"Node.js ist eine JavaScript-Laufzeitumgebung. Node.js reagiert auf Ereignisse und antwortet asynchron. Das bedeutet, dass die Ausf\u00fchrung einer Ereignisbearbeitung nicht zum Blockieren der Laufzeitumgebung f\u00fchrt, sondern nebenl\u00e4ufig weitere Ereignisse eintreffen k\u00f6nnen, die ebenfalls asynchron behandelt werden. Dies geschieht mithilfe des Callback-Patterns . Callbacks sind Funktionen, die anderen Funktionen als Parameter \u00fcbergeben werden (siehe JavaScript \u2192 Callback-Funktionen ).","title":"Node.js"},{"location":"tools/#angular","text":"Um Angular verwenden zu k\u00f6nnen (siehe auch Angular\u2192Getting started ), ben\u00f6tigen Sie das Angular Command Line Interface (CLI) . Zur Installation des Angular CLI geben Sie npm install -g @angular/cli ein. Den Paketmanager npm k\u00f6nnen Sie sich mit node.js installieren. Mithilfe des Angular CLI haben Sie dann die M\u00f6glichkeit, ein neues Projekt anzulegen ( ng new projektName ), eine neue Componente ( ng generate component componentenName ) usw. und das Projekt auszuf\u00fchren ( ng serve ).","title":"Angular"},{"location":"tools/#installationen","text":"Um den Paketmanager npm zu installieren, laden sie sich node.js hier herunter und installieren Sie es. Nach erfolgreicher Installation sollte sowohl node -v funktionieren und eine Versionsnummer ausgeben (z.B. v14.15.0 ) als auch npm -v (z.B. 6.14.8 ). Au\u00dferdem ben\u00f6tigen Sie das Angular-Command-Line-Interface (CLI) , das Sie mithilfe des Befehls npm install -g @angular/cli installieren. Danach sollte ng --version funktionieren und Ihnen etwas in dieser Art ausgeben: _ _ ____ _ ___ / \\ _ __ __ _ _ _ | | __ _ _ __ / ___ | | | _ _ | / \u25b3 \\ | '_ \\ / _` | | | | |/ _` | ' __ | | | | | | | / ___ \\| | | | ( _ | | | _ | | | ( _ | | | | | ___ | | ___ | | /_/ \\_\\_ | | _ | \\_ _, | \\_ _,_ | _ | \\_ _,_ | _ | \\_ ___ | _____ | ___ | | ___/ Angular CLI: 11 .0.1 Node: 14 .15.0 OS: darwin x64 Angular: ... Ivy Workspace: Package Version ------------------------------------------------------ @angular-devkit/architect 0 .1100.1 ( cli-only ) @angular-devkit/core 11 .0.1 ( cli-only ) @angular-devkit/schematics 11 .0.1 ( cli-only ) @schematics/angular 11 .0.1 ( cli-only ) @schematics/update 0 .1100.1 ( cli-only ) rxjs 6 .6.3 typescript 4 .0.5 Jetzt k\u00f6nnen wir unser erstes Angular-Projekt erstellen.","title":"Installationen"},{"location":"tools/#update-angularcli","text":"Manchmal gibt es vielleicht Warnungen beim Erstellen eines Projektes - etwas in der Art, wie: npm WARN @angular-devkit/build-angular@0.1100.0 requires a peer of @angular/compiler-cli@^11.0.0 || ^11.0.0-next but none is installed. You must install peer dependencies yourself. npm WARN @angular-devkit/build-angular@0.1100.0 requires a peer of typescript@~4.0.0 but none is installed. You must install peer dependencies yourself. npm WARN @ngtools/webpack@11.0.0 requires a peer of @angular/compiler-cli@^11.0.0 || ^11.0.0-next but none is installed. You must install peer dependencies yourself. npm WARN @ngtools/webpack@11.0.0 requires a peer of typescript@~4.0.0 but none is installed. You must install peer dependencies yourself. npm WARN icss-utils@5.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. npm WARN postcss-modules-extract-imports@3.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. npm WARN postcss-modules-local-by-default@4.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. npm WARN postcss-modules-scope@3.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. npm WARN postcss-modules-values@4.0.0 requires a peer of postcss@^8.1.0 but none is installed. You must install peer dependencies yourself. Das liegt meistens daran, dass das Angular-CLI updated werden m\u00fcsste. F\u00fcr das Update von Angular gibt es eine eigene Seite . Gehen Sie wie dort beschrieben vor.","title":"Update @angular/cli"},{"location":"tools/#mysql","text":"MySQL ist eine relationale Datenbank und geh\u00f6rt zu den am meisten verwendeten relationalen Datenbanken bei Webanwendungen. Wir h\u00e4tten uns auch f\u00fcr PostgreSQL entscheiden k\u00f6nnen. F\u00fcr einen kurzen Vergleich von MySQL und PostgreSQL siehe hier . Informationen zur Installation von MySQL finden Sie hier . Nach der Installation finden Sie z.B. auf dem Mac unter Systemeinstellungen \u2192 MySQL : Achten Sie bei der Installation von MySQL darauf, dass Sie als Authentifizierungsmethode \"Legacy Password ...\" w\u00e4hlen! Sie m\u00fcssen aber MySQL auch nicht lokal installieren, sondern k\u00f6nnen auch den Studi-Server studi.f4.htw-berlin.de verwenden.","title":"MySQL"},{"location":"tools/#phpmyadmin","text":"phpMyadmin ist eine graphische Oberfl\u00e4che zur Verwaltung Ihrer MySQL -Datenbanken. Nach erfolgreicher Installation rufen Sie im Browser localhost/phpmyadmin auf und haben Zugriff auf Ihre Datenbanken bzw. k\u00f6nnen diese erstellen, \u00e4ndern und bef\u00fcllen.","title":"phpMyadmin"},{"location":"tools/#weitere-hilfen","text":"","title":"Weitere Hilfen"},{"location":"tools/#prozesse-und-ports","text":"Wenn Sie herausbekommen wollen, welche Ports bereits belegt sind und durch welchen Prozess, dann geben Sie im Terminal ein: lsof -i -P | grep -i LISTEN Eventuell m\u00fcssen Sie ein sudo voranstellen. Sie erhalten eine Ausgabe in der Form (variiert nat\u00fcrlich stark): rapportd 372 jornfreiheit 4u IPv4 0x5cee55fd054bd73 0t0 TCP *:57124 (LISTEN) rapportd 372 jornfreiheit 5u IPv6 0x5cee55fab8990c3 0t0 TCP *:57124 (LISTEN) phpstorm 456 jornfreiheit 55u IPv4 0x5cee55faabf19b3 0t0 TCP localhost:6942 (LISTEN) phpstorm 456 jornfreiheit 355u IPv4 0x5cee55fb7f034f3 0t0 TCP localhost:63342 (LISTEN) Dropbox 2638 jornfreiheit 129u IPv6 0x5cee55fb262a223 0t0 TCP *:17500 (LISTEN) Dropbox 2638 jornfreiheit 130u IPv4 0x5cee55fb25ea393 0t0 TCP *:17500 (LISTEN) Dropbox 2638 jornfreiheit 185u IPv4 0x5cee55fb7f00393 0t0 TCP localhost:17600 (LISTEN) Dropbox 2638 jornfreiheit 194u IPv4 0x5cee55fb9e31753 0t0 TCP localhost:17603 (LISTEN) node 9070 jornfreiheit 21u IPv6 0x5cee55fb5913843 0t0 TCP *:8080 (LISTEN) Python 9138 jornfreiheit 5u IPv4 0x5cee55fcfdf7753 0t0 TCP localhost:8000 (LISTEN) Wenn Sie nun z.B. einen bestimmten Prozess killen wollen, z.B. den Python-Prozess, der in localhost auf Port 8000 l\u00e4uft, dann geben Sie kill -9 9138 im Terminal ein. 9138 ist die PID des entsprechenden Prozesses.","title":"Prozesse und Ports"},{"location":"uebungen/","text":"\u00dcbungen \u00b6 \u00dcbungsaufgabe 0 w\u00e4hlen Sie eine IDE aus und installieren Sie diese richten Sie sich ein Git-Repository ein (z.B. WebTech20 ) und pushen Sie es auf einen zentralen Dienst ( siehe ) laden Sie mich zu Ihrem Git-Dienst ein ( siehe ) erstellen Sie in Ihrem Repostory eine Datei index.php mit folgendem Inhalt: <?php phpinfo(); ?> richten Sie Ihren Webserver so ein, dass WebTech20 Ihr DocumentRoot ist ( siehe ) commiten und pushen Sie Ihr Repository \u00dcbungsaufgabe 1 (HTML) Erstellen Sie in einem Uebung1 -Ordner eine Datei uebung1.html . Das body -Element soll ein header -Element, ein nav -Element, ein section -Element und ein footer -Element enthalten. Unter dieser \u00dcbungsaufgabe (siehe mockupdata ) ist der HTML-Code einer Tabelle mit allen Teilnehmerinnen einer Veranstaltung. Kopieren Sie den Inhalt der Datei so in Ihren HTML-Code, dass folgende Seite erscheint: Es sollen 4 Unterseiten erstellt werden. Bei Klick auf diese Seiten soll die Tabelle jeweils nur die Teilnehmerinnen enthalten, deren Nachname mit dem entsprechenden Anfangsbuchstaben beginnt (also in ag.html nur alle Nachnamen, die mit A bis G beginnen). Die Seiten ag.html , hl.html , mr.html und sz.html sollen im Ordner NN abgelegt werden, der Unterordner von Uebung1 ist. Achten Sie darauf, dass man von jeder Unterseite auf jede andere Unterseite und auch auf die Hauptseite ( uebung1.html ) wechseln k\u00f6nnen muss. Das einzubindende Logo des Studiengangs liegt hier . Es soll in einen images -Ordner gespeichert werden, der in der Ordner-Hierarchie neben dem Uebung1 -Ordner liegt. Um die Gr\u00f6\u00dfe des Bildes festzulegen, k\u00f6nnen Sie mit Hilfe des style -Attributes die H\u00f6he und die Breite bestimmen: style=\"width:53px; height=48px;\" N\u00e4chste Woche wird Uebung1 um CSS erweitert. mockupdata < table > < thead > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > </ tr > </ thead > < tbody > < tr > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > </ tr > < tr > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > </ tr > < tr > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > </ tr > < tr > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > </ tr > </ tbody > </ table > Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 1 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Aufgabe 1 </ title > </ head > < body > < header > < h1 > Teilnehmerinnen WebTech </ h1 > < img src = \"../images/fiw.jpg\" alt = \"FIW Logo\" style = \"width:53px; height:48px;\" /> </ header > < nav > < a href = \"#\" > ALLE </ a > < a href = \"./NN/ag.html\" > A-G </ a > < a href = \"./NN/hl.html\" > H-L </ a > < a href = \"./NN/mr.html\" > M-R </ a > < a href = \"./NN/sz.html\" > S-Z </ a > < a href = \"../index.html\" > Startseite </ a > </ nav > < section > < table > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > </ tr > < tr > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > </ tr > < tr > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > </ tr > < tr > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > </ tr > < tr > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > </ tr > </ table > </ section > < footer > \u00dcbung 1 - J\u00f6rn Freiheit </ footer > </ body > </ html > \u00dcbungsaufgabe 2 (CSS) Erstellen Sie (falls noch nicht geschehen) eine index.html -Datei in Ihrem Repository-Ordner (also z.B. DocumentRoot/Webtech20 ) derart, dass diese direkte Links auf Ihre L\u00f6sungen der \u00dcbungen enthalten (z.B. in einer Tabelle oder einer Liste). Kopieren Sie den Ordner Uebung1 in den Ordner Uebung2 (also inkl. Ordner NN ). \u00c4ndern Sie darin die Datei uebung1.html zu uebung2.html (umbenennen). \u00c4ndern Sie entsprechend alle Links innerhalb der Datei, damit Sie z.B. auf den Ordner Uebung2/NN zugreifen und nicht mehr auf Uebung1/NN . Legen Sie sich im Uebung2 -Ordner einen Ordner styles an. Erstellen Sie in dem styles -Ordner eine Datei mystyles.css . F\u00fcgen Sie im <head> -Bereich der uebung2.html eine logische Verkn\u00fcpfung zur mystyles.css -Datei ein ( <link href=\"./styles/mystyles.css\" rel=\"stylesheet\"> ). In mystyles.css definieren Sie (versuchen Sie mind. 6 der genannten 8 Punkte umzusetzen): Verdana als Schriftart f\u00fcr das ganze Dokument der <header> soll das HTW-Grau als Hintergrundfarbe, HTW-Orange als Schriftfarbe und der Text zentriert sein (siehe HTW Corporate Design ). die Tabelle soll ungef\u00e4hr wie dargestellt aussehen: d.h. mit Rahmen, mit einem Schatten, die Spalten\u00fcberschriften in wei\u00df, mit HTW-gr\u00fcnem Hintergrund. Das <nav> -Feld hat einen Abstand nach oben und nach unten von jeweils 50px . <a> -Elemente in einem <nav> -Element haben einen grauen Rand, deren Ecken abgerundet sind. Die Hintergrundfarbe ist HTW-blau. Schriftart ist wei\u00df und bold. <a> -Elemente in einem <nav> -Element sind nicht unterstrichen! F\u00e4hrt man mit der Maus \u00fcber ein <a> -Element in einem <nav> -Element \u00e4ndert sich die Hintergrundfarbe in HTW-grau und die Schriftfarbe in HTW-orange. Die Tabelle hat eine Breite von 80% des <section> -Elements. Der <footer> ist in HTW-Orange, die Schrift ist schwarz, der Text ist mittig und die Schrift ist kleiner. Die H\u00f6he des footers entsteht dadurch, dass die Schrift einen Abstand nach oben und nach unten von jeweils 20px hat. Am Ende soll es ungef\u00e4hr so aussehen: Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 2 uebung2.html <!DOCTYPE html> < html > < head > < meta charset = \"UTF-8\" > < link href = \"./styles/mystyles.css\" rel = \"stylesheet\" /> < title > Aufgabe 2 </ title > </ head > < body > < header > < h1 > Teilnehmer_innen WebTech </ h1 > < img src = \"../images/fiw.jpg\" style = \"width:53px; height=48px\" /> </ header > < nav > < a href = \"\" > Alle </ a > < a href = \"./NN/ag.html\" > A-G </ a > < a href = \"./NN/hl.html\" > H-L </ a > < a href = \"./NN/mr.html\" > M-R </ a > < a href = \"./NN/sz.html\" > A-G </ a > </ nav > < section > < h1 > Alle Teilnehmer_innen </ h1 > < table > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > </ tr > < tr > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > </ tr > < tr > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > </ tr > < tr > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > </ tr > < tr > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > </ tr > </ table > </ section > < footer > \u00dcbung 2 - J\u00f6rn Freiheit </ footer > </ body > </ html > mystyles.css @ charset \"ISO-8859-1\" ; body { font-family : Verdana , sans-serif ; font-size : 0.9 em ; } header { background-color : #AFAFAF ; color : #FF5F00 ; text-align : center ; } table { border-collapse : collapse ; width : 80 % ; box-shadow : 5 px 5 px 5 px darkgray ; } table , th , td { border : 1 px solid black ; padding : 5 px ; } th { background-color : #76B900 ; color : white ; } h1 { font-variant : small-caps ; } footer { background-color : #FF5F00 ; color : black ; text-align : center ; padding : 5 px ; margin-top : 10 px ; margin-bottom : 10 px ; } nav { margin-top : 30 px ; margin-bottom : 10 px ; } nav a { text-decoration : none ; background-color : #0082D1 ; color : white ; padding : 10 px ; border : 1 px solid #0082D1 ; border-radius : 5 px ; } nav a : hover { background-color : #AFAFAF ; color : #FF5F00 ; } \u00dcbungsaufgabe 3 (RWD + Bootstrap) Kopieren Sie uebung2.html aus \u00dcbung 2 in einen neuen Uebung3 -Ordner und benennen Sie die Datei in uebung3.html um (der NN -Ordner muss nicht mehr mitkopiert werden). Achten Sie aber darauf, dass das FIW-Logo noch angezeigt wird Binden Sie in Ihre uebung3.html Bootstrap ein (entweder per CDN oder als lokalen Zugriff \u2013 siehe Bootstrap ) Header : der <header> enth\u00e4lt das FIW-Logo und die \u00dcberschrift <h1>Teilnehmerinnen WebTech</h1> weisen Sie dem <header> die Bootstrap-Klasse jumbotron zu definieren Sie eine CSS-Eigenschaft so, dass eine h1 -\u00dcberschrift in einem header ein Inline-Element ist definieren Sie eine padding-left -Eigenschaft f\u00fcr eine solche \u00dcberschrift so, dass die \u00dcberschrift ungef\u00e4hr mittig ist (relative Gr\u00f6\u00dfenangabe) der header soll ungef\u00e4hr so aussehen (Navigation und Anfang des Hauptteils sind auch schon zu sehen): Navigation : interne Links (Links innerhalb der Seite) funktionieren wie folgt: Sie weisen einem Element eine id zu, z.B. der Tabellenzeile, die den ersten Nachnamen enth\u00e4lt, der mit \"H\" beginnt: < tr id = \"H\" > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > Jetzt k\u00f6nnen Sie in einem internen Link mithilfe des Doppelkreuzes ( # ) und des Bezeichners f\u00fcr die id ( H ) darauf verweisen, z.B. < a class = \"nav-link\" href = \"#H\" > H-L </ a > Vergeben Sie entsprechend IDs f\u00fcr die entsprechenden Tabellenzeilen (A, H, M, S) und passen Sie Ihre Hyperlinks im Navigationsmen\u00fc entsprechend an Weisen Sie Ihrem <nav> -Element einen lightgrey-Hintergrund zu Erstellen Sie f\u00fcr die einzelnen Links eine <ul> , deren <li> jeweils ein <a> -Element mit den Referenzen auf die oben beschriebenen IDs enthalten Informieren Sie sich unter Navs (oder wo Sie m\u00f6chten) \u00fcber \u201eNavs\u201c und erstellen Sie Ihr Navigationsmen\u00fc so, wie oben in der Abbildung (siehe Header ) gezeigt \u00c4ndern Sie aber die Farbe der Links so, dass sie im HTW-Orange ( #FF5F00 ) erscheinen und wenn man mit der Maus dar\u00fcber f\u00e4hrt im HTW-Blau ( #0082D1 ) (Definieren Sie sich gerne Custom Properties und wenden Sie diese an) Hauptteil : der Hauptteil (ein Container) soll aus drei Containern bestehen: einer, der nur das Wort (\u00dcberschrift) \"links\" enth\u00e4lt, einer, der die Tabelle enth\u00e4lt und ein dritter, der nur das Wort (\u00dcberschrift) \"rechts\" enth\u00e4lt Weisen Sie diesem Hauptteil die Klasse row zu und gestalten gestalten Sie die drei inneren Container (links, Tabelle, rechts) so, dass sie ab einer Viewportbreite >= 992px ( lg ) nebeneinander sind, wobei die Tabelle 4x so breit ist wie die jeweiligen Container an der Seite unterhalb der Viewportbreite von 992px sollen die drei Teile untereinander sein Abbildung f\u00fcr Breite unter 992px : Abbildung f\u00fcr Breite oberhalb 992px : Mithilfe eigener Media-Queries sollen Sie daf\u00fcr sorgen, dass die beiden Container links und rechts einen orangenen Hintergrund und eine H\u00f6he von 100px haben, wenn der Viewport kleiner als 992px ist und einen hellgrauen ( lightgrey ) Hintergrund und eine automatische H\u00f6he ( height: auto; ), wenn der Viewport gr\u00f6\u00dfer ist Tabelle: Erkundigen Sie sich unter Tables und gestalten Sie die Tabelle so, dass sie ungef\u00e4hr so aussieht: Sie m\u00fcssen mit einer eigenen CSS-Definition daf\u00fcr sorgen, dass die Zeile, in der Sie mit der Maus sind, nicht mehr dunkelgrau, sondern in HTW-Gr\u00fcn erscheint Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < style > . table tbody tr : hover { background-color : #76B900 ; } nav { background-color : lightgrey ; } header h1 { /* display: inline; padding-left: 20%; */ text-align : center ; } # links , # rechts { background-color : #FF5F00 ; height : 100 px ; } main { margin : 1 % ; } ul li a { color : #FF5F00 ; } ul li a : hover { color : #0082D1 ; } footer { background-color : grey ; color : white ; text-align : center ; padding : 10 px ; } @ media screen and ( min-width : 992px ) { # links , # rechts { background-color : lightgrey ; height : auto ; } } </ style > < title > Uebung 3 </ title > </ head > < body > < div class = \"container-fluid\" > < header class = \"jumbotron\" > < img src = \"../images/fiw.jpg\" alt = \"FIW Logo\" style = \"width:53px; height:48px;\" /> < h1 > Teilnehmerinnen WebTech </ h1 > </ header > < nav > < ul class = \"nav nav-pills nav-fills\" > < li class = \"nav-item active\" > < a class = \"nav-link\" href = \"#\" > ALLE </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#A\" > A-G </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#H\" > H-L </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#M\" > M-R </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#S\" > S-Z </ a > </ li > </ ul > </ nav > < main class = \"row mx-1\" > < aside id = \"links\" class = \"col-12 col-lg-2\" >< h5 class = \"pt-3\" > links </ h5 ></ aside > < section class = \"col-12 col-lg-8\" > < table class = \"table table-striped table-responsive-md table-hover\" > < thead > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > </ tr > </ thead > < tbody > < tr id = \"A\" > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > </ tr > < tr id = \"H\" > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > </ tr > < tr id = \"M\" > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > </ tr > < tr id = \"S\" > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > </ tr > </ tbody > </ table > </ section > < section id = \"rechts\" class = \"col-12 col-lg-2\" >< h5 class = \"pt-3\" > rechts </ h5 ></ section > </ main > < footer > \u00dcbung 3 - J\u00f6rn Freiheit </ footer > </ div > </ body > </ html > \u00dcbungsaufgabe 4 (JavaScript, DOM) Kopieren Sie den Uebung3 -Ordner in einen Uebung4 -Ordner und benennen Sie die uebung3.html in uebung4.html um F\u00fcgen Sie Ihrer Tabelle eine f\u00fcnfte Spalte hinzu mit leerer \u00dcberschrift, also einfach ein weiteres <th></th> . F\u00fcgen Sie im Table-Body <tbody> auch in allen Zeilen ein f\u00fcnftes <td></td> hinzu (nicht h\u00e4ndisch! - Find and Replace der IDE nutzen!) F\u00fcgen Sie Ihrer Tablle nun in HTML eine weitere Zeile hinzu, die wie folgt aussehen soll: Verwenden Sie f\u00fcr den Button das Attribut onclick und rufen Sie eine JavaScript-Funktion checkAndAdd() auf, die Sie selbst schreiben in der checkAndAdd() -Funktion soll folgendes geschehen: sie pr\u00fcfen, ob in jedem der vier <input> -Felder (Vorname, Nachname, E-Mail-Adresse, IP-Adresse) etwas eingegeben wurde wenn ja, dann werden diese Werte f\u00fcr eine neue Tabellenzeile (\u00fcber der Eingabezeile) verwendet (in der folgenden Abbildung wurde test1 , test2 , test3 , test4 eingegeben): wenn nicht, dann werden die Felder, in denen nichts eingegeben wurde, durch Bootstrap rot umrandet ( is-invalid - siehe Tipps): Tipps: am einfachsten ist es sicherlich, wenn Sie f\u00fcr den <tbody> , die vier neuen <input> -Elemente und auch die Tabellenzeile <tr> , in der die <input> -Elemente sind, eine id vergeben, damit Sie in Ihrer Funktion checkAndAdd() jeweils mit document.getElementById() direkt darauf zugreifen k\u00f6nnen (siehe lokalisieren ) benutzen Sie f\u00fcr Ihre <input> -Elemente die Bootstrap-Klasse form-control , also z.B. <input id=\"i1\" type=\"text\" class=\"form-control\" placeholder=\"Vorname\" /> (siehe Bootstrap Forms ) haben Sie ein input -Objekt lokalisiert, z.B. durch let i1 = document.getElementById('i1') , dann k\u00f6nnen Sie \u00fcber i1.value auf den eingegeben Wert zugreifen (siehe Beispiele in HTML-Ereignisse und create ) Angenommen, Sie haben den value von i1 in der Variablen value_i1 gespeichert, dann k\u00f6nnen Sie mithilfe von value_i1 === \"\" pr\u00fcfen, ob der eingegebene String leer ist, ob also nichts eingegeben wurde ( === steht f\u00fcr identisch, d.h. Inhalt und Typ sind gleich - == w\u00fcrde auch gehen, dann muss der Typ nicht unbedingt gleich sein, der Inhalt aber schon - siehe z.B. Vergleichsoperatoren ) einem solchen i1 -Objekt k\u00f6nnen Sie die CSS-Klasse is-invalid mit i1.classList.add('is-invalid') hinzuf\u00fcgen und mit i1.classList.remove('is-invalid') wieder entfernen (selbst, wenn dem Element die Klasse gar nicht zuegordnet ist, gibt es keinen Fehler - siehe z.B. hier ) f\u00fcr die neu entstehende Tabellenzeile m\u00fcssen Sie f\u00fcnf neue td -Obejkte kreieren und diese an ein neu kreiertes tr -Objekt anh\u00e4ngen. Die ersten vier td -Obejkte bekommen f\u00fcr ihr innerHTML den entsprechenden value des input -Objektes (siehe create ) f\u00fcgen Sie das neue tr -Objekt in den tbody vor der Tabellenzeile mit den input -Feldern ein (siehe create ) Zusatz: sehr beeindruckend w\u00e4re es, wenn Sie die neue Zeile nicht immer direkt vor die Eingabezeile einf\u00fcgen, sondern alphabetisch korrekt nach dem Wert des Nachnamens. Sollte das jemand von Ihnen schaffen, schicken Sie mir bitte einen Pull-Request . Das w\u00e4re sehr cool! Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 4 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < style > . table tbody tr : hover { background-color : #76B900 ; } nav { background-color : lightgrey ; } header h1 { text-align : center ; } # links , # rechts { background-color : #FF5F00 ; height : 100 px ; } main { margin : 1 % ; } ul li a { color : #FF5F00 ; } ul li a : hover { color : #0082D1 ; } footer { background-color : grey ; color : white ; text-align : center ; padding : 10 px ; } @ media screen and ( min-width : 992px ) { # links , # rechts { background-color : lightgrey ; height : auto ; } } </ style > < title > Uebung 4 </ title > </ head > < body > < div class = \"container-fluid\" > < header class = \"jumbotron\" > < img src = \"../../images/fiw.jpg\" alt = \"FIW Logo\" style = \"width:53px; height:48px;\" /> < h1 > Teilnehmerinnen WebTech </ h1 > </ header > < nav > < ul class = \"nav nav-pills nav-fills\" > < li class = \"nav-item active\" > < a class = \"nav-link\" href = \"#\" > ALLE </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#A\" > A-G </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#H\" > H-L </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#M\" > M-R </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#S\" > S-Z </ a > </ li > </ ul > </ nav > < main class = \"row mx-1\" > < aside id = \"links\" class = \"col-12 col-lg-2\" >< h5 class = \"pt-3\" > links </ h5 ></ aside > < section class = \"col-12 col-lg-8\" > < table class = \"table table-striped table-responsive-md table-hover\" > < thead > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > < th ></ th > </ tr > </ thead > < tbody id = \"tbody\" > < tr id = \"A\" > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > < td ></ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > < td ></ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > < td ></ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > < td ></ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > < td ></ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > < td ></ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > < td ></ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > < td ></ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > < td ></ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > < td ></ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > < td ></ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > < td ></ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > < td ></ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > < td ></ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > < td ></ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > < td ></ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > < td ></ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > < td ></ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > < td ></ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > < td ></ td > </ tr > < tr id = \"H\" > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > < td ></ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > < td ></ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > < td ></ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > < td ></ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > < td ></ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > < td ></ td > </ tr > < tr id = \"M\" > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > < td ></ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > < td ></ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > < td ></ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > < td ></ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > < td ></ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > < td ></ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > < td ></ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > < td ></ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > < td ></ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > < td ></ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > < td ></ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > < td ></ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > < td ></ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > < td ></ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > < td ></ td > </ tr > < tr id = \"S\" > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > < td ></ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > < td ></ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > < td ></ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > < td ></ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > < td ></ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > < td ></ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > < td ></ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > < td ></ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > < td ></ td > </ tr > < tr id = \"lasttr\" > < td >< input id = \"i1\" type = \"text\" class = \"form-control\" placeholder = \"Vorname\" /></ td > < td >< input id = \"i2\" type = \"text\" class = \"form-control\" placeholder = \"Nachname\" /></ td > < td >< input id = \"i3\" type = \"text\" class = \"form-control\" placeholder = \"E-Mail-Adresse\" /></ td > < td >< input id = \"i4\" type = \"text\" class = \"form-control\" placeholder = \"IP-Adresse\" /></ td > < td >< button type = \"button\" class = \"btn btn-secondary\" onclick = \"checkAndAdd()\" > Add </ button ></ td > </ tr > </ tbody > </ table > </ section > < section id = \"rechts\" class = \"col-12 col-lg-2\" >< h5 class = \"pt-3\" > rechts </ h5 ></ section > </ main > < footer > \u00dcbung 4 - J\u00f6rn Freiheit </ footer > </ div > < script > function checkAndAdd () { let inp1 = document . getElementById ( 'i1' ); // inputs[0] --> inp1 let inp1value = inp1 . value ; console . log ( inp1value ); let inputs = document . getElementsByTagName ( 'input' ); console . log ( inputs ); let inputOk = true ; for ( let i = 0 ; i < inputs . length ; i ++ ) { if ( inputs [ i ]. value === \"\" ) { inputOk = false ; inputs [ i ]. classList . add ( 'is-invalid' ); } else { inputs [ i ]. classList . remove ( 'is-invalid' ); } } if ( inputOk ) { let newTr = document . createElement ( 'tr' ); let td1 = document . createElement ( 'td' ); let td2 = document . createElement ( 'td' ); let td3 = document . createElement ( 'td' ); let td4 = document . createElement ( 'td' ); let td5 = document . createElement ( 'td' ); td1 . innerHTML = inputs [ 0 ]. value ; td2 . innerHTML = inputs [ 1 ]. value ; td3 . innerHTML = inputs [ 2 ]. value ; td4 . innerHTML = inputs [ 3 ]. value ; td5 . innerHTML = \"\" ; newTr . appendChild ( td1 ); newTr . appendChild ( td2 ); newTr . appendChild ( td3 ); newTr . appendChild ( td4 ); newTr . appendChild ( td5 ); let tbody = document . getElementById ( 'tbody' ); let lasttr = document . getElementById ( 'lasttr' ); let notFound = true ; let allTr = document . getElementById ( 'tbody' ). getElementsByTagName ( 'tr' ); for ( let i = 0 ; i < allTr . length && notFound ; i ++ ) { //console.log(allTr[i]); let curRow = allTr [ i ]; let allTd = allTr [ i ]. getElementsByTagName ( 'td' ); if ( allTd [ 1 ]. innerHTML > inputs [ 1 ]. value ) { console . log ( allTd [ 1 ]. innerHTML ); tbody . insertBefore ( newTr , curRow ); notFound = false ; } } if ( notFound ) tbody . insertBefore ( newTr , lasttr ); for ( let i = 0 ; i < inputs . length ; i ++ ) inputs [ i ]. value = \"\" ; inputs [ 0 ]. focus (); } } </ script > </ body > </ html > Video zu \u00dcbung 4 \u00dcbungsaufgabe 5 (JSON, Ajax) Laden Sie sich hier die Datei Uebung5.zip herunter und entpacken Sie sie. Es entsteht der Ordner Uebung5 . Dieser enth\u00e4lt eine Datei uebung5.html (bereits ausf\u00fchrbar), eine Datei staedte.json , die ein JSON enth\u00e4lt, das ausgelesen werden soll einen Ordner images , der Bilder enth\u00e4lt; die Referenzen darauf stehen im JSON Die Datei staedte.json enth\u00e4lt in JSON beschriebene Objekte der Form { \"jahr\" : 1237 , \"stadt\" : \"Berlin\" , \"link\" : \"http://de.wikipedia.org/wiki/Berlin\" , \"bild\" : \"images/berlin.png\" } Alle diese Objekte sind in einem Array. Die Aufgabe ist, die Datei uebung5.html so zu erweitern, dass eine Tabelle in der folgenden Form entsteht: \u00d6ffnen Sie die Datei uebung5.html in Ihrer IDE und starten Sie sie auch schonmal im Browser. Es sind bereits angelegt: ein input -Element und eine Tabelle mit \u00dcberschriften. Dies geschieht in der Funktion createTable() . Diese Funktion wird in der Ereignisbehandlung des load -Events aufgerufen (siehe <body> ). Sie sollen nun: eine Funktion schreiben, die die JSON-Datei mithilfe eines XMLHttpRequest -Objektes (oder mithilfe von fetch() ) vom Server l\u00e4dt \u2192 siehe XMLHttpRequest rufen Sie diese Funktion anstelle der createTable() als Ereignisbehandlung des load -Events auf speichern Sie in dieser Funktion das JSON in der globalen Variable staedte_obj (die Variable ist bereits deklariert, Sie k\u00f6nnen aber auch nochmal hier \u00fcber globale Variablen nachlesen) rufen Sie in dieser Funktion die createTable() -Funktion auf in der createTable() -Funktion sollten Sie sich zun\u00e4chst eine Variable staedte anlegen, die das Array referenziert ( staedte_obj referenziert das Objekt, welches das Array enth\u00e4lt) \u2192 siehe dazu z.B. hier und hier in der Funktion gibt es einen gro\u00dfen Blockkommentar. An dieser Stelle sollten Sie jedes einzelne Element (Objekt) des staedte -Arrays (numerisch indiziert) auslesen f\u00fcr jedes Element eine neue Tabellenzeile generieren jede einzelne Eigenschaft eines Elementes entsprechend verwenden, um das Jahr, die Stadt, einen Link (als Button) und ein Bild ( img ) als eigenes <td> -Element in der Zeile zu erstellen Filter : in das input -Feld kann eine Zahl oder der Name einer Stadt eingegeben werden. Nach jedem eingegeben Zeichen wird \u00fcberpr\u00fcft, ob es eine entsprechende Stadt (oder mehrere) gibt. Die Liste der passenden St\u00e4dte wird in der Tabelle angezeigt, z.B.: (alle St\u00e4dte, die mit Br anfangen): oder alle St\u00e4dte, deren Gr\u00fcndungsjahr mit 12 beginnt: Tipps: der im JSON gespeicherte Link f\u00fcr das Bild kann als Wert des src -Attributes eines <img> -Elementes verwendet werden; das Bild wird dann geladen definieren Sie f\u00fcr die Bilder ein style -Attribut f\u00fcr die H\u00f6he; w\u00e4hlen Sie height = '60px' f\u00fcr den Wert des alt -Attributes des Bildes w\u00e4hlen Sie erneut den Namen der Stadt der Link ist ein <a> -Element. Wenn Sie ihm die (Bootstrap-)CSS-Klassen btn , btn-sm und btn-success zuweisen, sieht er aus wie der \"Button\" auf dem Bild Filter : Eine Zahl ( number ) kann mithilfe der toString() -Methode in einen String umgewandelt werden (z.B. staedte[i].jahr.toString() ) Die L\u00e4nge eines Strings wird mithilfe von length ermittelt (z.B. input.length ) Ein Teilstring kann mithilfe der substring(start,end) -Methode erzeugt werden (z.B. staedte[i].stadt.substring(0,input.length) ) der Teilstring kann mit dem aktuellen Wert des input -Feldes verglichen werden Vergessen Sie nicht, als Ereignisbehandlung f\u00fcr das input -Element die createTable() -Methode aufzurufen! Welches Ereignis soll darin beahndelt werden? Viel Spa\u00df und viel Erfolg! Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 5 <!DOCTYPE html> < html > < head > < meta charset = \"UTF-8\" > < title > Staedte </ title > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > </ head > < body onload = 'loadJSON(); document.getElementById(\"filter\").focus();' > < div class = \"container\" > < h1 > St\u00e4dte </ h1 > < form class = \"form-horizontal\" role = \"form\" > < div class = \"form-group row\" > < label for = \"filter\" class = \"col-form-label col-2\" > Filter: </ label > < div class = \"col-10\" > < input class = \"form-control\" id = \"filter\" type = \"text\" placeholder = \"Stadt oder Gruendungsjahr\" oninput = \"createTable()\" > </ div > </ div > </ form > < div id = \"table\" > </ div > < div id = \"unten\" ></ div > </ div > < script > var staedte_obj ; function loadJSON () { let xhttp = new XMLHttpRequest (); xhttp . onreadystatechange = function () { if ( this . readyState === 4 && this . status === 200 ) { staedte_obj = JSON . parse ( this . responseText ); createTable (); }}; xhttp . open ( \"GET\" , \"http://localhost/Webtech20/Uebungen/Uebung5/staedte.json\" , true ); xhttp . send (); } function createTable () { let staedte = staedte_obj . staedte ; let input = document . getElementById ( 'filter' ). value ; // eingegbene Daten (Formular) let tableDiv = document . getElementById ( 'table' ); if ( tableDiv . firstChild ) tableDiv . removeChild ( tableDiv . firstChild ); let table = document . createElement ( 'TABLE' ); table . setAttribute ( 'class' , 'table table-striped' ); // Bootstrap let thead = document . createElement ( 'THEAD' ); let tr = document . createElement ( 'TR' ); let th = document . createElement ( 'TH' ); let tbody = document . createElement ( 'TBODY' ); let td = document . createElement ( 'TD' ); let _tr = tr . cloneNode ( false ); // Variable f\u00fcr Clone von tr let _td = td . cloneNode ( false ); // Variable f\u00fcr Clone von td // ab hier Spalten\u00fcberschriften let _th = th . cloneNode ( false ); let _text = document . createTextNode ( 'Nr' ); _th . appendChild ( _text ); tr . appendChild ( _th ); _th = th . cloneNode ( false ); _text = document . createTextNode ( 'Jahr' ); _th . appendChild ( _text ); tr . appendChild ( _th ); _th = th . cloneNode ( false ); _text = document . createTextNode ( 'Stadt' ); _th . appendChild ( _text ); tr . appendChild ( _th ); _th = th . cloneNode ( false ); _text = document . createTextNode ( 'Link' ); _th . appendChild ( _text ); tr . appendChild ( _th ); _th = th . cloneNode ( false ); _text = document . createTextNode ( 'Bild' ); _th . appendChild ( _text ); tr . appendChild ( _th ); thead . appendChild ( tr ); // Spaltenueberschriften an thead haengen table . appendChild ( thead ); // thead an die Tabelle haengen // hier muessen jetzt die einzelnen Zeilen in die Tabelle eingelesen werden // das JSON-Array muss ausgelesen werden (for(let i=0; i<staedte.length; i++)) // Tipp: zun\u00e4chst einfach alle anzeigen lassen und erst dann das Filtern einbauen // Filtern: die Eingabe mit dem jeweiligen Gr\u00fcndungsjahr bzw. der jeweiligen Stadt // vergleichen // wenn match, dann entsprechende Zeile einf\u00fcgen for ( let i = 0 ; i < staedte . length ; i ++ ) { if ( staedte [ i ]. stadt . substring ( 0 , input . length ). toLowerCase () == input . toLowerCase () || staedte [ i ]. jahr . toString (). substring ( 0 , input . length ) == input ) { console . log ( input . toLowerCase () + \" : \" + staedte [ i ]. stadt . substring ( 0 , input . length ). toLowerCase ()); _tr = tr . cloneNode ( false ); _td = td . cloneNode ( false ); _text = document . createTextNode ( i + 1 ); _td . appendChild ( _text ); _tr . appendChild ( _td ); _td = td . cloneNode ( false ); _text = document . createTextNode ( staedte [ i ]. jahr ); _td . appendChild ( _text ); _tr . appendChild ( _td ); _td = td . cloneNode ( false ); _text = document . createTextNode ( staedte [ i ]. stadt ); _td . appendChild ( _text ); _tr . appendChild ( _td ); _td = td . cloneNode ( false ); let a = document . createElement ( 'a' ); a . classList . add ( 'btn' , 'btn-sm' , 'btn-success' ); a . href = staedte [ i ]. link ; a . innerHTML = \"Info\" ; a . setAttribute ( 'target' , '_blank' ); _td . appendChild ( a ); _tr . appendChild ( _td ); _td = td . cloneNode ( false ); let img = document . createElement ( 'img' ); img . setAttribute ( 'alt' , staedte [ i ]. stadt ); img . src = staedte [ i ]. bild ; img . style . height = '60px' ; img . addEventListener ( 'click' , cloneImg . bind ( this )); // ist zusaetzlich, war in der Azfgabe nicht gefordert _td . appendChild ( img ); _tr . appendChild ( _td ); tbody . appendChild ( _tr ); } } table . appendChild ( thead ); table . appendChild ( tbody ); tableDiv . appendChild ( table ); } // hier noch eine Funktion, die das Bild, auf das geklickt wurde, in // das Div \"unten\" clont --> Zusatz (nicht gefordert in Aufgabe) function cloneImg ( event ) { let div = document . getElementById ( 'unten' ); let bild = event . target . cloneNode ( true ); let name = bild . alt ; console . log ( name ); //let bild = img.cloneNode(true); images = div . childNodes ; console . log ( images . length ); inserted = false ; for ( let i = 0 ; i < images . length && ! inserted ; i ++ ) { let img = images [ i ]; console . log ( img . alt ); if ( bild . alt . localeCompare ( img . alt ) < 0 ) { div . insertBefore ( bild , img ); inserted = true ; } } if ( images . length == 0 || ! inserted ) { div . appendChild ( bild ); } } </ script > </ body > </ html > Video zu \u00dcbung 5 \u00dcbungsaufgabe 6 Arbeiten Sie im Abschnitt Angular die Abschnitte Erstes Projekt erstellen und Angular-Projektstruktur durch. Erstellen Sie in Ihrem Repository mithilfe von ng new frontend ein neues Angular-Projekt. Bei der Frage, ob \" enforce stricter type checking\" k\u00f6nnen Sie mit N antworten. Antworten Sie bei \" Routing \" mit y und beim \" Stylesheet \" mit Enter ( CSS .). Es entsteht ein Ordner frontend`. Wenn Sie frontend in Ihrem Repository erzeugt haben, dann k\u00f6nnen Sie den .git -Ordner in frontend l\u00f6schen: cd frontend rm -rf .git Aber nicht die .gitignore l\u00f6schen! \u00c4ndern Sie Ihr Projektprefix von app auf Ihre Initialen (siehe Angular\u2192Prefix \u00e4ndern ) Installieren Sie f\u00fcr Ihre Angular-Anwendung das CSS-Framework Material . Geben Sie dazu in Ihrem frontend -Ordner im Terminal ng add @angular/material ein. W\u00e4hlen Sie ein prebuilt theme Ihrer Wahl ( Indigo/pink ist ok) und beantworten Sie die Fragen nach den typography styles und den browser animations jeweils mit y . \u00d6ffnen Sie in Ihrer IDE die Datei src/app/app.component.html und l\u00f6schen Sie allles au\u00dfer <router-outlet></router-outlet> und geben Sie oberhalb des router-outlet> -Selektors die Zeile <h1>This is app</h1> und dann noch die Zeile <mat-slider min=\"1\" max=\"100\" step=\"1\" value=\"1\"></mat-slider> ein. Die Datei app.component.html sieht dann so aus: src/app/app.component.html 1 2 3 < h1 > This is app </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < router-outlet ></ router-outlet > Editieren Sie au\u00dferdem die Datei src/app/app.module.ts wie folgt (hinzugekommene Zeilen hervorgehoben - Es gen\u00fcgt, wenn Sie zun\u00e4chst Zeile 17 eingeben und dann der IDE das Einf\u00fcgen von Zeile 7 \u00fcberlassen): src/app/app.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { BrowserAnimationsModule } from '@angular/platform-browser/animations' ; import { MatSliderModule } from '@angular/material/slider' ; @ NgModule ({ declarations : [ AppComponent ], imports : [ BrowserModule , AppRoutingModule , BrowserAnimationsModule , MatSliderModule , ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Ihre Seite ( http://localhost:4200/ ) sollte nun so aussehen: Sie m\u00fcssen jetzt immer compileren! Wenn Sie aber einmal ng serve ausgef\u00fchrt haben, wird im Browser automatisch auf die \u00c4nderungen reagiert. Sie m\u00fcssen also nicht jedes Mal neu ng serve eingeben, bzw. nicht jedes Mal neu auf das gr\u00fcne Dreieck in Ihrer IDE klicken: Geben Sie im Terminal im frontend -Ordner nun ng generate @angular/material:navigation nav Damit erstellen Sie eine Komponente namens nav , die einer von Material vorgefertigte Navigationskomponente entspricht. Erg\u00e4nzen Sie in der app.component.html noch (Sie m\u00fcssen Ihren Prefix verwenden): src/app/app.component.html 1 2 3 4 < jf-nav ></ jf-nav > < h1 > This is app </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < router-outlet ></ router-outlet >< router-outlet ></ router-outlet > Achtung! Ihr Komponentenselektor hei\u00dft anders ( Initialen -nav ) - siehe in src/app/nav/nav.component.ts : src/app/nav/nav.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import { Component } from '@angular/core' ; import { BreakpointObserver , Breakpoints } from '@angular/cdk/layout' ; import { Observable } from 'rxjs' ; import { map , shareReplay } from 'rxjs/operators' ; @Component ({ selector : 'jf-nav' , templateUrl : './nav.component.html' , styleUrls : [ './nav.component.css' ] }) export class NavComponent { isHandset$ : Observable < boolean > = this . breakpointObserver . observe ( Breakpoints . Handset ) . pipe ( map ( result => result . matches ), shareReplay () ); constructor ( private breakpointObserver : BreakpointObserver ) {} } Ihre Seite sollte nun so aussehen: bzw. bei schmalerem Viewport: \u00dcbungsaufgabe 7 Arbeiten Sie den Abschnitt Material vollst\u00e4ndig durch und erweitern Sie Ihr Frontend entsprechend. \u00dcbungsaufgabe 8 Arbeiten Sie den Abschnitt REST-API vollst\u00e4ndig durch und erstellen Sie ein Backend (REST-Server) f\u00fcr die Bereitstellung der CRUD-Funktionalit\u00e4ten \u00fcber unsere Mockup-Daten. Speichern Sie diese Daten in einer MySQL-Datenbank. \u00dcbungsaufgabe 9 Arbeiten Sie den Abschnitt Anbindung an das Backend vollst\u00e4ndig durch und erstellen Sie ein Frontend, das an das im Abschnitt REST-API erstellte Backend insofern angebunden ist, dass Sie bereits die Endpunkte GET localhost:3000/members und GET localhost:3000/members/id angebunden haben und alle Datens\u00e4tze geeignet (z.B. in einer Tablle) darstellen und einzelne Datens\u00e4tze ebenso (z.B. in einem Formular). Sie m\u00fcssen das Frontend nicht zwingend neu erstellen - sie k\u00f6nnen auch Ihr bisheriges Frontend entsprechend anpassen. Sie m\u00fcssen auch nicht zwingend Bootstrap verwenden - Sie k\u00f6nnen gerne auch alles mit Material stylen, wenn Sie m\u00f6chten (oder einem anderen CSS-Framework).","title":"\u00dcbungen"},{"location":"uebungen/#ubungen","text":"\u00dcbungsaufgabe 0 w\u00e4hlen Sie eine IDE aus und installieren Sie diese richten Sie sich ein Git-Repository ein (z.B. WebTech20 ) und pushen Sie es auf einen zentralen Dienst ( siehe ) laden Sie mich zu Ihrem Git-Dienst ein ( siehe ) erstellen Sie in Ihrem Repostory eine Datei index.php mit folgendem Inhalt: <?php phpinfo(); ?> richten Sie Ihren Webserver so ein, dass WebTech20 Ihr DocumentRoot ist ( siehe ) commiten und pushen Sie Ihr Repository \u00dcbungsaufgabe 1 (HTML) Erstellen Sie in einem Uebung1 -Ordner eine Datei uebung1.html . Das body -Element soll ein header -Element, ein nav -Element, ein section -Element und ein footer -Element enthalten. Unter dieser \u00dcbungsaufgabe (siehe mockupdata ) ist der HTML-Code einer Tabelle mit allen Teilnehmerinnen einer Veranstaltung. Kopieren Sie den Inhalt der Datei so in Ihren HTML-Code, dass folgende Seite erscheint: Es sollen 4 Unterseiten erstellt werden. Bei Klick auf diese Seiten soll die Tabelle jeweils nur die Teilnehmerinnen enthalten, deren Nachname mit dem entsprechenden Anfangsbuchstaben beginnt (also in ag.html nur alle Nachnamen, die mit A bis G beginnen). Die Seiten ag.html , hl.html , mr.html und sz.html sollen im Ordner NN abgelegt werden, der Unterordner von Uebung1 ist. Achten Sie darauf, dass man von jeder Unterseite auf jede andere Unterseite und auch auf die Hauptseite ( uebung1.html ) wechseln k\u00f6nnen muss. Das einzubindende Logo des Studiengangs liegt hier . Es soll in einen images -Ordner gespeichert werden, der in der Ordner-Hierarchie neben dem Uebung1 -Ordner liegt. Um die Gr\u00f6\u00dfe des Bildes festzulegen, k\u00f6nnen Sie mit Hilfe des style -Attributes die H\u00f6he und die Breite bestimmen: style=\"width:53px; height=48px;\" N\u00e4chste Woche wird Uebung1 um CSS erweitert. mockupdata < table > < thead > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > </ tr > </ thead > < tbody > < tr > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > </ tr > < tr > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > </ tr > < tr > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > </ tr > < tr > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > </ tr > </ tbody > </ table > Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 1 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Aufgabe 1 </ title > </ head > < body > < header > < h1 > Teilnehmerinnen WebTech </ h1 > < img src = \"../images/fiw.jpg\" alt = \"FIW Logo\" style = \"width:53px; height:48px;\" /> </ header > < nav > < a href = \"#\" > ALLE </ a > < a href = \"./NN/ag.html\" > A-G </ a > < a href = \"./NN/hl.html\" > H-L </ a > < a href = \"./NN/mr.html\" > M-R </ a > < a href = \"./NN/sz.html\" > S-Z </ a > < a href = \"../index.html\" > Startseite </ a > </ nav > < section > < table > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > </ tr > < tr > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > </ tr > < tr > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > </ tr > < tr > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > </ tr > < tr > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > </ tr > </ table > </ section > < footer > \u00dcbung 1 - J\u00f6rn Freiheit </ footer > </ body > </ html > \u00dcbungsaufgabe 2 (CSS) Erstellen Sie (falls noch nicht geschehen) eine index.html -Datei in Ihrem Repository-Ordner (also z.B. DocumentRoot/Webtech20 ) derart, dass diese direkte Links auf Ihre L\u00f6sungen der \u00dcbungen enthalten (z.B. in einer Tabelle oder einer Liste). Kopieren Sie den Ordner Uebung1 in den Ordner Uebung2 (also inkl. Ordner NN ). \u00c4ndern Sie darin die Datei uebung1.html zu uebung2.html (umbenennen). \u00c4ndern Sie entsprechend alle Links innerhalb der Datei, damit Sie z.B. auf den Ordner Uebung2/NN zugreifen und nicht mehr auf Uebung1/NN . Legen Sie sich im Uebung2 -Ordner einen Ordner styles an. Erstellen Sie in dem styles -Ordner eine Datei mystyles.css . F\u00fcgen Sie im <head> -Bereich der uebung2.html eine logische Verkn\u00fcpfung zur mystyles.css -Datei ein ( <link href=\"./styles/mystyles.css\" rel=\"stylesheet\"> ). In mystyles.css definieren Sie (versuchen Sie mind. 6 der genannten 8 Punkte umzusetzen): Verdana als Schriftart f\u00fcr das ganze Dokument der <header> soll das HTW-Grau als Hintergrundfarbe, HTW-Orange als Schriftfarbe und der Text zentriert sein (siehe HTW Corporate Design ). die Tabelle soll ungef\u00e4hr wie dargestellt aussehen: d.h. mit Rahmen, mit einem Schatten, die Spalten\u00fcberschriften in wei\u00df, mit HTW-gr\u00fcnem Hintergrund. Das <nav> -Feld hat einen Abstand nach oben und nach unten von jeweils 50px . <a> -Elemente in einem <nav> -Element haben einen grauen Rand, deren Ecken abgerundet sind. Die Hintergrundfarbe ist HTW-blau. Schriftart ist wei\u00df und bold. <a> -Elemente in einem <nav> -Element sind nicht unterstrichen! F\u00e4hrt man mit der Maus \u00fcber ein <a> -Element in einem <nav> -Element \u00e4ndert sich die Hintergrundfarbe in HTW-grau und die Schriftfarbe in HTW-orange. Die Tabelle hat eine Breite von 80% des <section> -Elements. Der <footer> ist in HTW-Orange, die Schrift ist schwarz, der Text ist mittig und die Schrift ist kleiner. Die H\u00f6he des footers entsteht dadurch, dass die Schrift einen Abstand nach oben und nach unten von jeweils 20px hat. Am Ende soll es ungef\u00e4hr so aussehen: Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 2 uebung2.html <!DOCTYPE html> < html > < head > < meta charset = \"UTF-8\" > < link href = \"./styles/mystyles.css\" rel = \"stylesheet\" /> < title > Aufgabe 2 </ title > </ head > < body > < header > < h1 > Teilnehmer_innen WebTech </ h1 > < img src = \"../images/fiw.jpg\" style = \"width:53px; height=48px\" /> </ header > < nav > < a href = \"\" > Alle </ a > < a href = \"./NN/ag.html\" > A-G </ a > < a href = \"./NN/hl.html\" > H-L </ a > < a href = \"./NN/mr.html\" > M-R </ a > < a href = \"./NN/sz.html\" > A-G </ a > </ nav > < section > < h1 > Alle Teilnehmer_innen </ h1 > < table > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > </ tr > < tr > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > </ tr > < tr > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > </ tr > < tr > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > </ tr > < tr > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > </ tr > </ table > </ section > < footer > \u00dcbung 2 - J\u00f6rn Freiheit </ footer > </ body > </ html > mystyles.css @ charset \"ISO-8859-1\" ; body { font-family : Verdana , sans-serif ; font-size : 0.9 em ; } header { background-color : #AFAFAF ; color : #FF5F00 ; text-align : center ; } table { border-collapse : collapse ; width : 80 % ; box-shadow : 5 px 5 px 5 px darkgray ; } table , th , td { border : 1 px solid black ; padding : 5 px ; } th { background-color : #76B900 ; color : white ; } h1 { font-variant : small-caps ; } footer { background-color : #FF5F00 ; color : black ; text-align : center ; padding : 5 px ; margin-top : 10 px ; margin-bottom : 10 px ; } nav { margin-top : 30 px ; margin-bottom : 10 px ; } nav a { text-decoration : none ; background-color : #0082D1 ; color : white ; padding : 10 px ; border : 1 px solid #0082D1 ; border-radius : 5 px ; } nav a : hover { background-color : #AFAFAF ; color : #FF5F00 ; } \u00dcbungsaufgabe 3 (RWD + Bootstrap) Kopieren Sie uebung2.html aus \u00dcbung 2 in einen neuen Uebung3 -Ordner und benennen Sie die Datei in uebung3.html um (der NN -Ordner muss nicht mehr mitkopiert werden). Achten Sie aber darauf, dass das FIW-Logo noch angezeigt wird Binden Sie in Ihre uebung3.html Bootstrap ein (entweder per CDN oder als lokalen Zugriff \u2013 siehe Bootstrap ) Header : der <header> enth\u00e4lt das FIW-Logo und die \u00dcberschrift <h1>Teilnehmerinnen WebTech</h1> weisen Sie dem <header> die Bootstrap-Klasse jumbotron zu definieren Sie eine CSS-Eigenschaft so, dass eine h1 -\u00dcberschrift in einem header ein Inline-Element ist definieren Sie eine padding-left -Eigenschaft f\u00fcr eine solche \u00dcberschrift so, dass die \u00dcberschrift ungef\u00e4hr mittig ist (relative Gr\u00f6\u00dfenangabe) der header soll ungef\u00e4hr so aussehen (Navigation und Anfang des Hauptteils sind auch schon zu sehen): Navigation : interne Links (Links innerhalb der Seite) funktionieren wie folgt: Sie weisen einem Element eine id zu, z.B. der Tabellenzeile, die den ersten Nachnamen enth\u00e4lt, der mit \"H\" beginnt: < tr id = \"H\" > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > Jetzt k\u00f6nnen Sie in einem internen Link mithilfe des Doppelkreuzes ( # ) und des Bezeichners f\u00fcr die id ( H ) darauf verweisen, z.B. < a class = \"nav-link\" href = \"#H\" > H-L </ a > Vergeben Sie entsprechend IDs f\u00fcr die entsprechenden Tabellenzeilen (A, H, M, S) und passen Sie Ihre Hyperlinks im Navigationsmen\u00fc entsprechend an Weisen Sie Ihrem <nav> -Element einen lightgrey-Hintergrund zu Erstellen Sie f\u00fcr die einzelnen Links eine <ul> , deren <li> jeweils ein <a> -Element mit den Referenzen auf die oben beschriebenen IDs enthalten Informieren Sie sich unter Navs (oder wo Sie m\u00f6chten) \u00fcber \u201eNavs\u201c und erstellen Sie Ihr Navigationsmen\u00fc so, wie oben in der Abbildung (siehe Header ) gezeigt \u00c4ndern Sie aber die Farbe der Links so, dass sie im HTW-Orange ( #FF5F00 ) erscheinen und wenn man mit der Maus dar\u00fcber f\u00e4hrt im HTW-Blau ( #0082D1 ) (Definieren Sie sich gerne Custom Properties und wenden Sie diese an) Hauptteil : der Hauptteil (ein Container) soll aus drei Containern bestehen: einer, der nur das Wort (\u00dcberschrift) \"links\" enth\u00e4lt, einer, der die Tabelle enth\u00e4lt und ein dritter, der nur das Wort (\u00dcberschrift) \"rechts\" enth\u00e4lt Weisen Sie diesem Hauptteil die Klasse row zu und gestalten gestalten Sie die drei inneren Container (links, Tabelle, rechts) so, dass sie ab einer Viewportbreite >= 992px ( lg ) nebeneinander sind, wobei die Tabelle 4x so breit ist wie die jeweiligen Container an der Seite unterhalb der Viewportbreite von 992px sollen die drei Teile untereinander sein Abbildung f\u00fcr Breite unter 992px : Abbildung f\u00fcr Breite oberhalb 992px : Mithilfe eigener Media-Queries sollen Sie daf\u00fcr sorgen, dass die beiden Container links und rechts einen orangenen Hintergrund und eine H\u00f6he von 100px haben, wenn der Viewport kleiner als 992px ist und einen hellgrauen ( lightgrey ) Hintergrund und eine automatische H\u00f6he ( height: auto; ), wenn der Viewport gr\u00f6\u00dfer ist Tabelle: Erkundigen Sie sich unter Tables und gestalten Sie die Tabelle so, dass sie ungef\u00e4hr so aussieht: Sie m\u00fcssen mit einer eigenen CSS-Definition daf\u00fcr sorgen, dass die Zeile, in der Sie mit der Maus sind, nicht mehr dunkelgrau, sondern in HTW-Gr\u00fcn erscheint Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < style > . table tbody tr : hover { background-color : #76B900 ; } nav { background-color : lightgrey ; } header h1 { /* display: inline; padding-left: 20%; */ text-align : center ; } # links , # rechts { background-color : #FF5F00 ; height : 100 px ; } main { margin : 1 % ; } ul li a { color : #FF5F00 ; } ul li a : hover { color : #0082D1 ; } footer { background-color : grey ; color : white ; text-align : center ; padding : 10 px ; } @ media screen and ( min-width : 992px ) { # links , # rechts { background-color : lightgrey ; height : auto ; } } </ style > < title > Uebung 3 </ title > </ head > < body > < div class = \"container-fluid\" > < header class = \"jumbotron\" > < img src = \"../images/fiw.jpg\" alt = \"FIW Logo\" style = \"width:53px; height:48px;\" /> < h1 > Teilnehmerinnen WebTech </ h1 > </ header > < nav > < ul class = \"nav nav-pills nav-fills\" > < li class = \"nav-item active\" > < a class = \"nav-link\" href = \"#\" > ALLE </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#A\" > A-G </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#H\" > H-L </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#M\" > M-R </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#S\" > S-Z </ a > </ li > </ ul > </ nav > < main class = \"row mx-1\" > < aside id = \"links\" class = \"col-12 col-lg-2\" >< h5 class = \"pt-3\" > links </ h5 ></ aside > < section class = \"col-12 col-lg-8\" > < table class = \"table table-striped table-responsive-md table-hover\" > < thead > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > </ tr > </ thead > < tbody > < tr id = \"A\" > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > </ tr > < tr id = \"H\" > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > </ tr > < tr id = \"M\" > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > </ tr > < tr id = \"S\" > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > </ tr > </ tbody > </ table > </ section > < section id = \"rechts\" class = \"col-12 col-lg-2\" >< h5 class = \"pt-3\" > rechts </ h5 ></ section > </ main > < footer > \u00dcbung 3 - J\u00f6rn Freiheit </ footer > </ div > </ body > </ html > \u00dcbungsaufgabe 4 (JavaScript, DOM) Kopieren Sie den Uebung3 -Ordner in einen Uebung4 -Ordner und benennen Sie die uebung3.html in uebung4.html um F\u00fcgen Sie Ihrer Tabelle eine f\u00fcnfte Spalte hinzu mit leerer \u00dcberschrift, also einfach ein weiteres <th></th> . F\u00fcgen Sie im Table-Body <tbody> auch in allen Zeilen ein f\u00fcnftes <td></td> hinzu (nicht h\u00e4ndisch! - Find and Replace der IDE nutzen!) F\u00fcgen Sie Ihrer Tablle nun in HTML eine weitere Zeile hinzu, die wie folgt aussehen soll: Verwenden Sie f\u00fcr den Button das Attribut onclick und rufen Sie eine JavaScript-Funktion checkAndAdd() auf, die Sie selbst schreiben in der checkAndAdd() -Funktion soll folgendes geschehen: sie pr\u00fcfen, ob in jedem der vier <input> -Felder (Vorname, Nachname, E-Mail-Adresse, IP-Adresse) etwas eingegeben wurde wenn ja, dann werden diese Werte f\u00fcr eine neue Tabellenzeile (\u00fcber der Eingabezeile) verwendet (in der folgenden Abbildung wurde test1 , test2 , test3 , test4 eingegeben): wenn nicht, dann werden die Felder, in denen nichts eingegeben wurde, durch Bootstrap rot umrandet ( is-invalid - siehe Tipps): Tipps: am einfachsten ist es sicherlich, wenn Sie f\u00fcr den <tbody> , die vier neuen <input> -Elemente und auch die Tabellenzeile <tr> , in der die <input> -Elemente sind, eine id vergeben, damit Sie in Ihrer Funktion checkAndAdd() jeweils mit document.getElementById() direkt darauf zugreifen k\u00f6nnen (siehe lokalisieren ) benutzen Sie f\u00fcr Ihre <input> -Elemente die Bootstrap-Klasse form-control , also z.B. <input id=\"i1\" type=\"text\" class=\"form-control\" placeholder=\"Vorname\" /> (siehe Bootstrap Forms ) haben Sie ein input -Objekt lokalisiert, z.B. durch let i1 = document.getElementById('i1') , dann k\u00f6nnen Sie \u00fcber i1.value auf den eingegeben Wert zugreifen (siehe Beispiele in HTML-Ereignisse und create ) Angenommen, Sie haben den value von i1 in der Variablen value_i1 gespeichert, dann k\u00f6nnen Sie mithilfe von value_i1 === \"\" pr\u00fcfen, ob der eingegebene String leer ist, ob also nichts eingegeben wurde ( === steht f\u00fcr identisch, d.h. Inhalt und Typ sind gleich - == w\u00fcrde auch gehen, dann muss der Typ nicht unbedingt gleich sein, der Inhalt aber schon - siehe z.B. Vergleichsoperatoren ) einem solchen i1 -Objekt k\u00f6nnen Sie die CSS-Klasse is-invalid mit i1.classList.add('is-invalid') hinzuf\u00fcgen und mit i1.classList.remove('is-invalid') wieder entfernen (selbst, wenn dem Element die Klasse gar nicht zuegordnet ist, gibt es keinen Fehler - siehe z.B. hier ) f\u00fcr die neu entstehende Tabellenzeile m\u00fcssen Sie f\u00fcnf neue td -Obejkte kreieren und diese an ein neu kreiertes tr -Objekt anh\u00e4ngen. Die ersten vier td -Obejkte bekommen f\u00fcr ihr innerHTML den entsprechenden value des input -Objektes (siehe create ) f\u00fcgen Sie das neue tr -Objekt in den tbody vor der Tabellenzeile mit den input -Feldern ein (siehe create ) Zusatz: sehr beeindruckend w\u00e4re es, wenn Sie die neue Zeile nicht immer direkt vor die Eingabezeile einf\u00fcgen, sondern alphabetisch korrekt nach dem Wert des Nachnamens. Sollte das jemand von Ihnen schaffen, schicken Sie mir bitte einen Pull-Request . Das w\u00e4re sehr cool! Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 4 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1, shrink-to-fit=no\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > < style > . table tbody tr : hover { background-color : #76B900 ; } nav { background-color : lightgrey ; } header h1 { text-align : center ; } # links , # rechts { background-color : #FF5F00 ; height : 100 px ; } main { margin : 1 % ; } ul li a { color : #FF5F00 ; } ul li a : hover { color : #0082D1 ; } footer { background-color : grey ; color : white ; text-align : center ; padding : 10 px ; } @ media screen and ( min-width : 992px ) { # links , # rechts { background-color : lightgrey ; height : auto ; } } </ style > < title > Uebung 4 </ title > </ head > < body > < div class = \"container-fluid\" > < header class = \"jumbotron\" > < img src = \"../../images/fiw.jpg\" alt = \"FIW Logo\" style = \"width:53px; height:48px;\" /> < h1 > Teilnehmerinnen WebTech </ h1 > </ header > < nav > < ul class = \"nav nav-pills nav-fills\" > < li class = \"nav-item active\" > < a class = \"nav-link\" href = \"#\" > ALLE </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#A\" > A-G </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#H\" > H-L </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#M\" > M-R </ a > </ li > < li class = \"nav-item\" > < a class = \"nav-link\" href = \"#S\" > S-Z </ a > </ li > </ ul > </ nav > < main class = \"row mx-1\" > < aside id = \"links\" class = \"col-12 col-lg-2\" >< h5 class = \"pt-3\" > links </ h5 ></ aside > < section class = \"col-12 col-lg-8\" > < table class = \"table table-striped table-responsive-md table-hover\" > < thead > < tr > < th > Vorname </ th > < th > Nachname </ th > < th > E-Mail-Adresse </ th > < th > IP-Adresse </ th > < th ></ th > </ tr > </ thead > < tbody id = \"tbody\" > < tr id = \"A\" > < td > Adam </ td > < td > Anderson </ td > < td > aanderson8@google.fr </ td > < td > 118.93.83.157 </ td > < td ></ td > </ tr > < tr > < td > Susan </ td > < td > Andrews </ td > < td > sandrewsn@google.co.jp </ td > < td > 228.214.9.251 </ td > < td ></ td > </ tr > < tr > < td > Catherine </ td > < td > Andrews </ td > < td > candrewsp@noaa.gov </ td > < td > 112.111.87.178 </ td > < td ></ td > </ tr > < tr > < td > Alan </ td > < td > Bradley </ td > < td > abradley1c@globo.com </ td > < td > 229.152.117.127 </ td > < td ></ td > </ tr > < tr > < td > Anne </ td > < td > Brooks </ td > < td > abrooks16@bravesites.com </ td > < td > 243.159.39.234 </ td > < td ></ td > </ tr > < tr > < td > Russell </ td > < td > Brown </ td > < td > rbrownq@nifty.com </ td > < td > 215.38.120.242 </ td > < td ></ td > </ tr > < tr > < td > Ryan </ td > < td > Burton </ td > < td > rburton18@foxnews.com </ td > < td > 159.60.107.14 </ td > < td ></ td > </ tr > < tr > < td > Roy </ td > < td > Campbell </ td > < td > rcampbell1@geocities.com </ td > < td > 237.232.34.20 </ td > < td ></ td > </ tr > < tr > < td > Russell </ td > < td > Campbell </ td > < td > rcampbell17@eventbrite.com </ td > < td > 251.2.92.63 </ td > < td ></ td > </ tr > < tr > < td > Bonnie </ td > < td > Coleman </ td > < td > bcoleman11@fc2.com </ td > < td > 109.150.122.102 </ td > < td ></ td > </ tr > < tr > < td > Ernest </ td > < td > Coleman </ td > < td > ecoleman15@businessweek.com </ td > < td > 213.173.4.7 </ td > < td ></ td > </ tr > < tr > < td > Richard </ td > < td > Cruz </ td > < td > rcruz7@unc.edu </ td > < td > 235.124.23.221 </ td > < td ></ td > </ tr > < tr > < td > Sean </ td > < td > Cruz </ td > < td > scruz10@answers.com </ td > < td > 92.255.49.227 </ td > < td ></ td > </ tr > < tr > < td > Rebecca </ td > < td > Cunningham </ td > < td > rcunninghamd@mac.com </ td > < td > 65.79.191.52 </ td > < td ></ td > </ tr > < tr > < td > Margaret </ td > < td > Evans </ td > < td > mevansh@pcworld.com </ td > < td > 162.10.86.196 </ td > < td ></ td > </ tr > < tr > < td > Jeffrey </ td > < td > Ford </ td > < td > jford14@cnet.com </ td > < td > 210.216.54.14 </ td > < td ></ td > </ tr > < tr > < td > Andrea </ td > < td > Gardner </ td > < td > agardnerv@woothemes.com </ td > < td > 179.91.0.30 </ td > < td ></ td > </ tr > < tr > < td > Deborah </ td > < td > George </ td > < td > dgeorge6@furl.net </ td > < td > 201.76.47.162 </ td > < td ></ td > </ tr > < tr > < td > Sean </ td > < td > Gibson </ td > < td > sgibsony@alexa.com </ td > < td > 48.114.103.55 </ td > < td ></ td > </ tr > < tr > < td > Virginia </ td > < td > Graham </ td > < td > vgrahamk@aol.com </ td > < td > 165.219.171.1 </ td > < td ></ td > </ tr > < tr id = \"H\" > < td > Steven </ td > < td > Hamilton </ td > < td > shamiltonu@state.tx.us </ td > < td > 38.194.91.201 </ td > < td ></ td > </ tr > < tr > < td > Virginia </ td > < td > Hawkins </ td > < td > vhawkinsf@ehow.com </ td > < td > 93.120.46.203 </ td > < td ></ td > </ tr > < tr > < td > Edward </ td > < td > Hicks </ td > < td > ehicksc@pcworld.com </ td > < td > 199.153.27.1 </ td > < td ></ td > </ tr > < tr > < td > Mark </ td > < td > Johnson </ td > < td > mjohnsonj@hostgator.com </ td > < td > 73.87.135.206 </ td > < td ></ td > </ tr > < tr > < td > Ruth </ td > < td > Jordan </ td > < td > rjordan1a@smugmug.com </ td > < td > 193.140.80.64 </ td > < td ></ td > </ tr > < tr > < td > Antonio </ td > < td > Kim </ td > < td > akim4@odnoklassniki.ru </ td > < td > 168.244.191.78 </ td > < td ></ td > </ tr > < tr id = \"M\" > < td > Jennifer </ td > < td > Marshall </ td > < td > jmarshallt@gnu.org </ td > < td > 104.191.49.94 </ td > < td ></ td > </ tr > < tr > < td > Eric </ td > < td > Matthews </ td > < td > ematthews5@independent.co.uk </ td > < td > 138.194.30.1 </ td > < td ></ td > </ tr > < tr > < td > Raymond </ td > < td > Mcdonald </ td > < td > rmcdonald2@ihg.com </ td > < td > 161.24.42.24 </ td > < td ></ td > </ tr > < tr > < td > Eric </ td > < td > Miller </ td > < td > emillere@creativecommons.org </ td > < td > 122.159.17.218 </ td > < td ></ td > </ tr > < tr > < td > Jonathan </ td > < td > Morales </ td > < td > jmoralesa@ovh.net </ td > < td > 97.65.110.105 </ td > < td ></ td > </ tr > < tr > < td > Marie </ td > < td > Morgan </ td > < td > mmorganb@cloudflare.com </ td > < td > 226.79.152.112 </ td > < td ></ td > </ tr > < tr > < td > Amanda </ td > < td > Nelson </ td > < td > anelson13@indiatimes.com </ td > < td > 161.185.121.245 </ td > < td ></ td > </ tr > < tr > < td > Lisa </ td > < td > Olson </ td > < td > lolsonr@telegraph.co.uk </ td > < td > 77.245.172.100 </ td > < td ></ td > </ tr > < tr > < td > Alice </ td > < td > Ortiz </ td > < td > aortizw@histats.com </ td > < td > 179.52.222.21 </ td > < td ></ td > </ tr > < tr > < td > Peter </ td > < td > Phillips </ td > < td > pphillipss@1688.com </ td > < td > 11.158.255.76 </ td > < td ></ td > </ tr > < tr > < td > Matthew </ td > < td > Porter </ td > < td > mporter9@europa.eu </ td > < td > 174.81.178.88 </ td > < td ></ td > </ tr > < tr > < td > Tammy </ td > < td > Ray </ td > < td > trayx@weather.com </ td > < td > 192.243.38.190 </ td > < td ></ td > </ tr > < tr > < td > Mark </ td > < td > Richardson </ td > < td > mrichardson1d@ihg.com </ td > < td > 209.217.14.154 </ td > < td ></ td > </ tr > < tr > < td > Joan </ td > < td > Roberts </ td > < td > jroberts12@alibaba.com </ td > < td > 4.91.143.62 </ td > < td ></ td > </ tr > < tr > < td > Kathleen </ td > < td > Rose </ td > < td > kroseg@pinterest.com </ td > < td > 222.172.140.56 </ td > < td ></ td > </ tr > < tr id = \"S\" > < td > Steve </ td > < td > Sanders </ td > < td > ssanders1b@wikispaces.com </ td > < td > 91.61.109.245 </ td > < td ></ td > </ tr > < tr > < td > Shirley </ td > < td > Scott </ td > < td > sscottm@macromedia.com </ td > < td > 219.237.108.82 </ td > < td ></ td > </ tr > < tr > < td > Lillian </ td > < td > Stephens </ td > < td > lstephens19@hugedomains.com </ td > < td > 89.85.137.204 </ td > < td ></ td > </ tr > < tr > < td > Nicole </ td > < td > Thompson </ td > < td > nthompson3@admin.ch </ td > < td > 13.183.208.155 </ td > < td ></ td > </ tr > < tr > < td > Marie </ td > < td > Thompson </ td > < td > mthompsonz@yelp.com </ td > < td > 162.164.5.231 </ td > < td ></ td > </ tr > < tr > < td > Alan </ td > < td > Vasquez </ td > < td > avasquezo@miibeian.gov.cn </ td > < td > 178.109.86.172 </ td > < td ></ td > </ tr > < tr > < td > Mildred </ td > < td > Watkins </ td > < td > mwatkins0@miibeian.gov.cn </ td > < td > 150.67.132.64 </ td > < td ></ td > </ tr > < tr > < td > Eugene </ td > < td > Williams </ td > < td > ewilliamsi@deliciousdays.com </ td > < td > 67.208.26.182 </ td > < td ></ td > </ tr > < tr > < td > Catherine </ td > < td > Williams </ td > < td > cwilliamsl@360.cn </ td > < td > 154.87.204.51 </ td > < td ></ td > </ tr > < tr id = \"lasttr\" > < td >< input id = \"i1\" type = \"text\" class = \"form-control\" placeholder = \"Vorname\" /></ td > < td >< input id = \"i2\" type = \"text\" class = \"form-control\" placeholder = \"Nachname\" /></ td > < td >< input id = \"i3\" type = \"text\" class = \"form-control\" placeholder = \"E-Mail-Adresse\" /></ td > < td >< input id = \"i4\" type = \"text\" class = \"form-control\" placeholder = \"IP-Adresse\" /></ td > < td >< button type = \"button\" class = \"btn btn-secondary\" onclick = \"checkAndAdd()\" > Add </ button ></ td > </ tr > </ tbody > </ table > </ section > < section id = \"rechts\" class = \"col-12 col-lg-2\" >< h5 class = \"pt-3\" > rechts </ h5 ></ section > </ main > < footer > \u00dcbung 4 - J\u00f6rn Freiheit </ footer > </ div > < script > function checkAndAdd () { let inp1 = document . getElementById ( 'i1' ); // inputs[0] --> inp1 let inp1value = inp1 . value ; console . log ( inp1value ); let inputs = document . getElementsByTagName ( 'input' ); console . log ( inputs ); let inputOk = true ; for ( let i = 0 ; i < inputs . length ; i ++ ) { if ( inputs [ i ]. value === \"\" ) { inputOk = false ; inputs [ i ]. classList . add ( 'is-invalid' ); } else { inputs [ i ]. classList . remove ( 'is-invalid' ); } } if ( inputOk ) { let newTr = document . createElement ( 'tr' ); let td1 = document . createElement ( 'td' ); let td2 = document . createElement ( 'td' ); let td3 = document . createElement ( 'td' ); let td4 = document . createElement ( 'td' ); let td5 = document . createElement ( 'td' ); td1 . innerHTML = inputs [ 0 ]. value ; td2 . innerHTML = inputs [ 1 ]. value ; td3 . innerHTML = inputs [ 2 ]. value ; td4 . innerHTML = inputs [ 3 ]. value ; td5 . innerHTML = \"\" ; newTr . appendChild ( td1 ); newTr . appendChild ( td2 ); newTr . appendChild ( td3 ); newTr . appendChild ( td4 ); newTr . appendChild ( td5 ); let tbody = document . getElementById ( 'tbody' ); let lasttr = document . getElementById ( 'lasttr' ); let notFound = true ; let allTr = document . getElementById ( 'tbody' ). getElementsByTagName ( 'tr' ); for ( let i = 0 ; i < allTr . length && notFound ; i ++ ) { //console.log(allTr[i]); let curRow = allTr [ i ]; let allTd = allTr [ i ]. getElementsByTagName ( 'td' ); if ( allTd [ 1 ]. innerHTML > inputs [ 1 ]. value ) { console . log ( allTd [ 1 ]. innerHTML ); tbody . insertBefore ( newTr , curRow ); notFound = false ; } } if ( notFound ) tbody . insertBefore ( newTr , lasttr ); for ( let i = 0 ; i < inputs . length ; i ++ ) inputs [ i ]. value = \"\" ; inputs [ 0 ]. focus (); } } </ script > </ body > </ html > Video zu \u00dcbung 4 \u00dcbungsaufgabe 5 (JSON, Ajax) Laden Sie sich hier die Datei Uebung5.zip herunter und entpacken Sie sie. Es entsteht der Ordner Uebung5 . Dieser enth\u00e4lt eine Datei uebung5.html (bereits ausf\u00fchrbar), eine Datei staedte.json , die ein JSON enth\u00e4lt, das ausgelesen werden soll einen Ordner images , der Bilder enth\u00e4lt; die Referenzen darauf stehen im JSON Die Datei staedte.json enth\u00e4lt in JSON beschriebene Objekte der Form { \"jahr\" : 1237 , \"stadt\" : \"Berlin\" , \"link\" : \"http://de.wikipedia.org/wiki/Berlin\" , \"bild\" : \"images/berlin.png\" } Alle diese Objekte sind in einem Array. Die Aufgabe ist, die Datei uebung5.html so zu erweitern, dass eine Tabelle in der folgenden Form entsteht: \u00d6ffnen Sie die Datei uebung5.html in Ihrer IDE und starten Sie sie auch schonmal im Browser. Es sind bereits angelegt: ein input -Element und eine Tabelle mit \u00dcberschriften. Dies geschieht in der Funktion createTable() . Diese Funktion wird in der Ereignisbehandlung des load -Events aufgerufen (siehe <body> ). Sie sollen nun: eine Funktion schreiben, die die JSON-Datei mithilfe eines XMLHttpRequest -Objektes (oder mithilfe von fetch() ) vom Server l\u00e4dt \u2192 siehe XMLHttpRequest rufen Sie diese Funktion anstelle der createTable() als Ereignisbehandlung des load -Events auf speichern Sie in dieser Funktion das JSON in der globalen Variable staedte_obj (die Variable ist bereits deklariert, Sie k\u00f6nnen aber auch nochmal hier \u00fcber globale Variablen nachlesen) rufen Sie in dieser Funktion die createTable() -Funktion auf in der createTable() -Funktion sollten Sie sich zun\u00e4chst eine Variable staedte anlegen, die das Array referenziert ( staedte_obj referenziert das Objekt, welches das Array enth\u00e4lt) \u2192 siehe dazu z.B. hier und hier in der Funktion gibt es einen gro\u00dfen Blockkommentar. An dieser Stelle sollten Sie jedes einzelne Element (Objekt) des staedte -Arrays (numerisch indiziert) auslesen f\u00fcr jedes Element eine neue Tabellenzeile generieren jede einzelne Eigenschaft eines Elementes entsprechend verwenden, um das Jahr, die Stadt, einen Link (als Button) und ein Bild ( img ) als eigenes <td> -Element in der Zeile zu erstellen Filter : in das input -Feld kann eine Zahl oder der Name einer Stadt eingegeben werden. Nach jedem eingegeben Zeichen wird \u00fcberpr\u00fcft, ob es eine entsprechende Stadt (oder mehrere) gibt. Die Liste der passenden St\u00e4dte wird in der Tabelle angezeigt, z.B.: (alle St\u00e4dte, die mit Br anfangen): oder alle St\u00e4dte, deren Gr\u00fcndungsjahr mit 12 beginnt: Tipps: der im JSON gespeicherte Link f\u00fcr das Bild kann als Wert des src -Attributes eines <img> -Elementes verwendet werden; das Bild wird dann geladen definieren Sie f\u00fcr die Bilder ein style -Attribut f\u00fcr die H\u00f6he; w\u00e4hlen Sie height = '60px' f\u00fcr den Wert des alt -Attributes des Bildes w\u00e4hlen Sie erneut den Namen der Stadt der Link ist ein <a> -Element. Wenn Sie ihm die (Bootstrap-)CSS-Klassen btn , btn-sm und btn-success zuweisen, sieht er aus wie der \"Button\" auf dem Bild Filter : Eine Zahl ( number ) kann mithilfe der toString() -Methode in einen String umgewandelt werden (z.B. staedte[i].jahr.toString() ) Die L\u00e4nge eines Strings wird mithilfe von length ermittelt (z.B. input.length ) Ein Teilstring kann mithilfe der substring(start,end) -Methode erzeugt werden (z.B. staedte[i].stadt.substring(0,input.length) ) der Teilstring kann mit dem aktuellen Wert des input -Feldes verglichen werden Vergessen Sie nicht, als Ereignisbehandlung f\u00fcr das input -Element die createTable() -Methode aufzurufen! Welches Ereignis soll darin beahndelt werden? Viel Spa\u00df und viel Erfolg! Eine m\u00f6gliche L\u00f6sung f\u00fcr \u00dcbung 5 <!DOCTYPE html> < html > < head > < meta charset = \"UTF-8\" > < title > Staedte </ title > < meta name = \"viewport\" content = \"width=device-width, initial-scale=1\" > < link rel = \"stylesheet\" href = \"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css\" integrity = \"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2\" crossorigin = \"anonymous\" > </ head > < body onload = 'loadJSON(); document.getElementById(\"filter\").focus();' > < div class = \"container\" > < h1 > St\u00e4dte </ h1 > < form class = \"form-horizontal\" role = \"form\" > < div class = \"form-group row\" > < label for = \"filter\" class = \"col-form-label col-2\" > Filter: </ label > < div class = \"col-10\" > < input class = \"form-control\" id = \"filter\" type = \"text\" placeholder = \"Stadt oder Gruendungsjahr\" oninput = \"createTable()\" > </ div > </ div > </ form > < div id = \"table\" > </ div > < div id = \"unten\" ></ div > </ div > < script > var staedte_obj ; function loadJSON () { let xhttp = new XMLHttpRequest (); xhttp . onreadystatechange = function () { if ( this . readyState === 4 && this . status === 200 ) { staedte_obj = JSON . parse ( this . responseText ); createTable (); }}; xhttp . open ( \"GET\" , \"http://localhost/Webtech20/Uebungen/Uebung5/staedte.json\" , true ); xhttp . send (); } function createTable () { let staedte = staedte_obj . staedte ; let input = document . getElementById ( 'filter' ). value ; // eingegbene Daten (Formular) let tableDiv = document . getElementById ( 'table' ); if ( tableDiv . firstChild ) tableDiv . removeChild ( tableDiv . firstChild ); let table = document . createElement ( 'TABLE' ); table . setAttribute ( 'class' , 'table table-striped' ); // Bootstrap let thead = document . createElement ( 'THEAD' ); let tr = document . createElement ( 'TR' ); let th = document . createElement ( 'TH' ); let tbody = document . createElement ( 'TBODY' ); let td = document . createElement ( 'TD' ); let _tr = tr . cloneNode ( false ); // Variable f\u00fcr Clone von tr let _td = td . cloneNode ( false ); // Variable f\u00fcr Clone von td // ab hier Spalten\u00fcberschriften let _th = th . cloneNode ( false ); let _text = document . createTextNode ( 'Nr' ); _th . appendChild ( _text ); tr . appendChild ( _th ); _th = th . cloneNode ( false ); _text = document . createTextNode ( 'Jahr' ); _th . appendChild ( _text ); tr . appendChild ( _th ); _th = th . cloneNode ( false ); _text = document . createTextNode ( 'Stadt' ); _th . appendChild ( _text ); tr . appendChild ( _th ); _th = th . cloneNode ( false ); _text = document . createTextNode ( 'Link' ); _th . appendChild ( _text ); tr . appendChild ( _th ); _th = th . cloneNode ( false ); _text = document . createTextNode ( 'Bild' ); _th . appendChild ( _text ); tr . appendChild ( _th ); thead . appendChild ( tr ); // Spaltenueberschriften an thead haengen table . appendChild ( thead ); // thead an die Tabelle haengen // hier muessen jetzt die einzelnen Zeilen in die Tabelle eingelesen werden // das JSON-Array muss ausgelesen werden (for(let i=0; i<staedte.length; i++)) // Tipp: zun\u00e4chst einfach alle anzeigen lassen und erst dann das Filtern einbauen // Filtern: die Eingabe mit dem jeweiligen Gr\u00fcndungsjahr bzw. der jeweiligen Stadt // vergleichen // wenn match, dann entsprechende Zeile einf\u00fcgen for ( let i = 0 ; i < staedte . length ; i ++ ) { if ( staedte [ i ]. stadt . substring ( 0 , input . length ). toLowerCase () == input . toLowerCase () || staedte [ i ]. jahr . toString (). substring ( 0 , input . length ) == input ) { console . log ( input . toLowerCase () + \" : \" + staedte [ i ]. stadt . substring ( 0 , input . length ). toLowerCase ()); _tr = tr . cloneNode ( false ); _td = td . cloneNode ( false ); _text = document . createTextNode ( i + 1 ); _td . appendChild ( _text ); _tr . appendChild ( _td ); _td = td . cloneNode ( false ); _text = document . createTextNode ( staedte [ i ]. jahr ); _td . appendChild ( _text ); _tr . appendChild ( _td ); _td = td . cloneNode ( false ); _text = document . createTextNode ( staedte [ i ]. stadt ); _td . appendChild ( _text ); _tr . appendChild ( _td ); _td = td . cloneNode ( false ); let a = document . createElement ( 'a' ); a . classList . add ( 'btn' , 'btn-sm' , 'btn-success' ); a . href = staedte [ i ]. link ; a . innerHTML = \"Info\" ; a . setAttribute ( 'target' , '_blank' ); _td . appendChild ( a ); _tr . appendChild ( _td ); _td = td . cloneNode ( false ); let img = document . createElement ( 'img' ); img . setAttribute ( 'alt' , staedte [ i ]. stadt ); img . src = staedte [ i ]. bild ; img . style . height = '60px' ; img . addEventListener ( 'click' , cloneImg . bind ( this )); // ist zusaetzlich, war in der Azfgabe nicht gefordert _td . appendChild ( img ); _tr . appendChild ( _td ); tbody . appendChild ( _tr ); } } table . appendChild ( thead ); table . appendChild ( tbody ); tableDiv . appendChild ( table ); } // hier noch eine Funktion, die das Bild, auf das geklickt wurde, in // das Div \"unten\" clont --> Zusatz (nicht gefordert in Aufgabe) function cloneImg ( event ) { let div = document . getElementById ( 'unten' ); let bild = event . target . cloneNode ( true ); let name = bild . alt ; console . log ( name ); //let bild = img.cloneNode(true); images = div . childNodes ; console . log ( images . length ); inserted = false ; for ( let i = 0 ; i < images . length && ! inserted ; i ++ ) { let img = images [ i ]; console . log ( img . alt ); if ( bild . alt . localeCompare ( img . alt ) < 0 ) { div . insertBefore ( bild , img ); inserted = true ; } } if ( images . length == 0 || ! inserted ) { div . appendChild ( bild ); } } </ script > </ body > </ html > Video zu \u00dcbung 5 \u00dcbungsaufgabe 6 Arbeiten Sie im Abschnitt Angular die Abschnitte Erstes Projekt erstellen und Angular-Projektstruktur durch. Erstellen Sie in Ihrem Repository mithilfe von ng new frontend ein neues Angular-Projekt. Bei der Frage, ob \" enforce stricter type checking\" k\u00f6nnen Sie mit N antworten. Antworten Sie bei \" Routing \" mit y und beim \" Stylesheet \" mit Enter ( CSS .). Es entsteht ein Ordner frontend`. Wenn Sie frontend in Ihrem Repository erzeugt haben, dann k\u00f6nnen Sie den .git -Ordner in frontend l\u00f6schen: cd frontend rm -rf .git Aber nicht die .gitignore l\u00f6schen! \u00c4ndern Sie Ihr Projektprefix von app auf Ihre Initialen (siehe Angular\u2192Prefix \u00e4ndern ) Installieren Sie f\u00fcr Ihre Angular-Anwendung das CSS-Framework Material . Geben Sie dazu in Ihrem frontend -Ordner im Terminal ng add @angular/material ein. W\u00e4hlen Sie ein prebuilt theme Ihrer Wahl ( Indigo/pink ist ok) und beantworten Sie die Fragen nach den typography styles und den browser animations jeweils mit y . \u00d6ffnen Sie in Ihrer IDE die Datei src/app/app.component.html und l\u00f6schen Sie allles au\u00dfer <router-outlet></router-outlet> und geben Sie oberhalb des router-outlet> -Selektors die Zeile <h1>This is app</h1> und dann noch die Zeile <mat-slider min=\"1\" max=\"100\" step=\"1\" value=\"1\"></mat-slider> ein. Die Datei app.component.html sieht dann so aus: src/app/app.component.html 1 2 3 < h1 > This is app </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < router-outlet ></ router-outlet > Editieren Sie au\u00dferdem die Datei src/app/app.module.ts wie folgt (hinzugekommene Zeilen hervorgehoben - Es gen\u00fcgt, wenn Sie zun\u00e4chst Zeile 17 eingeben und dann der IDE das Einf\u00fcgen von Zeile 7 \u00fcberlassen): src/app/app.module.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import { BrowserModule } from '@angular/platform-browser' ; import { NgModule } from '@angular/core' ; import { AppRoutingModule } from './app-routing.module' ; import { AppComponent } from './app.component' ; import { BrowserAnimationsModule } from '@angular/platform-browser/animations' ; import { MatSliderModule } from '@angular/material/slider' ; @ NgModule ({ declarations : [ AppComponent ], imports : [ BrowserModule , AppRoutingModule , BrowserAnimationsModule , MatSliderModule , ], providers : [], bootstrap : [ AppComponent ] }) export class AppModule { } Ihre Seite ( http://localhost:4200/ ) sollte nun so aussehen: Sie m\u00fcssen jetzt immer compileren! Wenn Sie aber einmal ng serve ausgef\u00fchrt haben, wird im Browser automatisch auf die \u00c4nderungen reagiert. Sie m\u00fcssen also nicht jedes Mal neu ng serve eingeben, bzw. nicht jedes Mal neu auf das gr\u00fcne Dreieck in Ihrer IDE klicken: Geben Sie im Terminal im frontend -Ordner nun ng generate @angular/material:navigation nav Damit erstellen Sie eine Komponente namens nav , die einer von Material vorgefertigte Navigationskomponente entspricht. Erg\u00e4nzen Sie in der app.component.html noch (Sie m\u00fcssen Ihren Prefix verwenden): src/app/app.component.html 1 2 3 4 < jf-nav ></ jf-nav > < h1 > This is app </ h1 > < mat-slider min = \"1\" max = \"100\" step = \"1\" value = \"1\" ></ mat-slider > < router-outlet ></ router-outlet >< router-outlet ></ router-outlet > Achtung! Ihr Komponentenselektor hei\u00dft anders ( Initialen -nav ) - siehe in src/app/nav/nav.component.ts : src/app/nav/nav.component.ts 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import { Component } from '@angular/core' ; import { BreakpointObserver , Breakpoints } from '@angular/cdk/layout' ; import { Observable } from 'rxjs' ; import { map , shareReplay } from 'rxjs/operators' ; @Component ({ selector : 'jf-nav' , templateUrl : './nav.component.html' , styleUrls : [ './nav.component.css' ] }) export class NavComponent { isHandset$ : Observable < boolean > = this . breakpointObserver . observe ( Breakpoints . Handset ) . pipe ( map ( result => result . matches ), shareReplay () ); constructor ( private breakpointObserver : BreakpointObserver ) {} } Ihre Seite sollte nun so aussehen: bzw. bei schmalerem Viewport: \u00dcbungsaufgabe 7 Arbeiten Sie den Abschnitt Material vollst\u00e4ndig durch und erweitern Sie Ihr Frontend entsprechend. \u00dcbungsaufgabe 8 Arbeiten Sie den Abschnitt REST-API vollst\u00e4ndig durch und erstellen Sie ein Backend (REST-Server) f\u00fcr die Bereitstellung der CRUD-Funktionalit\u00e4ten \u00fcber unsere Mockup-Daten. Speichern Sie diese Daten in einer MySQL-Datenbank. \u00dcbungsaufgabe 9 Arbeiten Sie den Abschnitt Anbindung an das Backend vollst\u00e4ndig durch und erstellen Sie ein Frontend, das an das im Abschnitt REST-API erstellte Backend insofern angebunden ist, dass Sie bereits die Endpunkte GET localhost:3000/members und GET localhost:3000/members/id angebunden haben und alle Datens\u00e4tze geeignet (z.B. in einer Tablle) darstellen und einzelne Datens\u00e4tze ebenso (z.B. in einem Formular). Sie m\u00fcssen das Frontend nicht zwingend neu erstellen - sie k\u00f6nnen auch Ihr bisheriges Frontend entsprechend anpassen. Sie m\u00fcssen auch nicht zwingend Bootstrap verwenden - Sie k\u00f6nnen gerne auch alles mit Material stylen, wenn Sie m\u00f6chten (oder einem anderen CSS-Framework).","title":"\u00dcbungen"}]}